var QP=Object.defineProperty;var c1=r=>{throw TypeError(r)};var ZP=(r,t,e)=>t in r?QP(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e;var Rt=(r,t,e)=>ZP(r,typeof t!="symbol"?t+"":t,e),Ev=(r,t,e)=>t.has(r)||c1("Cannot "+e);var h=(r,t,e)=>(Ev(r,t,"read from private field"),e?e.call(r):t.get(r)),T=(r,t,e)=>t.has(r)?c1("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(r):t.set(r,e),x=(r,t,e,n)=>(Ev(r,t,"write to private field"),n?n.call(r,e):t.set(r,e),e),b=(r,t,e)=>(Ev(r,t,"access private method"),e);var On=(r,t,e,n)=>({set _(o){x(r,t,o,e)},get _(){return h(r,t,n)}});(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))n(o);new MutationObserver(o=>{for(const a of o)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function e(o){const a={};return o.integrity&&(a.integrity=o.integrity),o.referrerPolicy&&(a.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?a.credentials="include":o.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(o){if(o.ep)return;o.ep=!0;const a=e(o);fetch(o.href,a)}})();function h_(r){return r&&r.__esModule&&Object.prototype.hasOwnProperty.call(r,"default")?r.default:r}var _v={exports:{}},mc={},xv={exports:{}},Lt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h1;function JP(){if(h1)return Lt;h1=1;var r=Symbol.for("react.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function y(I){return I===null||typeof I!="object"?null:(I=v&&I[v]||I["@@iterator"],typeof I=="function"?I:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S=Object.assign,_={};function P(I,U,lt){this.props=I,this.context=U,this.refs=_,this.updater=lt||A}P.prototype.isReactComponent={},P.prototype.setState=function(I,U){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,U,"setState")},P.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function C(){}C.prototype=P.prototype;function R(I,U,lt){this.props=I,this.context=U,this.refs=_,this.updater=lt||A}var M=R.prototype=new C;M.constructor=R,S(M,P.prototype),M.isPureReactComponent=!0;var F=Array.isArray,O=Object.prototype.hasOwnProperty,V={current:null},W={key:!0,ref:!0,__self:!0,__source:!0};function H(I,U,lt){var wt,Tt={},Et=null,gt=null;if(U!=null)for(wt in U.ref!==void 0&&(gt=U.ref),U.key!==void 0&&(Et=""+U.key),U)O.call(U,wt)&&!W.hasOwnProperty(wt)&&(Tt[wt]=U[wt]);var kt=arguments.length-2;if(kt===1)Tt.children=lt;else if(1<kt){for(var Ot=Array(kt),Ft=0;Ft<kt;Ft++)Ot[Ft]=arguments[Ft+2];Tt.children=Ot}if(I&&I.defaultProps)for(wt in kt=I.defaultProps,kt)Tt[wt]===void 0&&(Tt[wt]=kt[wt]);return{$$typeof:r,type:I,key:Et,ref:gt,props:Tt,_owner:V.current}}function Y(I,U){return{$$typeof:r,type:I.type,key:U,ref:I.ref,props:I.props,_owner:I._owner}}function et(I){return typeof I=="object"&&I!==null&&I.$$typeof===r}function tt(I){var U={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(lt){return U[lt]})}var _t=/\/+/g;function pt(I,U){return typeof I=="object"&&I!==null&&I.key!=null?tt(""+I.key):U.toString(36)}function ht(I,U,lt,wt,Tt){var Et=typeof I;(Et==="undefined"||Et==="boolean")&&(I=null);var gt=!1;if(I===null)gt=!0;else switch(Et){case"string":case"number":gt=!0;break;case"object":switch(I.$$typeof){case r:case t:gt=!0}}if(gt)return gt=I,Tt=Tt(gt),I=wt===""?"."+pt(gt,0):wt,F(Tt)?(lt="",I!=null&&(lt=I.replace(_t,"$&/")+"/"),ht(Tt,U,lt,"",function(Ft){return Ft})):Tt!=null&&(et(Tt)&&(Tt=Y(Tt,lt+(!Tt.key||gt&&gt.key===Tt.key?"":(""+Tt.key).replace(_t,"$&/")+"/")+I)),U.push(Tt)),1;if(gt=0,wt=wt===""?".":wt+":",F(I))for(var kt=0;kt<I.length;kt++){Et=I[kt];var Ot=wt+pt(Et,kt);gt+=ht(Et,U,lt,Ot,Tt)}else if(Ot=y(I),typeof Ot=="function")for(I=Ot.call(I),kt=0;!(Et=I.next()).done;)Et=Et.value,Ot=wt+pt(Et,kt++),gt+=ht(Et,U,lt,Ot,Tt);else if(Et==="object")throw U=String(I),Error("Objects are not valid as a React child (found: "+(U==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":U)+"). If you meant to render a collection of children, use an array instead.");return gt}function xt(I,U,lt){if(I==null)return I;var wt=[],Tt=0;return ht(I,wt,"","",function(Et){return U.call(lt,Et,Tt++)}),wt}function St(I){if(I._status===-1){var U=I._result;U=U(),U.then(function(lt){(I._status===0||I._status===-1)&&(I._status=1,I._result=lt)},function(lt){(I._status===0||I._status===-1)&&(I._status=2,I._result=lt)}),I._status===-1&&(I._status=0,I._result=U)}if(I._status===1)return I._result.default;throw I._result}var G={current:null},z={transition:null},rt={ReactCurrentDispatcher:G,ReactCurrentBatchConfig:z,ReactCurrentOwner:V};function J(){throw Error("act(...) is not supported in production builds of React.")}return Lt.Children={map:xt,forEach:function(I,U,lt){xt(I,function(){U.apply(this,arguments)},lt)},count:function(I){var U=0;return xt(I,function(){U++}),U},toArray:function(I){return xt(I,function(U){return U})||[]},only:function(I){if(!et(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},Lt.Component=P,Lt.Fragment=e,Lt.Profiler=o,Lt.PureComponent=R,Lt.StrictMode=n,Lt.Suspense=d,Lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=rt,Lt.act=J,Lt.cloneElement=function(I,U,lt){if(I==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+I+".");var wt=S({},I.props),Tt=I.key,Et=I.ref,gt=I._owner;if(U!=null){if(U.ref!==void 0&&(Et=U.ref,gt=V.current),U.key!==void 0&&(Tt=""+U.key),I.type&&I.type.defaultProps)var kt=I.type.defaultProps;for(Ot in U)O.call(U,Ot)&&!W.hasOwnProperty(Ot)&&(wt[Ot]=U[Ot]===void 0&&kt!==void 0?kt[Ot]:U[Ot])}var Ot=arguments.length-2;if(Ot===1)wt.children=lt;else if(1<Ot){kt=Array(Ot);for(var Ft=0;Ft<Ot;Ft++)kt[Ft]=arguments[Ft+2];wt.children=kt}return{$$typeof:r,type:I.type,key:Tt,ref:Et,props:wt,_owner:gt}},Lt.createContext=function(I){return I={$$typeof:l,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},I.Provider={$$typeof:a,_context:I},I.Consumer=I},Lt.createElement=H,Lt.createFactory=function(I){var U=H.bind(null,I);return U.type=I,U},Lt.createRef=function(){return{current:null}},Lt.forwardRef=function(I){return{$$typeof:c,render:I}},Lt.isValidElement=et,Lt.lazy=function(I){return{$$typeof:m,_payload:{_status:-1,_result:I},_init:St}},Lt.memo=function(I,U){return{$$typeof:p,type:I,compare:U===void 0?null:U}},Lt.startTransition=function(I){var U=z.transition;z.transition={};try{I()}finally{z.transition=U}},Lt.unstable_act=J,Lt.useCallback=function(I,U){return G.current.useCallback(I,U)},Lt.useContext=function(I){return G.current.useContext(I)},Lt.useDebugValue=function(){},Lt.useDeferredValue=function(I){return G.current.useDeferredValue(I)},Lt.useEffect=function(I,U){return G.current.useEffect(I,U)},Lt.useId=function(){return G.current.useId()},Lt.useImperativeHandle=function(I,U,lt){return G.current.useImperativeHandle(I,U,lt)},Lt.useInsertionEffect=function(I,U){return G.current.useInsertionEffect(I,U)},Lt.useLayoutEffect=function(I,U){return G.current.useLayoutEffect(I,U)},Lt.useMemo=function(I,U){return G.current.useMemo(I,U)},Lt.useReducer=function(I,U,lt){return G.current.useReducer(I,U,lt)},Lt.useRef=function(I){return G.current.useRef(I)},Lt.useState=function(I){return G.current.useState(I)},Lt.useSyncExternalStore=function(I,U,lt){return G.current.useSyncExternalStore(I,U,lt)},Lt.useTransition=function(){return G.current.useTransition()},Lt.version="18.3.1",Lt}var d1;function k0(){return d1||(d1=1,xv.exports=JP()),xv.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f1;function tk(){if(f1)return mc;f1=1;var r=k0(),t=Symbol.for("react.element"),e=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,d,p){var m,v={},y=null,A=null;p!==void 0&&(y=""+p),d.key!==void 0&&(y=""+d.key),d.ref!==void 0&&(A=d.ref);for(m in d)n.call(d,m)&&!a.hasOwnProperty(m)&&(v[m]=d[m]);if(c&&c.defaultProps)for(m in d=c.defaultProps,d)v[m]===void 0&&(v[m]=d[m]);return{$$typeof:t,type:c,key:y,ref:A,props:v,_owner:o.current}}return mc.Fragment=e,mc.jsx=l,mc.jsxs=l,mc}var p1;function ek(){return p1||(p1=1,_v.exports=tk()),_v.exports}var Q=ek(),$=k0();const La=h_($);var Gf={},bv={exports:{}},xn={},Cv={exports:{}},Tv={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m1;function nk(){return m1||(m1=1,function(r){function t(z,rt){var J=z.length;z.push(rt);t:for(;0<J;){var I=J-1>>>1,U=z[I];if(0<o(U,rt))z[I]=rt,z[J]=U,J=I;else break t}}function e(z){return z.length===0?null:z[0]}function n(z){if(z.length===0)return null;var rt=z[0],J=z.pop();if(J!==rt){z[0]=J;t:for(var I=0,U=z.length,lt=U>>>1;I<lt;){var wt=2*(I+1)-1,Tt=z[wt],Et=wt+1,gt=z[Et];if(0>o(Tt,J))Et<U&&0>o(gt,Tt)?(z[I]=gt,z[Et]=J,I=Et):(z[I]=Tt,z[wt]=J,I=wt);else if(Et<U&&0>o(gt,J))z[I]=gt,z[Et]=J,I=Et;else break t}}return rt}function o(z,rt){var J=z.sortIndex-rt.sortIndex;return J!==0?J:z.id-rt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;r.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();r.unstable_now=function(){return l.now()-c}}var d=[],p=[],m=1,v=null,y=3,A=!1,S=!1,_=!1,P=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(z){for(var rt=e(p);rt!==null;){if(rt.callback===null)n(p);else if(rt.startTime<=z)n(p),rt.sortIndex=rt.expirationTime,t(d,rt);else break;rt=e(p)}}function F(z){if(_=!1,M(z),!S)if(e(d)!==null)S=!0,St(O);else{var rt=e(p);rt!==null&&G(F,rt.startTime-z)}}function O(z,rt){S=!1,_&&(_=!1,C(H),H=-1),A=!0;var J=y;try{for(M(rt),v=e(d);v!==null&&(!(v.expirationTime>rt)||z&&!tt());){var I=v.callback;if(typeof I=="function"){v.callback=null,y=v.priorityLevel;var U=I(v.expirationTime<=rt);rt=r.unstable_now(),typeof U=="function"?v.callback=U:v===e(d)&&n(d),M(rt)}else n(d);v=e(d)}if(v!==null)var lt=!0;else{var wt=e(p);wt!==null&&G(F,wt.startTime-rt),lt=!1}return lt}finally{v=null,y=J,A=!1}}var V=!1,W=null,H=-1,Y=5,et=-1;function tt(){return!(r.unstable_now()-et<Y)}function _t(){if(W!==null){var z=r.unstable_now();et=z;var rt=!0;try{rt=W(!0,z)}finally{rt?pt():(V=!1,W=null)}}else V=!1}var pt;if(typeof R=="function")pt=function(){R(_t)};else if(typeof MessageChannel<"u"){var ht=new MessageChannel,xt=ht.port2;ht.port1.onmessage=_t,pt=function(){xt.postMessage(null)}}else pt=function(){P(_t,0)};function St(z){W=z,V||(V=!0,pt())}function G(z,rt){H=P(function(){z(r.unstable_now())},rt)}r.unstable_IdlePriority=5,r.unstable_ImmediatePriority=1,r.unstable_LowPriority=4,r.unstable_NormalPriority=3,r.unstable_Profiling=null,r.unstable_UserBlockingPriority=2,r.unstable_cancelCallback=function(z){z.callback=null},r.unstable_continueExecution=function(){S||A||(S=!0,St(O))},r.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<z?Math.floor(1e3/z):5},r.unstable_getCurrentPriorityLevel=function(){return y},r.unstable_getFirstCallbackNode=function(){return e(d)},r.unstable_next=function(z){switch(y){case 1:case 2:case 3:var rt=3;break;default:rt=y}var J=y;y=rt;try{return z()}finally{y=J}},r.unstable_pauseExecution=function(){},r.unstable_requestPaint=function(){},r.unstable_runWithPriority=function(z,rt){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var J=y;y=z;try{return rt()}finally{y=J}},r.unstable_scheduleCallback=function(z,rt,J){var I=r.unstable_now();switch(typeof J=="object"&&J!==null?(J=J.delay,J=typeof J=="number"&&0<J?I+J:I):J=I,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=J+U,z={id:m++,callback:rt,priorityLevel:z,startTime:J,expirationTime:U,sortIndex:-1},J>I?(z.sortIndex=J,t(p,z),e(d)===null&&z===e(p)&&(_?(C(H),H=-1):_=!0,G(F,J-I))):(z.sortIndex=U,t(d,z),S||A||(S=!0,St(O))),z},r.unstable_shouldYield=tt,r.unstable_wrapCallback=function(z){var rt=y;return function(){var J=y;y=rt;try{return z.apply(this,arguments)}finally{y=J}}}}(Tv)),Tv}var g1;function ik(){return g1||(g1=1,Cv.exports=nk()),Cv.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v1;function sk(){if(v1)return xn;v1=1;var r=k0(),t=ik();function e(i){for(var s="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)s+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+s+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,o={};function a(i,s){l(i,s),l(i+"Capture",s)}function l(i,s){for(o[i]=s,i=0;i<s.length;i++)n.add(s[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),d=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function y(i){return d.call(v,i)?!0:d.call(m,i)?!1:p.test(i)?v[i]=!0:(m[i]=!0,!1)}function A(i,s,u,f){if(u!==null&&u.type===0)return!1;switch(typeof s){case"function":case"symbol":return!0;case"boolean":return f?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function S(i,s,u,f){if(s===null||typeof s>"u"||A(i,s,u,f))return!0;if(f)return!1;if(u!==null)switch(u.type){case 3:return!s;case 4:return s===!1;case 5:return isNaN(s);case 6:return isNaN(s)||1>s}return!1}function _(i,s,u,f,g,w,E){this.acceptsBooleans=s===2||s===3||s===4,this.attributeName=f,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=s,this.sanitizeURL=w,this.removeEmptyString=E}var P={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){P[i]=new _(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var s=i[0];P[s]=new _(s,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){P[i]=new _(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){P[i]=new _(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){P[i]=new _(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){P[i]=new _(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){P[i]=new _(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){P[i]=new _(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){P[i]=new _(i,5,!1,i.toLowerCase(),null,!1,!1)});var C=/[\-:]([a-z])/g;function R(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var s=i.replace(C,R);P[s]=new _(s,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var s=i.replace(C,R);P[s]=new _(s,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var s=i.replace(C,R);P[s]=new _(s,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){P[i]=new _(i,1,!1,i.toLowerCase(),null,!1,!1)}),P.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){P[i]=new _(i,1,!1,i.toLowerCase(),null,!0,!0)});function M(i,s,u,f){var g=P.hasOwnProperty(s)?P[s]:null;(g!==null?g.type!==0:f||!(2<s.length)||s[0]!=="o"&&s[0]!=="O"||s[1]!=="n"&&s[1]!=="N")&&(S(s,u,g,f)&&(u=null),f||g===null?y(s)&&(u===null?i.removeAttribute(s):i.setAttribute(s,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(s=g.attributeName,f=g.attributeNamespace,u===null?i.removeAttribute(s):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,f?i.setAttributeNS(f,s,u):i.setAttribute(s,u))))}var F=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),V=Symbol.for("react.portal"),W=Symbol.for("react.fragment"),H=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),et=Symbol.for("react.provider"),tt=Symbol.for("react.context"),_t=Symbol.for("react.forward_ref"),pt=Symbol.for("react.suspense"),ht=Symbol.for("react.suspense_list"),xt=Symbol.for("react.memo"),St=Symbol.for("react.lazy"),G=Symbol.for("react.offscreen"),z=Symbol.iterator;function rt(i){return i===null||typeof i!="object"?null:(i=z&&i[z]||i["@@iterator"],typeof i=="function"?i:null)}var J=Object.assign,I;function U(i){if(I===void 0)try{throw Error()}catch(u){var s=u.stack.trim().match(/\n( *(at )?)/);I=s&&s[1]||""}return`
`+I+i}var lt=!1;function wt(i,s){if(!i||lt)return"";lt=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(s)if(s=function(){throw Error()},Object.defineProperty(s.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(s,[])}catch(B){var f=B}Reflect.construct(i,[],s)}else{try{s.call()}catch(B){f=B}i.call(s.prototype)}else{try{throw Error()}catch(B){f=B}i()}}catch(B){if(B&&f&&typeof B.stack=="string"){for(var g=B.stack.split(`
`),w=f.stack.split(`
`),E=g.length-1,k=w.length-1;1<=E&&0<=k&&g[E]!==w[k];)k--;for(;1<=E&&0<=k;E--,k--)if(g[E]!==w[k]){if(E!==1||k!==1)do if(E--,k--,0>k||g[E]!==w[k]){var L=`
`+g[E].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=E&&0<=k);break}}}finally{lt=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?U(i):""}function Tt(i){switch(i.tag){case 5:return U(i.type);case 16:return U("Lazy");case 13:return U("Suspense");case 19:return U("SuspenseList");case 0:case 2:case 15:return i=wt(i.type,!1),i;case 11:return i=wt(i.type.render,!1),i;case 1:return i=wt(i.type,!0),i;default:return""}}function Et(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case W:return"Fragment";case V:return"Portal";case Y:return"Profiler";case H:return"StrictMode";case pt:return"Suspense";case ht:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case tt:return(i.displayName||"Context")+".Consumer";case et:return(i._context.displayName||"Context")+".Provider";case _t:var s=i.render;return i=i.displayName,i||(i=s.displayName||s.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case xt:return s=i.displayName||null,s!==null?s:Et(i.type)||"Memo";case St:s=i._payload,i=i._init;try{return Et(i(s))}catch{}}return null}function gt(i){var s=i.type;switch(i.tag){case 24:return"Cache";case 9:return(s.displayName||"Context")+".Consumer";case 10:return(s._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=s.render,i=i.displayName||i.name||"",s.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return s;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Et(s);case 8:return s===H?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s}return null}function kt(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Ot(i){var s=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(s==="checkbox"||s==="radio")}function Ft(i){var s=Ot(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,s),f=""+i[s];if(!i.hasOwnProperty(s)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,w=u.set;return Object.defineProperty(i,s,{configurable:!0,get:function(){return g.call(this)},set:function(E){f=""+E,w.call(this,E)}}),Object.defineProperty(i,s,{enumerable:u.enumerable}),{getValue:function(){return f},setValue:function(E){f=""+E},stopTracking:function(){i._valueTracker=null,delete i[s]}}}}function Fi(i){i._valueTracker||(i._valueTracker=Ft(i))}function lr(i){if(!i)return!1;var s=i._valueTracker;if(!s)return!0;var u=s.getValue(),f="";return i&&(f=Ot(i)?i.checked?"true":"false":i.value),i=f,i!==u?(s.setValue(i),!0):!1}function Ut(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function re(i,s){var u=s.checked;return J({},s,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function xe(i,s){var u=s.defaultValue==null?"":s.defaultValue,f=s.checked!=null?s.checked:s.defaultChecked;u=kt(s.value!=null?s.value:u),i._wrapperState={initialChecked:f,initialValue:u,controlled:s.type==="checkbox"||s.type==="radio"?s.checked!=null:s.value!=null}}function me(i,s){s=s.checked,s!=null&&M(i,"checked",s,!1)}function Oi(i,s){me(i,s);var u=kt(s.value),f=s.type;if(u!=null)f==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(f==="submit"||f==="reset"){i.removeAttribute("value");return}s.hasOwnProperty("value")?Ru(i,s.type,u):s.hasOwnProperty("defaultValue")&&Ru(i,s.type,kt(s.defaultValue)),s.checked==null&&s.defaultChecked!=null&&(i.defaultChecked=!!s.defaultChecked)}function ur(i,s,u){if(s.hasOwnProperty("value")||s.hasOwnProperty("defaultValue")){var f=s.type;if(!(f!=="submit"&&f!=="reset"||s.value!==void 0&&s.value!==null))return;s=""+i._wrapperState.initialValue,u||s===i.value||(i.value=s),i.defaultValue=s}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Ru(i,s,u){(s!=="number"||Ut(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var co=Array.isArray;function hi(i,s,u,f){if(i=i.options,s){s={};for(var g=0;g<u.length;g++)s["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=s.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&f&&(i[u].defaultSelected=!0)}else{for(u=""+kt(u),s=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,f&&(i[g].defaultSelected=!0);return}s!==null||i[g].disabled||(s=i[g])}s!==null&&(s.selected=!0)}}function Lu(i,s){if(s.dangerouslySetInnerHTML!=null)throw Error(e(91));return J({},s,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Id(i,s){var u=s.value;if(u==null){if(u=s.children,s=s.defaultValue,u!=null){if(s!=null)throw Error(e(92));if(co(u)){if(1<u.length)throw Error(e(93));u=u[0]}s=u}s==null&&(s=""),u=s}i._wrapperState={initialValue:kt(u)}}function Fd(i,s){var u=kt(s.value),f=kt(s.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),s.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),f!=null&&(i.defaultValue=""+f)}function Od(i){var s=i.textContent;s===i._wrapperState.initialValue&&s!==""&&s!==null&&(i.value=s)}function Nd(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Ni(i,s){return i==null||i==="http://www.w3.org/1999/xhtml"?Nd(s):i==="http://www.w3.org/2000/svg"&&s==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var hs,ho=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(s,u,f,g){MSApp.execUnsafeLocalFunction(function(){return i(s,u,f,g)})}:i}(function(i,s){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=s;else{for(hs=hs||document.createElement("div"),hs.innerHTML="<svg>"+s.valueOf().toString()+"</svg>",s=hs.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;s.firstChild;)i.appendChild(s.firstChild)}});function ds(i,s){if(s){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=s;return}}i.textContent=s}var Mu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},eT=["Webkit","ms","Moz","O"];Object.keys(Mu).forEach(function(i){eT.forEach(function(s){s=s+i.charAt(0).toUpperCase()+i.substring(1),Mu[s]=Mu[i]})});function bw(i,s,u){return s==null||typeof s=="boolean"||s===""?"":u||typeof s!="number"||s===0||Mu.hasOwnProperty(i)&&Mu[i]?(""+s).trim():s+"px"}function Cw(i,s){i=i.style;for(var u in s)if(s.hasOwnProperty(u)){var f=u.indexOf("--")===0,g=bw(u,s[u],f);u==="float"&&(u="cssFloat"),f?i.setProperty(u,g):i[u]=g}}var nT=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Im(i,s){if(s){if(nT[i]&&(s.children!=null||s.dangerouslySetInnerHTML!=null))throw Error(e(137,i));if(s.dangerouslySetInnerHTML!=null){if(s.children!=null)throw Error(e(60));if(typeof s.dangerouslySetInnerHTML!="object"||!("__html"in s.dangerouslySetInnerHTML))throw Error(e(61))}if(s.style!=null&&typeof s.style!="object")throw Error(e(62))}}function Fm(i,s){if(i.indexOf("-")===-1)return typeof s.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Om=null;function Nm(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var jm=null,Ua=null,$a=null;function Tw(i){if(i=tc(i)){if(typeof jm!="function")throw Error(e(280));var s=i.stateNode;s&&(s=af(s),jm(i.stateNode,i.type,s))}}function Pw(i){Ua?$a?$a.push(i):$a=[i]:Ua=i}function kw(){if(Ua){var i=Ua,s=$a;if($a=Ua=null,Tw(i),s)for(i=0;i<s.length;i++)Tw(s[i])}}function Rw(i,s){return i(s)}function Lw(){}var Vm=!1;function Mw(i,s,u){if(Vm)return i(s,u);Vm=!0;try{return Rw(i,s,u)}finally{Vm=!1,(Ua!==null||$a!==null)&&(Lw(),kw())}}function Du(i,s){var u=i.stateNode;if(u===null)return null;var f=af(u);if(f===null)return null;u=f[s];t:switch(s){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(f=!f.disabled)||(i=i.type,f=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!f;break t;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(e(231,s,typeof u));return u}var Bm=!1;if(c)try{var Iu={};Object.defineProperty(Iu,"passive",{get:function(){Bm=!0}}),window.addEventListener("test",Iu,Iu),window.removeEventListener("test",Iu,Iu)}catch{Bm=!1}function iT(i,s,u,f,g,w,E,k,L){var B=Array.prototype.slice.call(arguments,3);try{s.apply(u,B)}catch(K){this.onError(K)}}var Fu=!1,jd=null,Vd=!1,zm=null,sT={onError:function(i){Fu=!0,jd=i}};function rT(i,s,u,f,g,w,E,k,L){Fu=!1,jd=null,iT.apply(sT,arguments)}function oT(i,s,u,f,g,w,E,k,L){if(rT.apply(this,arguments),Fu){if(Fu){var B=jd;Fu=!1,jd=null}else throw Error(e(198));Vd||(Vd=!0,zm=B)}}function fo(i){var s=i,u=i;if(i.alternate)for(;s.return;)s=s.return;else{i=s;do s=i,s.flags&4098&&(u=s.return),i=s.return;while(i)}return s.tag===3?u:null}function Dw(i){if(i.tag===13){var s=i.memoizedState;if(s===null&&(i=i.alternate,i!==null&&(s=i.memoizedState)),s!==null)return s.dehydrated}return null}function Iw(i){if(fo(i)!==i)throw Error(e(188))}function aT(i){var s=i.alternate;if(!s){if(s=fo(i),s===null)throw Error(e(188));return s!==i?null:i}for(var u=i,f=s;;){var g=u.return;if(g===null)break;var w=g.alternate;if(w===null){if(f=g.return,f!==null){u=f;continue}break}if(g.child===w.child){for(w=g.child;w;){if(w===u)return Iw(g),i;if(w===f)return Iw(g),s;w=w.sibling}throw Error(e(188))}if(u.return!==f.return)u=g,f=w;else{for(var E=!1,k=g.child;k;){if(k===u){E=!0,u=g,f=w;break}if(k===f){E=!0,f=g,u=w;break}k=k.sibling}if(!E){for(k=w.child;k;){if(k===u){E=!0,u=w,f=g;break}if(k===f){E=!0,f=w,u=g;break}k=k.sibling}if(!E)throw Error(e(189))}}if(u.alternate!==f)throw Error(e(190))}if(u.tag!==3)throw Error(e(188));return u.stateNode.current===u?i:s}function Fw(i){return i=aT(i),i!==null?Ow(i):null}function Ow(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var s=Ow(i);if(s!==null)return s;i=i.sibling}return null}var Nw=t.unstable_scheduleCallback,jw=t.unstable_cancelCallback,lT=t.unstable_shouldYield,uT=t.unstable_requestPaint,ge=t.unstable_now,cT=t.unstable_getCurrentPriorityLevel,Hm=t.unstable_ImmediatePriority,Vw=t.unstable_UserBlockingPriority,Bd=t.unstable_NormalPriority,hT=t.unstable_LowPriority,Bw=t.unstable_IdlePriority,zd=null,ji=null;function dT(i){if(ji&&typeof ji.onCommitFiberRoot=="function")try{ji.onCommitFiberRoot(zd,i,void 0,(i.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:mT,fT=Math.log,pT=Math.LN2;function mT(i){return i>>>=0,i===0?32:31-(fT(i)/pT|0)|0}var Hd=64,Ud=4194304;function Ou(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function $d(i,s){var u=i.pendingLanes;if(u===0)return 0;var f=0,g=i.suspendedLanes,w=i.pingedLanes,E=u&268435455;if(E!==0){var k=E&~g;k!==0?f=Ou(k):(w&=E,w!==0&&(f=Ou(w)))}else E=u&~g,E!==0?f=Ou(E):w!==0&&(f=Ou(w));if(f===0)return 0;if(s!==0&&s!==f&&!(s&g)&&(g=f&-f,w=s&-s,g>=w||g===16&&(w&4194240)!==0))return s;if(f&4&&(f|=u&16),s=i.entangledLanes,s!==0)for(i=i.entanglements,s&=f;0<s;)u=31-di(s),g=1<<u,f|=i[u],s&=~g;return f}function gT(i,s){switch(i){case 1:case 2:case 4:return s+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vT(i,s){for(var u=i.suspendedLanes,f=i.pingedLanes,g=i.expirationTimes,w=i.pendingLanes;0<w;){var E=31-di(w),k=1<<E,L=g[E];L===-1?(!(k&u)||k&f)&&(g[E]=gT(k,s)):L<=s&&(i.expiredLanes|=k),w&=~k}}function Um(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function zw(){var i=Hd;return Hd<<=1,!(Hd&4194240)&&(Hd=64),i}function $m(i){for(var s=[],u=0;31>u;u++)s.push(i);return s}function Nu(i,s,u){i.pendingLanes|=s,s!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,s=31-di(s),i[s]=u}function yT(i,s){var u=i.pendingLanes&~s;i.pendingLanes=s,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=s,i.mutableReadLanes&=s,i.entangledLanes&=s,s=i.entanglements;var f=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-di(u),w=1<<g;s[g]=0,f[g]=-1,i[g]=-1,u&=~w}}function Wm(i,s){var u=i.entangledLanes|=s;for(i=i.entanglements;u;){var f=31-di(u),g=1<<f;g&s|i[f]&s&&(i[f]|=s),u&=~g}}var Wt=0;function Hw(i){return i&=-i,1<i?4<i?i&268435455?16:536870912:4:1}var Uw,Gm,$w,Ww,Gw,Xm=!1,Wd=[],cr=null,hr=null,dr=null,ju=new Map,Vu=new Map,fr=[],wT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Xw(i,s){switch(i){case"focusin":case"focusout":cr=null;break;case"dragenter":case"dragleave":hr=null;break;case"mouseover":case"mouseout":dr=null;break;case"pointerover":case"pointerout":ju.delete(s.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(s.pointerId)}}function Bu(i,s,u,f,g,w){return i===null||i.nativeEvent!==w?(i={blockedOn:s,domEventName:u,eventSystemFlags:f,nativeEvent:w,targetContainers:[g]},s!==null&&(s=tc(s),s!==null&&Gm(s)),i):(i.eventSystemFlags|=f,s=i.targetContainers,g!==null&&s.indexOf(g)===-1&&s.push(g),i)}function AT(i,s,u,f,g){switch(s){case"focusin":return cr=Bu(cr,i,s,u,f,g),!0;case"dragenter":return hr=Bu(hr,i,s,u,f,g),!0;case"mouseover":return dr=Bu(dr,i,s,u,f,g),!0;case"pointerover":var w=g.pointerId;return ju.set(w,Bu(ju.get(w)||null,i,s,u,f,g)),!0;case"gotpointercapture":return w=g.pointerId,Vu.set(w,Bu(Vu.get(w)||null,i,s,u,f,g)),!0}return!1}function Kw(i){var s=po(i.target);if(s!==null){var u=fo(s);if(u!==null){if(s=u.tag,s===13){if(s=Dw(u),s!==null){i.blockedOn=s,Gw(i.priority,function(){$w(u)});return}}else if(s===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Gd(i){if(i.blockedOn!==null)return!1;for(var s=i.targetContainers;0<s.length;){var u=qm(i.domEventName,i.eventSystemFlags,s[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var f=new u.constructor(u.type,u);Om=f,u.target.dispatchEvent(f),Om=null}else return s=tc(u),s!==null&&Gm(s),i.blockedOn=u,!1;s.shift()}return!0}function qw(i,s,u){Gd(i)&&u.delete(s)}function ST(){Xm=!1,cr!==null&&Gd(cr)&&(cr=null),hr!==null&&Gd(hr)&&(hr=null),dr!==null&&Gd(dr)&&(dr=null),ju.forEach(qw),Vu.forEach(qw)}function zu(i,s){i.blockedOn===s&&(i.blockedOn=null,Xm||(Xm=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ST)))}function Hu(i){function s(g){return zu(g,i)}if(0<Wd.length){zu(Wd[0],i);for(var u=1;u<Wd.length;u++){var f=Wd[u];f.blockedOn===i&&(f.blockedOn=null)}}for(cr!==null&&zu(cr,i),hr!==null&&zu(hr,i),dr!==null&&zu(dr,i),ju.forEach(s),Vu.forEach(s),u=0;u<fr.length;u++)f=fr[u],f.blockedOn===i&&(f.blockedOn=null);for(;0<fr.length&&(u=fr[0],u.blockedOn===null);)Kw(u),u.blockedOn===null&&fr.shift()}var Wa=F.ReactCurrentBatchConfig,Xd=!0;function ET(i,s,u,f){var g=Wt,w=Wa.transition;Wa.transition=null;try{Wt=1,Km(i,s,u,f)}finally{Wt=g,Wa.transition=w}}function _T(i,s,u,f){var g=Wt,w=Wa.transition;Wa.transition=null;try{Wt=4,Km(i,s,u,f)}finally{Wt=g,Wa.transition=w}}function Km(i,s,u,f){if(Xd){var g=qm(i,s,u,f);if(g===null)dg(i,s,f,Kd,u),Xw(i,f);else if(AT(g,i,s,u,f))f.stopPropagation();else if(Xw(i,f),s&4&&-1<wT.indexOf(i)){for(;g!==null;){var w=tc(g);if(w!==null&&Uw(w),w=qm(i,s,u,f),w===null&&dg(i,s,f,Kd,u),w===g)break;g=w}g!==null&&f.stopPropagation()}else dg(i,s,f,null,u)}}var Kd=null;function qm(i,s,u,f){if(Kd=null,i=Nm(f),i=po(i),i!==null)if(s=fo(i),s===null)i=null;else if(u=s.tag,u===13){if(i=Dw(s),i!==null)return i;i=null}else if(u===3){if(s.stateNode.current.memoizedState.isDehydrated)return s.tag===3?s.stateNode.containerInfo:null;i=null}else s!==i&&(i=null);return Kd=i,null}function Yw(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cT()){case Hm:return 1;case Vw:return 4;case Bd:case hT:return 16;case Bw:return 536870912;default:return 16}default:return 16}}var pr=null,Ym=null,qd=null;function Qw(){if(qd)return qd;var i,s=Ym,u=s.length,f,g="value"in pr?pr.value:pr.textContent,w=g.length;for(i=0;i<u&&s[i]===g[i];i++);var E=u-i;for(f=1;f<=E&&s[u-f]===g[w-f];f++);return qd=g.slice(i,1<f?1-f:void 0)}function Yd(i){var s=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&s===13&&(i=13)):i=s,i===10&&(i=13),32<=i||i===13?i:0}function Qd(){return!0}function Zw(){return!1}function Mn(i){function s(u,f,g,w,E){this._reactName=u,this._targetInst=g,this.type=f,this.nativeEvent=w,this.target=E,this.currentTarget=null;for(var k in i)i.hasOwnProperty(k)&&(u=i[k],this[k]=u?u(w):w[k]);return this.isDefaultPrevented=(w.defaultPrevented!=null?w.defaultPrevented:w.returnValue===!1)?Qd:Zw,this.isPropagationStopped=Zw,this}return J(s.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=Qd)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=Qd)},persist:function(){},isPersistent:Qd}),s}var Ga={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qm=Mn(Ga),Uu=J({},Ga,{view:0,detail:0}),xT=Mn(Uu),Zm,Jm,$u,Zd=J({},Uu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:eg,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==$u&&($u&&i.type==="mousemove"?(Zm=i.screenX-$u.screenX,Jm=i.screenY-$u.screenY):Jm=Zm=0,$u=i),Zm)},movementY:function(i){return"movementY"in i?i.movementY:Jm}}),Jw=Mn(Zd),bT=J({},Zd,{dataTransfer:0}),CT=Mn(bT),TT=J({},Uu,{relatedTarget:0}),tg=Mn(TT),PT=J({},Ga,{animationName:0,elapsedTime:0,pseudoElement:0}),kT=Mn(PT),RT=J({},Ga,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),LT=Mn(RT),MT=J({},Ga,{data:0}),tA=Mn(MT),DT={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IT={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FT={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OT(i){var s=this.nativeEvent;return s.getModifierState?s.getModifierState(i):(i=FT[i])?!!s[i]:!1}function eg(){return OT}var NT=J({},Uu,{key:function(i){if(i.key){var s=DT[i.key]||i.key;if(s!=="Unidentified")return s}return i.type==="keypress"?(i=Yd(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?IT[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:eg,charCode:function(i){return i.type==="keypress"?Yd(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?Yd(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),jT=Mn(NT),VT=J({},Zd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eA=Mn(VT),BT=J({},Uu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:eg}),zT=Mn(BT),HT=J({},Ga,{propertyName:0,elapsedTime:0,pseudoElement:0}),UT=Mn(HT),$T=J({},Zd,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),WT=Mn($T),GT=[9,13,27,32],ng=c&&"CompositionEvent"in window,Wu=null;c&&"documentMode"in document&&(Wu=document.documentMode);var XT=c&&"TextEvent"in window&&!Wu,nA=c&&(!ng||Wu&&8<Wu&&11>=Wu),iA=" ",sA=!1;function rA(i,s){switch(i){case"keyup":return GT.indexOf(s.keyCode)!==-1;case"keydown":return s.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function oA(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Xa=!1;function KT(i,s){switch(i){case"compositionend":return oA(s);case"keypress":return s.which!==32?null:(sA=!0,iA);case"textInput":return i=s.data,i===iA&&sA?null:i;default:return null}}function qT(i,s){if(Xa)return i==="compositionend"||!ng&&rA(i,s)?(i=Qw(),qd=Ym=pr=null,Xa=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(s.ctrlKey||s.altKey||s.metaKey)||s.ctrlKey&&s.altKey){if(s.char&&1<s.char.length)return s.char;if(s.which)return String.fromCharCode(s.which)}return null;case"compositionend":return nA&&s.locale!=="ko"?null:s.data;default:return null}}var YT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function aA(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s==="input"?!!YT[i.type]:s==="textarea"}function lA(i,s,u,f){Pw(f),s=sf(s,"onChange"),0<s.length&&(u=new Qm("onChange","change",null,u,f),i.push({event:u,listeners:s}))}var Gu=null,Xu=null;function QT(i){CA(i,0)}function Jd(i){var s=Za(i);if(lr(s))return i}function ZT(i,s){if(i==="change")return s}var uA=!1;if(c){var ig;if(c){var sg="oninput"in document;if(!sg){var cA=document.createElement("div");cA.setAttribute("oninput","return;"),sg=typeof cA.oninput=="function"}ig=sg}else ig=!1;uA=ig&&(!document.documentMode||9<document.documentMode)}function hA(){Gu&&(Gu.detachEvent("onpropertychange",dA),Xu=Gu=null)}function dA(i){if(i.propertyName==="value"&&Jd(Xu)){var s=[];lA(s,Xu,i,Nm(i)),Mw(QT,s)}}function JT(i,s,u){i==="focusin"?(hA(),Gu=s,Xu=u,Gu.attachEvent("onpropertychange",dA)):i==="focusout"&&hA()}function tP(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Jd(Xu)}function eP(i,s){if(i==="click")return Jd(s)}function nP(i,s){if(i==="input"||i==="change")return Jd(s)}function iP(i,s){return i===s&&(i!==0||1/i===1/s)||i!==i&&s!==s}var fi=typeof Object.is=="function"?Object.is:iP;function Ku(i,s){if(fi(i,s))return!0;if(typeof i!="object"||i===null||typeof s!="object"||s===null)return!1;var u=Object.keys(i),f=Object.keys(s);if(u.length!==f.length)return!1;for(f=0;f<u.length;f++){var g=u[f];if(!d.call(s,g)||!fi(i[g],s[g]))return!1}return!0}function fA(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function pA(i,s){var u=fA(i);i=0;for(var f;u;){if(u.nodeType===3){if(f=i+u.textContent.length,i<=s&&f>=s)return{node:u,offset:s-i};i=f}t:{for(;u;){if(u.nextSibling){u=u.nextSibling;break t}u=u.parentNode}u=void 0}u=fA(u)}}function mA(i,s){return i&&s?i===s?!0:i&&i.nodeType===3?!1:s&&s.nodeType===3?mA(i,s.parentNode):"contains"in i?i.contains(s):i.compareDocumentPosition?!!(i.compareDocumentPosition(s)&16):!1:!1}function gA(){for(var i=window,s=Ut();s instanceof i.HTMLIFrameElement;){try{var u=typeof s.contentWindow.location.href=="string"}catch{u=!1}if(u)i=s.contentWindow;else break;s=Ut(i.document)}return s}function rg(i){var s=i&&i.nodeName&&i.nodeName.toLowerCase();return s&&(s==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||s==="textarea"||i.contentEditable==="true")}function sP(i){var s=gA(),u=i.focusedElem,f=i.selectionRange;if(s!==u&&u&&u.ownerDocument&&mA(u.ownerDocument.documentElement,u)){if(f!==null&&rg(u)){if(s=f.start,i=f.end,i===void 0&&(i=s),"selectionStart"in u)u.selectionStart=s,u.selectionEnd=Math.min(i,u.value.length);else if(i=(s=u.ownerDocument||document)&&s.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,w=Math.min(f.start,g);f=f.end===void 0?w:Math.min(f.end,g),!i.extend&&w>f&&(g=f,f=w,w=g),g=pA(u,w);var E=pA(u,f);g&&E&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==E.node||i.focusOffset!==E.offset)&&(s=s.createRange(),s.setStart(g.node,g.offset),i.removeAllRanges(),w>f?(i.addRange(s),i.extend(E.node,E.offset)):(s.setEnd(E.node,E.offset),i.addRange(s)))}}for(s=[],i=u;i=i.parentNode;)i.nodeType===1&&s.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<s.length;u++)i=s[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var rP=c&&"documentMode"in document&&11>=document.documentMode,Ka=null,og=null,qu=null,ag=!1;function vA(i,s,u){var f=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;ag||Ka==null||Ka!==Ut(f)||(f=Ka,"selectionStart"in f&&rg(f)?f={start:f.selectionStart,end:f.selectionEnd}:(f=(f.ownerDocument&&f.ownerDocument.defaultView||window).getSelection(),f={anchorNode:f.anchorNode,anchorOffset:f.anchorOffset,focusNode:f.focusNode,focusOffset:f.focusOffset}),qu&&Ku(qu,f)||(qu=f,f=sf(og,"onSelect"),0<f.length&&(s=new Qm("onSelect","select",null,s,u),i.push({event:s,listeners:f}),s.target=Ka)))}function tf(i,s){var u={};return u[i.toLowerCase()]=s.toLowerCase(),u["Webkit"+i]="webkit"+s,u["Moz"+i]="moz"+s,u}var qa={animationend:tf("Animation","AnimationEnd"),animationiteration:tf("Animation","AnimationIteration"),animationstart:tf("Animation","AnimationStart"),transitionend:tf("Transition","TransitionEnd")},lg={},yA={};c&&(yA=document.createElement("div").style,"AnimationEvent"in window||(delete qa.animationend.animation,delete qa.animationiteration.animation,delete qa.animationstart.animation),"TransitionEvent"in window||delete qa.transitionend.transition);function ef(i){if(lg[i])return lg[i];if(!qa[i])return i;var s=qa[i],u;for(u in s)if(s.hasOwnProperty(u)&&u in yA)return lg[i]=s[u];return i}var wA=ef("animationend"),AA=ef("animationiteration"),SA=ef("animationstart"),EA=ef("transitionend"),_A=new Map,xA="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function mr(i,s){_A.set(i,s),a(s,[i])}for(var ug=0;ug<xA.length;ug++){var cg=xA[ug],oP=cg.toLowerCase(),aP=cg[0].toUpperCase()+cg.slice(1);mr(oP,"on"+aP)}mr(wA,"onAnimationEnd"),mr(AA,"onAnimationIteration"),mr(SA,"onAnimationStart"),mr("dblclick","onDoubleClick"),mr("focusin","onFocus"),mr("focusout","onBlur"),mr(EA,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Yu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Yu));function bA(i,s,u){var f=i.type||"unknown-event";i.currentTarget=u,oT(f,s,void 0,i),i.currentTarget=null}function CA(i,s){s=(s&4)!==0;for(var u=0;u<i.length;u++){var f=i[u],g=f.event;f=f.listeners;t:{var w=void 0;if(s)for(var E=f.length-1;0<=E;E--){var k=f[E],L=k.instance,B=k.currentTarget;if(k=k.listener,L!==w&&g.isPropagationStopped())break t;bA(g,k,B),w=L}else for(E=0;E<f.length;E++){if(k=f[E],L=k.instance,B=k.currentTarget,k=k.listener,L!==w&&g.isPropagationStopped())break t;bA(g,k,B),w=L}}}if(Vd)throw i=zm,Vd=!1,zm=null,i}function ie(i,s){var u=s[yg];u===void 0&&(u=s[yg]=new Set);var f=i+"__bubble";u.has(f)||(TA(s,i,2,!1),u.add(f))}function hg(i,s,u){var f=0;s&&(f|=4),TA(u,i,f,s)}var nf="_reactListening"+Math.random().toString(36).slice(2);function Qu(i){if(!i[nf]){i[nf]=!0,n.forEach(function(u){u!=="selectionchange"&&(lP.has(u)||hg(u,!1,i),hg(u,!0,i))});var s=i.nodeType===9?i:i.ownerDocument;s===null||s[nf]||(s[nf]=!0,hg("selectionchange",!1,s))}}function TA(i,s,u,f){switch(Yw(s)){case 1:var g=ET;break;case 4:g=_T;break;default:g=Km}u=g.bind(null,s,u,i),g=void 0,!Bm||s!=="touchstart"&&s!=="touchmove"&&s!=="wheel"||(g=!0),f?g!==void 0?i.addEventListener(s,u,{capture:!0,passive:g}):i.addEventListener(s,u,!0):g!==void 0?i.addEventListener(s,u,{passive:g}):i.addEventListener(s,u,!1)}function dg(i,s,u,f,g){var w=f;if(!(s&1)&&!(s&2)&&f!==null)t:for(;;){if(f===null)return;var E=f.tag;if(E===3||E===4){var k=f.stateNode.containerInfo;if(k===g||k.nodeType===8&&k.parentNode===g)break;if(E===4)for(E=f.return;E!==null;){var L=E.tag;if((L===3||L===4)&&(L=E.stateNode.containerInfo,L===g||L.nodeType===8&&L.parentNode===g))return;E=E.return}for(;k!==null;){if(E=po(k),E===null)return;if(L=E.tag,L===5||L===6){f=w=E;continue t}k=k.parentNode}}f=f.return}Mw(function(){var B=w,K=Nm(u),q=[];t:{var X=_A.get(i);if(X!==void 0){var st=Qm,at=i;switch(i){case"keypress":if(Yd(u)===0)break t;case"keydown":case"keyup":st=jT;break;case"focusin":at="focus",st=tg;break;case"focusout":at="blur",st=tg;break;case"beforeblur":case"afterblur":st=tg;break;case"click":if(u.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":st=Jw;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":st=CT;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":st=zT;break;case wA:case AA:case SA:st=kT;break;case EA:st=UT;break;case"scroll":st=xT;break;case"wheel":st=WT;break;case"copy":case"cut":case"paste":st=LT;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":st=eA}var ct=(s&4)!==0,ve=!ct&&i==="scroll",N=ct?X!==null?X+"Capture":null:X;ct=[];for(var D=B,j;D!==null;){j=D;var Z=j.stateNode;if(j.tag===5&&Z!==null&&(j=Z,N!==null&&(Z=Du(D,N),Z!=null&&ct.push(Zu(D,Z,j)))),ve)break;D=D.return}0<ct.length&&(X=new st(X,at,null,u,K),q.push({event:X,listeners:ct}))}}if(!(s&7)){t:{if(X=i==="mouseover"||i==="pointerover",st=i==="mouseout"||i==="pointerout",X&&u!==Om&&(at=u.relatedTarget||u.fromElement)&&(po(at)||at[fs]))break t;if((st||X)&&(X=K.window===K?K:(X=K.ownerDocument)?X.defaultView||X.parentWindow:window,st?(at=u.relatedTarget||u.toElement,st=B,at=at?po(at):null,at!==null&&(ve=fo(at),at!==ve||at.tag!==5&&at.tag!==6)&&(at=null)):(st=null,at=B),st!==at)){if(ct=Jw,Z="onMouseLeave",N="onMouseEnter",D="mouse",(i==="pointerout"||i==="pointerover")&&(ct=eA,Z="onPointerLeave",N="onPointerEnter",D="pointer"),ve=st==null?X:Za(st),j=at==null?X:Za(at),X=new ct(Z,D+"leave",st,u,K),X.target=ve,X.relatedTarget=j,Z=null,po(K)===B&&(ct=new ct(N,D+"enter",at,u,K),ct.target=j,ct.relatedTarget=ve,Z=ct),ve=Z,st&&at)e:{for(ct=st,N=at,D=0,j=ct;j;j=Ya(j))D++;for(j=0,Z=N;Z;Z=Ya(Z))j++;for(;0<D-j;)ct=Ya(ct),D--;for(;0<j-D;)N=Ya(N),j--;for(;D--;){if(ct===N||N!==null&&ct===N.alternate)break e;ct=Ya(ct),N=Ya(N)}ct=null}else ct=null;st!==null&&PA(q,X,st,ct,!1),at!==null&&ve!==null&&PA(q,ve,at,ct,!0)}}t:{if(X=B?Za(B):window,st=X.nodeName&&X.nodeName.toLowerCase(),st==="select"||st==="input"&&X.type==="file")var dt=ZT;else if(aA(X))if(uA)dt=nP;else{dt=tP;var vt=JT}else(st=X.nodeName)&&st.toLowerCase()==="input"&&(X.type==="checkbox"||X.type==="radio")&&(dt=eP);if(dt&&(dt=dt(i,B))){lA(q,dt,u,K);break t}vt&&vt(i,X,B),i==="focusout"&&(vt=X._wrapperState)&&vt.controlled&&X.type==="number"&&Ru(X,"number",X.value)}switch(vt=B?Za(B):window,i){case"focusin":(aA(vt)||vt.contentEditable==="true")&&(Ka=vt,og=B,qu=null);break;case"focusout":qu=og=Ka=null;break;case"mousedown":ag=!0;break;case"contextmenu":case"mouseup":case"dragend":ag=!1,vA(q,u,K);break;case"selectionchange":if(rP)break;case"keydown":case"keyup":vA(q,u,K)}var yt;if(ng)t:{switch(i){case"compositionstart":var bt="onCompositionStart";break t;case"compositionend":bt="onCompositionEnd";break t;case"compositionupdate":bt="onCompositionUpdate";break t}bt=void 0}else Xa?rA(i,u)&&(bt="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(bt="onCompositionStart");bt&&(nA&&u.locale!=="ko"&&(Xa||bt!=="onCompositionStart"?bt==="onCompositionEnd"&&Xa&&(yt=Qw()):(pr=K,Ym="value"in pr?pr.value:pr.textContent,Xa=!0)),vt=sf(B,bt),0<vt.length&&(bt=new tA(bt,i,null,u,K),q.push({event:bt,listeners:vt}),yt?bt.data=yt:(yt=oA(u),yt!==null&&(bt.data=yt)))),(yt=XT?KT(i,u):qT(i,u))&&(B=sf(B,"onBeforeInput"),0<B.length&&(K=new tA("onBeforeInput","beforeinput",null,u,K),q.push({event:K,listeners:B}),K.data=yt))}CA(q,s)})}function Zu(i,s,u){return{instance:i,listener:s,currentTarget:u}}function sf(i,s){for(var u=s+"Capture",f=[];i!==null;){var g=i,w=g.stateNode;g.tag===5&&w!==null&&(g=w,w=Du(i,u),w!=null&&f.unshift(Zu(i,w,g)),w=Du(i,s),w!=null&&f.push(Zu(i,w,g))),i=i.return}return f}function Ya(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function PA(i,s,u,f,g){for(var w=s._reactName,E=[];u!==null&&u!==f;){var k=u,L=k.alternate,B=k.stateNode;if(L!==null&&L===f)break;k.tag===5&&B!==null&&(k=B,g?(L=Du(u,w),L!=null&&E.unshift(Zu(u,L,k))):g||(L=Du(u,w),L!=null&&E.push(Zu(u,L,k)))),u=u.return}E.length!==0&&i.push({event:s,listeners:E})}var uP=/\r\n?/g,cP=/\u0000|\uFFFD/g;function kA(i){return(typeof i=="string"?i:""+i).replace(uP,`
`).replace(cP,"")}function rf(i,s,u){if(s=kA(s),kA(i)!==s&&u)throw Error(e(425))}function of(){}var fg=null,pg=null;function mg(i,s){return i==="textarea"||i==="noscript"||typeof s.children=="string"||typeof s.children=="number"||typeof s.dangerouslySetInnerHTML=="object"&&s.dangerouslySetInnerHTML!==null&&s.dangerouslySetInnerHTML.__html!=null}var gg=typeof setTimeout=="function"?setTimeout:void 0,hP=typeof clearTimeout=="function"?clearTimeout:void 0,RA=typeof Promise=="function"?Promise:void 0,dP=typeof queueMicrotask=="function"?queueMicrotask:typeof RA<"u"?function(i){return RA.resolve(null).then(i).catch(fP)}:gg;function fP(i){setTimeout(function(){throw i})}function vg(i,s){var u=s,f=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(f===0){i.removeChild(g),Hu(s);return}f--}else u!=="$"&&u!=="$?"&&u!=="$!"||f++;u=g}while(u);Hu(s)}function gr(i){for(;i!=null;i=i.nextSibling){var s=i.nodeType;if(s===1||s===3)break;if(s===8){if(s=i.data,s==="$"||s==="$!"||s==="$?")break;if(s==="/$")return null}}return i}function LA(i){i=i.previousSibling;for(var s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(s===0)return i;s--}else u==="/$"&&s++}i=i.previousSibling}return null}var Qa=Math.random().toString(36).slice(2),Vi="__reactFiber$"+Qa,Ju="__reactProps$"+Qa,fs="__reactContainer$"+Qa,yg="__reactEvents$"+Qa,pP="__reactListeners$"+Qa,mP="__reactHandles$"+Qa;function po(i){var s=i[Vi];if(s)return s;for(var u=i.parentNode;u;){if(s=u[fs]||u[Vi]){if(u=s.alternate,s.child!==null||u!==null&&u.child!==null)for(i=LA(i);i!==null;){if(u=i[Vi])return u;i=LA(i)}return s}i=u,u=i.parentNode}return null}function tc(i){return i=i[Vi]||i[fs],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Za(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(e(33))}function af(i){return i[Ju]||null}var wg=[],Ja=-1;function vr(i){return{current:i}}function se(i){0>Ja||(i.current=wg[Ja],wg[Ja]=null,Ja--)}function ee(i,s){Ja++,wg[Ja]=i.current,i.current=s}var yr={},Qe=vr(yr),wn=vr(!1),mo=yr;function tl(i,s){var u=i.type.contextTypes;if(!u)return yr;var f=i.stateNode;if(f&&f.__reactInternalMemoizedUnmaskedChildContext===s)return f.__reactInternalMemoizedMaskedChildContext;var g={},w;for(w in u)g[w]=s[w];return f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=s,i.__reactInternalMemoizedMaskedChildContext=g),g}function An(i){return i=i.childContextTypes,i!=null}function lf(){se(wn),se(Qe)}function MA(i,s,u){if(Qe.current!==yr)throw Error(e(168));ee(Qe,s),ee(wn,u)}function DA(i,s,u){var f=i.stateNode;if(s=s.childContextTypes,typeof f.getChildContext!="function")return u;f=f.getChildContext();for(var g in f)if(!(g in s))throw Error(e(108,gt(i)||"Unknown",g));return J({},u,f)}function uf(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||yr,mo=Qe.current,ee(Qe,i),ee(wn,wn.current),!0}function IA(i,s,u){var f=i.stateNode;if(!f)throw Error(e(169));u?(i=DA(i,s,mo),f.__reactInternalMemoizedMergedChildContext=i,se(wn),se(Qe),ee(Qe,i)):se(wn),ee(wn,u)}var ps=null,cf=!1,Ag=!1;function FA(i){ps===null?ps=[i]:ps.push(i)}function gP(i){cf=!0,FA(i)}function wr(){if(!Ag&&ps!==null){Ag=!0;var i=0,s=Wt;try{var u=ps;for(Wt=1;i<u.length;i++){var f=u[i];do f=f(!0);while(f!==null)}ps=null,cf=!1}catch(g){throw ps!==null&&(ps=ps.slice(i+1)),Nw(Hm,wr),g}finally{Wt=s,Ag=!1}}return null}var el=[],nl=0,hf=null,df=0,qn=[],Yn=0,go=null,ms=1,gs="";function vo(i,s){el[nl++]=df,el[nl++]=hf,hf=i,df=s}function OA(i,s,u){qn[Yn++]=ms,qn[Yn++]=gs,qn[Yn++]=go,go=i;var f=ms;i=gs;var g=32-di(f)-1;f&=~(1<<g),u+=1;var w=32-di(s)+g;if(30<w){var E=g-g%5;w=(f&(1<<E)-1).toString(32),f>>=E,g-=E,ms=1<<32-di(s)+g|u<<g|f,gs=w+i}else ms=1<<w|u<<g|f,gs=i}function Sg(i){i.return!==null&&(vo(i,1),OA(i,1,0))}function Eg(i){for(;i===hf;)hf=el[--nl],el[nl]=null,df=el[--nl],el[nl]=null;for(;i===go;)go=qn[--Yn],qn[Yn]=null,gs=qn[--Yn],qn[Yn]=null,ms=qn[--Yn],qn[Yn]=null}var Dn=null,In=null,oe=!1,pi=null;function NA(i,s){var u=ti(5,null,null,0);u.elementType="DELETED",u.stateNode=s,u.return=i,s=i.deletions,s===null?(i.deletions=[u],i.flags|=16):s.push(u)}function jA(i,s){switch(i.tag){case 5:var u=i.type;return s=s.nodeType!==1||u.toLowerCase()!==s.nodeName.toLowerCase()?null:s,s!==null?(i.stateNode=s,Dn=i,In=gr(s.firstChild),!0):!1;case 6:return s=i.pendingProps===""||s.nodeType!==3?null:s,s!==null?(i.stateNode=s,Dn=i,In=null,!0):!1;case 13:return s=s.nodeType!==8?null:s,s!==null?(u=go!==null?{id:ms,overflow:gs}:null,i.memoizedState={dehydrated:s,treeContext:u,retryLane:1073741824},u=ti(18,null,null,0),u.stateNode=s,u.return=i,i.child=u,Dn=i,In=null,!0):!1;default:return!1}}function _g(i){return(i.mode&1)!==0&&(i.flags&128)===0}function xg(i){if(oe){var s=In;if(s){var u=s;if(!jA(i,s)){if(_g(i))throw Error(e(418));s=gr(u.nextSibling);var f=Dn;s&&jA(i,s)?NA(f,u):(i.flags=i.flags&-4097|2,oe=!1,Dn=i)}}else{if(_g(i))throw Error(e(418));i.flags=i.flags&-4097|2,oe=!1,Dn=i}}}function VA(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Dn=i}function ff(i){if(i!==Dn)return!1;if(!oe)return VA(i),oe=!0,!1;var s;if((s=i.tag!==3)&&!(s=i.tag!==5)&&(s=i.type,s=s!=="head"&&s!=="body"&&!mg(i.type,i.memoizedProps)),s&&(s=In)){if(_g(i))throw BA(),Error(e(418));for(;s;)NA(i,s),s=gr(s.nextSibling)}if(VA(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(e(317));t:{for(i=i.nextSibling,s=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(s===0){In=gr(i.nextSibling);break t}s--}else u!=="$"&&u!=="$!"&&u!=="$?"||s++}i=i.nextSibling}In=null}}else In=Dn?gr(i.stateNode.nextSibling):null;return!0}function BA(){for(var i=In;i;)i=gr(i.nextSibling)}function il(){In=Dn=null,oe=!1}function bg(i){pi===null?pi=[i]:pi.push(i)}var vP=F.ReactCurrentBatchConfig;function ec(i,s,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(e(309));var f=u.stateNode}if(!f)throw Error(e(147,i));var g=f,w=""+i;return s!==null&&s.ref!==null&&typeof s.ref=="function"&&s.ref._stringRef===w?s.ref:(s=function(E){var k=g.refs;E===null?delete k[w]:k[w]=E},s._stringRef=w,s)}if(typeof i!="string")throw Error(e(284));if(!u._owner)throw Error(e(290,i))}return i}function pf(i,s){throw i=Object.prototype.toString.call(s),Error(e(31,i==="[object Object]"?"object with keys {"+Object.keys(s).join(", ")+"}":i))}function zA(i){var s=i._init;return s(i._payload)}function HA(i){function s(N,D){if(i){var j=N.deletions;j===null?(N.deletions=[D],N.flags|=16):j.push(D)}}function u(N,D){if(!i)return null;for(;D!==null;)s(N,D),D=D.sibling;return null}function f(N,D){for(N=new Map;D!==null;)D.key!==null?N.set(D.key,D):N.set(D.index,D),D=D.sibling;return N}function g(N,D){return N=Tr(N,D),N.index=0,N.sibling=null,N}function w(N,D,j){return N.index=j,i?(j=N.alternate,j!==null?(j=j.index,j<D?(N.flags|=2,D):j):(N.flags|=2,D)):(N.flags|=1048576,D)}function E(N){return i&&N.alternate===null&&(N.flags|=2),N}function k(N,D,j,Z){return D===null||D.tag!==6?(D=gv(j,N.mode,Z),D.return=N,D):(D=g(D,j),D.return=N,D)}function L(N,D,j,Z){var dt=j.type;return dt===W?K(N,D,j.props.children,Z,j.key):D!==null&&(D.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===St&&zA(dt)===D.type)?(Z=g(D,j.props),Z.ref=ec(N,D,j),Z.return=N,Z):(Z=jf(j.type,j.key,j.props,null,N.mode,Z),Z.ref=ec(N,D,j),Z.return=N,Z)}function B(N,D,j,Z){return D===null||D.tag!==4||D.stateNode.containerInfo!==j.containerInfo||D.stateNode.implementation!==j.implementation?(D=vv(j,N.mode,Z),D.return=N,D):(D=g(D,j.children||[]),D.return=N,D)}function K(N,D,j,Z,dt){return D===null||D.tag!==7?(D=bo(j,N.mode,Z,dt),D.return=N,D):(D=g(D,j),D.return=N,D)}function q(N,D,j){if(typeof D=="string"&&D!==""||typeof D=="number")return D=gv(""+D,N.mode,j),D.return=N,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case O:return j=jf(D.type,D.key,D.props,null,N.mode,j),j.ref=ec(N,null,D),j.return=N,j;case V:return D=vv(D,N.mode,j),D.return=N,D;case St:var Z=D._init;return q(N,Z(D._payload),j)}if(co(D)||rt(D))return D=bo(D,N.mode,j,null),D.return=N,D;pf(N,D)}return null}function X(N,D,j,Z){var dt=D!==null?D.key:null;if(typeof j=="string"&&j!==""||typeof j=="number")return dt!==null?null:k(N,D,""+j,Z);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return j.key===dt?L(N,D,j,Z):null;case V:return j.key===dt?B(N,D,j,Z):null;case St:return dt=j._init,X(N,D,dt(j._payload),Z)}if(co(j)||rt(j))return dt!==null?null:K(N,D,j,Z,null);pf(N,j)}return null}function st(N,D,j,Z,dt){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return N=N.get(j)||null,k(D,N,""+Z,dt);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case O:return N=N.get(Z.key===null?j:Z.key)||null,L(D,N,Z,dt);case V:return N=N.get(Z.key===null?j:Z.key)||null,B(D,N,Z,dt);case St:var vt=Z._init;return st(N,D,j,vt(Z._payload),dt)}if(co(Z)||rt(Z))return N=N.get(j)||null,K(D,N,Z,dt,null);pf(D,Z)}return null}function at(N,D,j,Z){for(var dt=null,vt=null,yt=D,bt=D=0,Oe=null;yt!==null&&bt<j.length;bt++){yt.index>bt?(Oe=yt,yt=null):Oe=yt.sibling;var zt=X(N,yt,j[bt],Z);if(zt===null){yt===null&&(yt=Oe);break}i&&yt&&zt.alternate===null&&s(N,yt),D=w(zt,D,bt),vt===null?dt=zt:vt.sibling=zt,vt=zt,yt=Oe}if(bt===j.length)return u(N,yt),oe&&vo(N,bt),dt;if(yt===null){for(;bt<j.length;bt++)yt=q(N,j[bt],Z),yt!==null&&(D=w(yt,D,bt),vt===null?dt=yt:vt.sibling=yt,vt=yt);return oe&&vo(N,bt),dt}for(yt=f(N,yt);bt<j.length;bt++)Oe=st(yt,N,bt,j[bt],Z),Oe!==null&&(i&&Oe.alternate!==null&&yt.delete(Oe.key===null?bt:Oe.key),D=w(Oe,D,bt),vt===null?dt=Oe:vt.sibling=Oe,vt=Oe);return i&&yt.forEach(function(Pr){return s(N,Pr)}),oe&&vo(N,bt),dt}function ct(N,D,j,Z){var dt=rt(j);if(typeof dt!="function")throw Error(e(150));if(j=dt.call(j),j==null)throw Error(e(151));for(var vt=dt=null,yt=D,bt=D=0,Oe=null,zt=j.next();yt!==null&&!zt.done;bt++,zt=j.next()){yt.index>bt?(Oe=yt,yt=null):Oe=yt.sibling;var Pr=X(N,yt,zt.value,Z);if(Pr===null){yt===null&&(yt=Oe);break}i&&yt&&Pr.alternate===null&&s(N,yt),D=w(Pr,D,bt),vt===null?dt=Pr:vt.sibling=Pr,vt=Pr,yt=Oe}if(zt.done)return u(N,yt),oe&&vo(N,bt),dt;if(yt===null){for(;!zt.done;bt++,zt=j.next())zt=q(N,zt.value,Z),zt!==null&&(D=w(zt,D,bt),vt===null?dt=zt:vt.sibling=zt,vt=zt);return oe&&vo(N,bt),dt}for(yt=f(N,yt);!zt.done;bt++,zt=j.next())zt=st(yt,N,bt,zt.value,Z),zt!==null&&(i&&zt.alternate!==null&&yt.delete(zt.key===null?bt:zt.key),D=w(zt,D,bt),vt===null?dt=zt:vt.sibling=zt,vt=zt);return i&&yt.forEach(function(YP){return s(N,YP)}),oe&&vo(N,bt),dt}function ve(N,D,j,Z){if(typeof j=="object"&&j!==null&&j.type===W&&j.key===null&&(j=j.props.children),typeof j=="object"&&j!==null){switch(j.$$typeof){case O:t:{for(var dt=j.key,vt=D;vt!==null;){if(vt.key===dt){if(dt=j.type,dt===W){if(vt.tag===7){u(N,vt.sibling),D=g(vt,j.props.children),D.return=N,N=D;break t}}else if(vt.elementType===dt||typeof dt=="object"&&dt!==null&&dt.$$typeof===St&&zA(dt)===vt.type){u(N,vt.sibling),D=g(vt,j.props),D.ref=ec(N,vt,j),D.return=N,N=D;break t}u(N,vt);break}else s(N,vt);vt=vt.sibling}j.type===W?(D=bo(j.props.children,N.mode,Z,j.key),D.return=N,N=D):(Z=jf(j.type,j.key,j.props,null,N.mode,Z),Z.ref=ec(N,D,j),Z.return=N,N=Z)}return E(N);case V:t:{for(vt=j.key;D!==null;){if(D.key===vt)if(D.tag===4&&D.stateNode.containerInfo===j.containerInfo&&D.stateNode.implementation===j.implementation){u(N,D.sibling),D=g(D,j.children||[]),D.return=N,N=D;break t}else{u(N,D);break}else s(N,D);D=D.sibling}D=vv(j,N.mode,Z),D.return=N,N=D}return E(N);case St:return vt=j._init,ve(N,D,vt(j._payload),Z)}if(co(j))return at(N,D,j,Z);if(rt(j))return ct(N,D,j,Z);pf(N,j)}return typeof j=="string"&&j!==""||typeof j=="number"?(j=""+j,D!==null&&D.tag===6?(u(N,D.sibling),D=g(D,j),D.return=N,N=D):(u(N,D),D=gv(j,N.mode,Z),D.return=N,N=D),E(N)):u(N,D)}return ve}var sl=HA(!0),UA=HA(!1),mf=vr(null),gf=null,rl=null,Cg=null;function Tg(){Cg=rl=gf=null}function Pg(i){var s=mf.current;se(mf),i._currentValue=s}function kg(i,s,u){for(;i!==null;){var f=i.alternate;if((i.childLanes&s)!==s?(i.childLanes|=s,f!==null&&(f.childLanes|=s)):f!==null&&(f.childLanes&s)!==s&&(f.childLanes|=s),i===u)break;i=i.return}}function ol(i,s){gf=i,Cg=rl=null,i=i.dependencies,i!==null&&i.firstContext!==null&&(i.lanes&s&&(Sn=!0),i.firstContext=null)}function Qn(i){var s=i._currentValue;if(Cg!==i)if(i={context:i,memoizedValue:s,next:null},rl===null){if(gf===null)throw Error(e(308));rl=i,gf.dependencies={lanes:0,firstContext:i}}else rl=rl.next=i;return s}var yo=null;function Rg(i){yo===null?yo=[i]:yo.push(i)}function $A(i,s,u,f){var g=s.interleaved;return g===null?(u.next=u,Rg(s)):(u.next=g.next,g.next=u),s.interleaved=u,vs(i,f)}function vs(i,s){i.lanes|=s;var u=i.alternate;for(u!==null&&(u.lanes|=s),u=i,i=i.return;i!==null;)i.childLanes|=s,u=i.alternate,u!==null&&(u.childLanes|=s),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ar=!1;function Lg(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function WA(i,s){i=i.updateQueue,s.updateQueue===i&&(s.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ys(i,s){return{eventTime:i,lane:s,tag:0,payload:null,callback:null,next:null}}function Sr(i,s,u){var f=i.updateQueue;if(f===null)return null;if(f=f.shared,Vt&2){var g=f.pending;return g===null?s.next=s:(s.next=g.next,g.next=s),f.pending=s,vs(i,u)}return g=f.interleaved,g===null?(s.next=s,Rg(f)):(s.next=g.next,g.next=s),f.interleaved=s,vs(i,u)}function vf(i,s,u){if(s=s.updateQueue,s!==null&&(s=s.shared,(u&4194240)!==0)){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Wm(i,u)}}function GA(i,s){var u=i.updateQueue,f=i.alternate;if(f!==null&&(f=f.updateQueue,u===f)){var g=null,w=null;if(u=u.firstBaseUpdate,u!==null){do{var E={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};w===null?g=w=E:w=w.next=E,u=u.next}while(u!==null);w===null?g=w=s:w=w.next=s}else g=w=s;u={baseState:f.baseState,firstBaseUpdate:g,lastBaseUpdate:w,shared:f.shared,effects:f.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=s:i.next=s,u.lastBaseUpdate=s}function yf(i,s,u,f){var g=i.updateQueue;Ar=!1;var w=g.firstBaseUpdate,E=g.lastBaseUpdate,k=g.shared.pending;if(k!==null){g.shared.pending=null;var L=k,B=L.next;L.next=null,E===null?w=B:E.next=B,E=L;var K=i.alternate;K!==null&&(K=K.updateQueue,k=K.lastBaseUpdate,k!==E&&(k===null?K.firstBaseUpdate=B:k.next=B,K.lastBaseUpdate=L))}if(w!==null){var q=g.baseState;E=0,K=B=L=null,k=w;do{var X=k.lane,st=k.eventTime;if((f&X)===X){K!==null&&(K=K.next={eventTime:st,lane:0,tag:k.tag,payload:k.payload,callback:k.callback,next:null});t:{var at=i,ct=k;switch(X=s,st=u,ct.tag){case 1:if(at=ct.payload,typeof at=="function"){q=at.call(st,q,X);break t}q=at;break t;case 3:at.flags=at.flags&-65537|128;case 0:if(at=ct.payload,X=typeof at=="function"?at.call(st,q,X):at,X==null)break t;q=J({},q,X);break t;case 2:Ar=!0}}k.callback!==null&&k.lane!==0&&(i.flags|=64,X=g.effects,X===null?g.effects=[k]:X.push(k))}else st={eventTime:st,lane:X,tag:k.tag,payload:k.payload,callback:k.callback,next:null},K===null?(B=K=st,L=q):K=K.next=st,E|=X;if(k=k.next,k===null){if(k=g.shared.pending,k===null)break;X=k,k=X.next,X.next=null,g.lastBaseUpdate=X,g.shared.pending=null}}while(!0);if(K===null&&(L=q),g.baseState=L,g.firstBaseUpdate=B,g.lastBaseUpdate=K,s=g.shared.interleaved,s!==null){g=s;do E|=g.lane,g=g.next;while(g!==s)}else w===null&&(g.shared.lanes=0);So|=E,i.lanes=E,i.memoizedState=q}}function XA(i,s,u){if(i=s.effects,s.effects=null,i!==null)for(s=0;s<i.length;s++){var f=i[s],g=f.callback;if(g!==null){if(f.callback=null,f=u,typeof g!="function")throw Error(e(191,g));g.call(f)}}}var nc={},Bi=vr(nc),ic=vr(nc),sc=vr(nc);function wo(i){if(i===nc)throw Error(e(174));return i}function Mg(i,s){switch(ee(sc,s),ee(ic,i),ee(Bi,nc),i=s.nodeType,i){case 9:case 11:s=(s=s.documentElement)?s.namespaceURI:Ni(null,"");break;default:i=i===8?s.parentNode:s,s=i.namespaceURI||null,i=i.tagName,s=Ni(s,i)}se(Bi),ee(Bi,s)}function al(){se(Bi),se(ic),se(sc)}function KA(i){wo(sc.current);var s=wo(Bi.current),u=Ni(s,i.type);s!==u&&(ee(ic,i),ee(Bi,u))}function Dg(i){ic.current===i&&(se(Bi),se(ic))}var ae=vr(0);function wf(i){for(var s=i;s!==null;){if(s.tag===13){var u=s.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return s}else if(s.tag===19&&s.memoizedProps.revealOrder!==void 0){if(s.flags&128)return s}else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return null;s=s.return}s.sibling.return=s.return,s=s.sibling}return null}var Ig=[];function Fg(){for(var i=0;i<Ig.length;i++)Ig[i]._workInProgressVersionPrimary=null;Ig.length=0}var Af=F.ReactCurrentDispatcher,Og=F.ReactCurrentBatchConfig,Ao=0,le=null,be=null,Ie=null,Sf=!1,rc=!1,oc=0,yP=0;function Ze(){throw Error(e(321))}function Ng(i,s){if(s===null)return!1;for(var u=0;u<s.length&&u<i.length;u++)if(!fi(i[u],s[u]))return!1;return!0}function jg(i,s,u,f,g,w){if(Ao=w,le=s,s.memoizedState=null,s.updateQueue=null,s.lanes=0,Af.current=i===null||i.memoizedState===null?EP:_P,i=u(f,g),rc){w=0;do{if(rc=!1,oc=0,25<=w)throw Error(e(301));w+=1,Ie=be=null,s.updateQueue=null,Af.current=xP,i=u(f,g)}while(rc)}if(Af.current=xf,s=be!==null&&be.next!==null,Ao=0,Ie=be=le=null,Sf=!1,s)throw Error(e(300));return i}function Vg(){var i=oc!==0;return oc=0,i}function zi(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?le.memoizedState=Ie=i:Ie=Ie.next=i,Ie}function Zn(){if(be===null){var i=le.alternate;i=i!==null?i.memoizedState:null}else i=be.next;var s=Ie===null?le.memoizedState:Ie.next;if(s!==null)Ie=s,be=i;else{if(i===null)throw Error(e(310));be=i,i={memoizedState:be.memoizedState,baseState:be.baseState,baseQueue:be.baseQueue,queue:be.queue,next:null},Ie===null?le.memoizedState=Ie=i:Ie=Ie.next=i}return Ie}function ac(i,s){return typeof s=="function"?s(i):s}function Bg(i){var s=Zn(),u=s.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=be,g=f.baseQueue,w=u.pending;if(w!==null){if(g!==null){var E=g.next;g.next=w.next,w.next=E}f.baseQueue=g=w,u.pending=null}if(g!==null){w=g.next,f=f.baseState;var k=E=null,L=null,B=w;do{var K=B.lane;if((Ao&K)===K)L!==null&&(L=L.next={lane:0,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),f=B.hasEagerState?B.eagerState:i(f,B.action);else{var q={lane:K,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null};L===null?(k=L=q,E=f):L=L.next=q,le.lanes|=K,So|=K}B=B.next}while(B!==null&&B!==w);L===null?E=f:L.next=k,fi(f,s.memoizedState)||(Sn=!0),s.memoizedState=f,s.baseState=E,s.baseQueue=L,u.lastRenderedState=f}if(i=u.interleaved,i!==null){g=i;do w=g.lane,le.lanes|=w,So|=w,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[s.memoizedState,u.dispatch]}function zg(i){var s=Zn(),u=s.queue;if(u===null)throw Error(e(311));u.lastRenderedReducer=i;var f=u.dispatch,g=u.pending,w=s.memoizedState;if(g!==null){u.pending=null;var E=g=g.next;do w=i(w,E.action),E=E.next;while(E!==g);fi(w,s.memoizedState)||(Sn=!0),s.memoizedState=w,s.baseQueue===null&&(s.baseState=w),u.lastRenderedState=w}return[w,f]}function qA(){}function YA(i,s){var u=le,f=Zn(),g=s(),w=!fi(f.memoizedState,g);if(w&&(f.memoizedState=g,Sn=!0),f=f.queue,Hg(JA.bind(null,u,f,i),[i]),f.getSnapshot!==s||w||Ie!==null&&Ie.memoizedState.tag&1){if(u.flags|=2048,lc(9,ZA.bind(null,u,f,g,s),void 0,null),Fe===null)throw Error(e(349));Ao&30||QA(u,s,g)}return g}function QA(i,s,u){i.flags|=16384,i={getSnapshot:s,value:u},s=le.updateQueue,s===null?(s={lastEffect:null,stores:null},le.updateQueue=s,s.stores=[i]):(u=s.stores,u===null?s.stores=[i]:u.push(i))}function ZA(i,s,u,f){s.value=u,s.getSnapshot=f,tS(s)&&eS(i)}function JA(i,s,u){return u(function(){tS(s)&&eS(i)})}function tS(i){var s=i.getSnapshot;i=i.value;try{var u=s();return!fi(i,u)}catch{return!0}}function eS(i){var s=vs(i,1);s!==null&&yi(s,i,1,-1)}function nS(i){var s=zi();return typeof i=="function"&&(i=i()),s.memoizedState=s.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ac,lastRenderedState:i},s.queue=i,i=i.dispatch=SP.bind(null,le,i),[s.memoizedState,i]}function lc(i,s,u,f){return i={tag:i,create:s,destroy:u,deps:f,next:null},s=le.updateQueue,s===null?(s={lastEffect:null,stores:null},le.updateQueue=s,s.lastEffect=i.next=i):(u=s.lastEffect,u===null?s.lastEffect=i.next=i:(f=u.next,u.next=i,i.next=f,s.lastEffect=i)),i}function iS(){return Zn().memoizedState}function Ef(i,s,u,f){var g=zi();le.flags|=i,g.memoizedState=lc(1|s,u,void 0,f===void 0?null:f)}function _f(i,s,u,f){var g=Zn();f=f===void 0?null:f;var w=void 0;if(be!==null){var E=be.memoizedState;if(w=E.destroy,f!==null&&Ng(f,E.deps)){g.memoizedState=lc(s,u,w,f);return}}le.flags|=i,g.memoizedState=lc(1|s,u,w,f)}function sS(i,s){return Ef(8390656,8,i,s)}function Hg(i,s){return _f(2048,8,i,s)}function rS(i,s){return _f(4,2,i,s)}function oS(i,s){return _f(4,4,i,s)}function aS(i,s){if(typeof s=="function")return i=i(),s(i),function(){s(null)};if(s!=null)return i=i(),s.current=i,function(){s.current=null}}function lS(i,s,u){return u=u!=null?u.concat([i]):null,_f(4,4,aS.bind(null,s,i),u)}function Ug(){}function uS(i,s){var u=Zn();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Ng(s,f[1])?f[0]:(u.memoizedState=[i,s],i)}function cS(i,s){var u=Zn();s=s===void 0?null:s;var f=u.memoizedState;return f!==null&&s!==null&&Ng(s,f[1])?f[0]:(i=i(),u.memoizedState=[i,s],i)}function hS(i,s,u){return Ao&21?(fi(u,s)||(u=zw(),le.lanes|=u,So|=u,i.baseState=!0),s):(i.baseState&&(i.baseState=!1,Sn=!0),i.memoizedState=u)}function wP(i,s){var u=Wt;Wt=u!==0&&4>u?u:4,i(!0);var f=Og.transition;Og.transition={};try{i(!1),s()}finally{Wt=u,Og.transition=f}}function dS(){return Zn().memoizedState}function AP(i,s,u){var f=br(i);if(u={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null},fS(i))pS(s,u);else if(u=$A(i,s,u,f),u!==null){var g=dn();yi(u,i,f,g),mS(u,s,f)}}function SP(i,s,u){var f=br(i),g={lane:f,action:u,hasEagerState:!1,eagerState:null,next:null};if(fS(i))pS(s,g);else{var w=i.alternate;if(i.lanes===0&&(w===null||w.lanes===0)&&(w=s.lastRenderedReducer,w!==null))try{var E=s.lastRenderedState,k=w(E,u);if(g.hasEagerState=!0,g.eagerState=k,fi(k,E)){var L=s.interleaved;L===null?(g.next=g,Rg(s)):(g.next=L.next,L.next=g),s.interleaved=g;return}}catch{}finally{}u=$A(i,s,g,f),u!==null&&(g=dn(),yi(u,i,f,g),mS(u,s,f))}}function fS(i){var s=i.alternate;return i===le||s!==null&&s===le}function pS(i,s){rc=Sf=!0;var u=i.pending;u===null?s.next=s:(s.next=u.next,u.next=s),i.pending=s}function mS(i,s,u){if(u&4194240){var f=s.lanes;f&=i.pendingLanes,u|=f,s.lanes=u,Wm(i,u)}}var xf={readContext:Qn,useCallback:Ze,useContext:Ze,useEffect:Ze,useImperativeHandle:Ze,useInsertionEffect:Ze,useLayoutEffect:Ze,useMemo:Ze,useReducer:Ze,useRef:Ze,useState:Ze,useDebugValue:Ze,useDeferredValue:Ze,useTransition:Ze,useMutableSource:Ze,useSyncExternalStore:Ze,useId:Ze,unstable_isNewReconciler:!1},EP={readContext:Qn,useCallback:function(i,s){return zi().memoizedState=[i,s===void 0?null:s],i},useContext:Qn,useEffect:sS,useImperativeHandle:function(i,s,u){return u=u!=null?u.concat([i]):null,Ef(4194308,4,aS.bind(null,s,i),u)},useLayoutEffect:function(i,s){return Ef(4194308,4,i,s)},useInsertionEffect:function(i,s){return Ef(4,2,i,s)},useMemo:function(i,s){var u=zi();return s=s===void 0?null:s,i=i(),u.memoizedState=[i,s],i},useReducer:function(i,s,u){var f=zi();return s=u!==void 0?u(s):s,f.memoizedState=f.baseState=s,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:s},f.queue=i,i=i.dispatch=AP.bind(null,le,i),[f.memoizedState,i]},useRef:function(i){var s=zi();return i={current:i},s.memoizedState=i},useState:nS,useDebugValue:Ug,useDeferredValue:function(i){return zi().memoizedState=i},useTransition:function(){var i=nS(!1),s=i[0];return i=wP.bind(null,i[1]),zi().memoizedState=i,[s,i]},useMutableSource:function(){},useSyncExternalStore:function(i,s,u){var f=le,g=zi();if(oe){if(u===void 0)throw Error(e(407));u=u()}else{if(u=s(),Fe===null)throw Error(e(349));Ao&30||QA(f,s,u)}g.memoizedState=u;var w={value:u,getSnapshot:s};return g.queue=w,sS(JA.bind(null,f,w,i),[i]),f.flags|=2048,lc(9,ZA.bind(null,f,w,u,s),void 0,null),u},useId:function(){var i=zi(),s=Fe.identifierPrefix;if(oe){var u=gs,f=ms;u=(f&~(1<<32-di(f)-1)).toString(32)+u,s=":"+s+"R"+u,u=oc++,0<u&&(s+="H"+u.toString(32)),s+=":"}else u=yP++,s=":"+s+"r"+u.toString(32)+":";return i.memoizedState=s},unstable_isNewReconciler:!1},_P={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:Hg,useImperativeHandle:lS,useInsertionEffect:rS,useLayoutEffect:oS,useMemo:cS,useReducer:Bg,useRef:iS,useState:function(){return Bg(ac)},useDebugValue:Ug,useDeferredValue:function(i){var s=Zn();return hS(s,be.memoizedState,i)},useTransition:function(){var i=Bg(ac)[0],s=Zn().memoizedState;return[i,s]},useMutableSource:qA,useSyncExternalStore:YA,useId:dS,unstable_isNewReconciler:!1},xP={readContext:Qn,useCallback:uS,useContext:Qn,useEffect:Hg,useImperativeHandle:lS,useInsertionEffect:rS,useLayoutEffect:oS,useMemo:cS,useReducer:zg,useRef:iS,useState:function(){return zg(ac)},useDebugValue:Ug,useDeferredValue:function(i){var s=Zn();return be===null?s.memoizedState=i:hS(s,be.memoizedState,i)},useTransition:function(){var i=zg(ac)[0],s=Zn().memoizedState;return[i,s]},useMutableSource:qA,useSyncExternalStore:YA,useId:dS,unstable_isNewReconciler:!1};function mi(i,s){if(i&&i.defaultProps){s=J({},s),i=i.defaultProps;for(var u in i)s[u]===void 0&&(s[u]=i[u]);return s}return s}function $g(i,s,u,f){s=i.memoizedState,u=u(f,s),u=u==null?s:J({},s,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var bf={isMounted:function(i){return(i=i._reactInternals)?fo(i)===i:!1},enqueueSetState:function(i,s,u){i=i._reactInternals;var f=dn(),g=br(i),w=ys(f,g);w.payload=s,u!=null&&(w.callback=u),s=Sr(i,w,g),s!==null&&(yi(s,i,g,f),vf(s,i,g))},enqueueReplaceState:function(i,s,u){i=i._reactInternals;var f=dn(),g=br(i),w=ys(f,g);w.tag=1,w.payload=s,u!=null&&(w.callback=u),s=Sr(i,w,g),s!==null&&(yi(s,i,g,f),vf(s,i,g))},enqueueForceUpdate:function(i,s){i=i._reactInternals;var u=dn(),f=br(i),g=ys(u,f);g.tag=2,s!=null&&(g.callback=s),s=Sr(i,g,f),s!==null&&(yi(s,i,f,u),vf(s,i,f))}};function gS(i,s,u,f,g,w,E){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(f,w,E):s.prototype&&s.prototype.isPureReactComponent?!Ku(u,f)||!Ku(g,w):!0}function vS(i,s,u){var f=!1,g=yr,w=s.contextType;return typeof w=="object"&&w!==null?w=Qn(w):(g=An(s)?mo:Qe.current,f=s.contextTypes,w=(f=f!=null)?tl(i,g):yr),s=new s(u,w),i.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,s.updater=bf,i.stateNode=s,s._reactInternals=i,f&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=w),s}function yS(i,s,u,f){i=s.state,typeof s.componentWillReceiveProps=="function"&&s.componentWillReceiveProps(u,f),typeof s.UNSAFE_componentWillReceiveProps=="function"&&s.UNSAFE_componentWillReceiveProps(u,f),s.state!==i&&bf.enqueueReplaceState(s,s.state,null)}function Wg(i,s,u,f){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Lg(i);var w=s.contextType;typeof w=="object"&&w!==null?g.context=Qn(w):(w=An(s)?mo:Qe.current,g.context=tl(i,w)),g.state=i.memoizedState,w=s.getDerivedStateFromProps,typeof w=="function"&&($g(i,s,w,u),g.state=i.memoizedState),typeof s.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(s=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),s!==g.state&&bf.enqueueReplaceState(g,g.state,null),yf(i,u,g,f),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function ll(i,s){try{var u="",f=s;do u+=Tt(f),f=f.return;while(f);var g=u}catch(w){g=`
Error generating stack: `+w.message+`
`+w.stack}return{value:i,source:s,stack:g,digest:null}}function Gg(i,s,u){return{value:i,source:null,stack:u??null,digest:s??null}}function Xg(i,s){try{console.error(s.value)}catch(u){setTimeout(function(){throw u})}}var bP=typeof WeakMap=="function"?WeakMap:Map;function wS(i,s,u){u=ys(-1,u),u.tag=3,u.payload={element:null};var f=s.value;return u.callback=function(){Mf||(Mf=!0,lv=f),Xg(i,s)},u}function AS(i,s,u){u=ys(-1,u),u.tag=3;var f=i.type.getDerivedStateFromError;if(typeof f=="function"){var g=s.value;u.payload=function(){return f(g)},u.callback=function(){Xg(i,s)}}var w=i.stateNode;return w!==null&&typeof w.componentDidCatch=="function"&&(u.callback=function(){Xg(i,s),typeof f!="function"&&(_r===null?_r=new Set([this]):_r.add(this));var E=s.stack;this.componentDidCatch(s.value,{componentStack:E!==null?E:""})}),u}function SS(i,s,u){var f=i.pingCache;if(f===null){f=i.pingCache=new bP;var g=new Set;f.set(s,g)}else g=f.get(s),g===void 0&&(g=new Set,f.set(s,g));g.has(u)||(g.add(u),i=VP.bind(null,i,s,u),s.then(i,i))}function ES(i){do{var s;if((s=i.tag===13)&&(s=i.memoizedState,s=s!==null?s.dehydrated!==null:!0),s)return i;i=i.return}while(i!==null);return null}function _S(i,s,u,f,g){return i.mode&1?(i.flags|=65536,i.lanes=g,i):(i===s?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(s=ys(-1,1),s.tag=2,Sr(u,s,1))),u.lanes|=1),i)}var CP=F.ReactCurrentOwner,Sn=!1;function hn(i,s,u,f){s.child=i===null?UA(s,null,u,f):sl(s,i.child,u,f)}function xS(i,s,u,f,g){u=u.render;var w=s.ref;return ol(s,g),f=jg(i,s,u,f,w,g),u=Vg(),i!==null&&!Sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,ws(i,s,g)):(oe&&u&&Sg(s),s.flags|=1,hn(i,s,f,g),s.child)}function bS(i,s,u,f,g){if(i===null){var w=u.type;return typeof w=="function"&&!mv(w)&&w.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(s.tag=15,s.type=w,CS(i,s,w,f,g)):(i=jf(u.type,null,f,s,s.mode,g),i.ref=s.ref,i.return=s,s.child=i)}if(w=i.child,!(i.lanes&g)){var E=w.memoizedProps;if(u=u.compare,u=u!==null?u:Ku,u(E,f)&&i.ref===s.ref)return ws(i,s,g)}return s.flags|=1,i=Tr(w,f),i.ref=s.ref,i.return=s,s.child=i}function CS(i,s,u,f,g){if(i!==null){var w=i.memoizedProps;if(Ku(w,f)&&i.ref===s.ref)if(Sn=!1,s.pendingProps=f=w,(i.lanes&g)!==0)i.flags&131072&&(Sn=!0);else return s.lanes=i.lanes,ws(i,s,g)}return Kg(i,s,u,f,g)}function TS(i,s,u){var f=s.pendingProps,g=f.children,w=i!==null?i.memoizedState:null;if(f.mode==="hidden")if(!(s.mode&1))s.memoizedState={baseLanes:0,cachePool:null,transitions:null},ee(cl,Fn),Fn|=u;else{if(!(u&1073741824))return i=w!==null?w.baseLanes|u:u,s.lanes=s.childLanes=1073741824,s.memoizedState={baseLanes:i,cachePool:null,transitions:null},s.updateQueue=null,ee(cl,Fn),Fn|=i,null;s.memoizedState={baseLanes:0,cachePool:null,transitions:null},f=w!==null?w.baseLanes:u,ee(cl,Fn),Fn|=f}else w!==null?(f=w.baseLanes|u,s.memoizedState=null):f=u,ee(cl,Fn),Fn|=f;return hn(i,s,g,u),s.child}function PS(i,s){var u=s.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(s.flags|=512,s.flags|=2097152)}function Kg(i,s,u,f,g){var w=An(u)?mo:Qe.current;return w=tl(s,w),ol(s,g),u=jg(i,s,u,f,w,g),f=Vg(),i!==null&&!Sn?(s.updateQueue=i.updateQueue,s.flags&=-2053,i.lanes&=~g,ws(i,s,g)):(oe&&f&&Sg(s),s.flags|=1,hn(i,s,u,g),s.child)}function kS(i,s,u,f,g){if(An(u)){var w=!0;uf(s)}else w=!1;if(ol(s,g),s.stateNode===null)Tf(i,s),vS(s,u,f),Wg(s,u,f,g),f=!0;else if(i===null){var E=s.stateNode,k=s.memoizedProps;E.props=k;var L=E.context,B=u.contextType;typeof B=="object"&&B!==null?B=Qn(B):(B=An(u)?mo:Qe.current,B=tl(s,B));var K=u.getDerivedStateFromProps,q=typeof K=="function"||typeof E.getSnapshotBeforeUpdate=="function";q||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==f||L!==B)&&yS(s,E,f,B),Ar=!1;var X=s.memoizedState;E.state=X,yf(s,f,E,g),L=s.memoizedState,k!==f||X!==L||wn.current||Ar?(typeof K=="function"&&($g(s,u,K,f),L=s.memoizedState),(k=Ar||gS(s,u,k,f,X,L,B))?(q||typeof E.UNSAFE_componentWillMount!="function"&&typeof E.componentWillMount!="function"||(typeof E.componentWillMount=="function"&&E.componentWillMount(),typeof E.UNSAFE_componentWillMount=="function"&&E.UNSAFE_componentWillMount()),typeof E.componentDidMount=="function"&&(s.flags|=4194308)):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),s.memoizedProps=f,s.memoizedState=L),E.props=f,E.state=L,E.context=B,f=k):(typeof E.componentDidMount=="function"&&(s.flags|=4194308),f=!1)}else{E=s.stateNode,WA(i,s),k=s.memoizedProps,B=s.type===s.elementType?k:mi(s.type,k),E.props=B,q=s.pendingProps,X=E.context,L=u.contextType,typeof L=="object"&&L!==null?L=Qn(L):(L=An(u)?mo:Qe.current,L=tl(s,L));var st=u.getDerivedStateFromProps;(K=typeof st=="function"||typeof E.getSnapshotBeforeUpdate=="function")||typeof E.UNSAFE_componentWillReceiveProps!="function"&&typeof E.componentWillReceiveProps!="function"||(k!==q||X!==L)&&yS(s,E,f,L),Ar=!1,X=s.memoizedState,E.state=X,yf(s,f,E,g);var at=s.memoizedState;k!==q||X!==at||wn.current||Ar?(typeof st=="function"&&($g(s,u,st,f),at=s.memoizedState),(B=Ar||gS(s,u,B,f,X,at,L)||!1)?(K||typeof E.UNSAFE_componentWillUpdate!="function"&&typeof E.componentWillUpdate!="function"||(typeof E.componentWillUpdate=="function"&&E.componentWillUpdate(f,at,L),typeof E.UNSAFE_componentWillUpdate=="function"&&E.UNSAFE_componentWillUpdate(f,at,L)),typeof E.componentDidUpdate=="function"&&(s.flags|=4),typeof E.getSnapshotBeforeUpdate=="function"&&(s.flags|=1024)):(typeof E.componentDidUpdate!="function"||k===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),s.memoizedProps=f,s.memoizedState=at),E.props=f,E.state=at,E.context=L,f=B):(typeof E.componentDidUpdate!="function"||k===i.memoizedProps&&X===i.memoizedState||(s.flags|=4),typeof E.getSnapshotBeforeUpdate!="function"||k===i.memoizedProps&&X===i.memoizedState||(s.flags|=1024),f=!1)}return qg(i,s,u,f,w,g)}function qg(i,s,u,f,g,w){PS(i,s);var E=(s.flags&128)!==0;if(!f&&!E)return g&&IA(s,u,!1),ws(i,s,w);f=s.stateNode,CP.current=s;var k=E&&typeof u.getDerivedStateFromError!="function"?null:f.render();return s.flags|=1,i!==null&&E?(s.child=sl(s,i.child,null,w),s.child=sl(s,null,k,w)):hn(i,s,k,w),s.memoizedState=f.state,g&&IA(s,u,!0),s.child}function RS(i){var s=i.stateNode;s.pendingContext?MA(i,s.pendingContext,s.pendingContext!==s.context):s.context&&MA(i,s.context,!1),Mg(i,s.containerInfo)}function LS(i,s,u,f,g){return il(),bg(g),s.flags|=256,hn(i,s,u,f),s.child}var Yg={dehydrated:null,treeContext:null,retryLane:0};function Qg(i){return{baseLanes:i,cachePool:null,transitions:null}}function MS(i,s,u){var f=s.pendingProps,g=ae.current,w=!1,E=(s.flags&128)!==0,k;if((k=E)||(k=i!==null&&i.memoizedState===null?!1:(g&2)!==0),k?(w=!0,s.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),ee(ae,g&1),i===null)return xg(s),i=s.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?(s.mode&1?i.data==="$!"?s.lanes=8:s.lanes=1073741824:s.lanes=1,null):(E=f.children,i=f.fallback,w?(f=s.mode,w=s.child,E={mode:"hidden",children:E},!(f&1)&&w!==null?(w.childLanes=0,w.pendingProps=E):w=Vf(E,f,0,null),i=bo(i,f,u,null),w.return=s,i.return=s,w.sibling=i,s.child=w,s.child.memoizedState=Qg(u),s.memoizedState=Yg,i):Zg(s,E));if(g=i.memoizedState,g!==null&&(k=g.dehydrated,k!==null))return TP(i,s,E,f,k,g,u);if(w){w=f.fallback,E=s.mode,g=i.child,k=g.sibling;var L={mode:"hidden",children:f.children};return!(E&1)&&s.child!==g?(f=s.child,f.childLanes=0,f.pendingProps=L,s.deletions=null):(f=Tr(g,L),f.subtreeFlags=g.subtreeFlags&14680064),k!==null?w=Tr(k,w):(w=bo(w,E,u,null),w.flags|=2),w.return=s,f.return=s,f.sibling=w,s.child=f,f=w,w=s.child,E=i.child.memoizedState,E=E===null?Qg(u):{baseLanes:E.baseLanes|u,cachePool:null,transitions:E.transitions},w.memoizedState=E,w.childLanes=i.childLanes&~u,s.memoizedState=Yg,f}return w=i.child,i=w.sibling,f=Tr(w,{mode:"visible",children:f.children}),!(s.mode&1)&&(f.lanes=u),f.return=s,f.sibling=null,i!==null&&(u=s.deletions,u===null?(s.deletions=[i],s.flags|=16):u.push(i)),s.child=f,s.memoizedState=null,f}function Zg(i,s){return s=Vf({mode:"visible",children:s},i.mode,0,null),s.return=i,i.child=s}function Cf(i,s,u,f){return f!==null&&bg(f),sl(s,i.child,null,u),i=Zg(s,s.pendingProps.children),i.flags|=2,s.memoizedState=null,i}function TP(i,s,u,f,g,w,E){if(u)return s.flags&256?(s.flags&=-257,f=Gg(Error(e(422))),Cf(i,s,E,f)):s.memoizedState!==null?(s.child=i.child,s.flags|=128,null):(w=f.fallback,g=s.mode,f=Vf({mode:"visible",children:f.children},g,0,null),w=bo(w,g,E,null),w.flags|=2,f.return=s,w.return=s,f.sibling=w,s.child=f,s.mode&1&&sl(s,i.child,null,E),s.child.memoizedState=Qg(E),s.memoizedState=Yg,w);if(!(s.mode&1))return Cf(i,s,E,null);if(g.data==="$!"){if(f=g.nextSibling&&g.nextSibling.dataset,f)var k=f.dgst;return f=k,w=Error(e(419)),f=Gg(w,f,void 0),Cf(i,s,E,f)}if(k=(E&i.childLanes)!==0,Sn||k){if(f=Fe,f!==null){switch(E&-E){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(f.suspendedLanes|E)?0:g,g!==0&&g!==w.retryLane&&(w.retryLane=g,vs(i,g),yi(f,i,g,-1))}return pv(),f=Gg(Error(e(421))),Cf(i,s,E,f)}return g.data==="$?"?(s.flags|=128,s.child=i.child,s=BP.bind(null,i),g._reactRetry=s,null):(i=w.treeContext,In=gr(g.nextSibling),Dn=s,oe=!0,pi=null,i!==null&&(qn[Yn++]=ms,qn[Yn++]=gs,qn[Yn++]=go,ms=i.id,gs=i.overflow,go=s),s=Zg(s,f.children),s.flags|=4096,s)}function DS(i,s,u){i.lanes|=s;var f=i.alternate;f!==null&&(f.lanes|=s),kg(i.return,s,u)}function Jg(i,s,u,f,g){var w=i.memoizedState;w===null?i.memoizedState={isBackwards:s,rendering:null,renderingStartTime:0,last:f,tail:u,tailMode:g}:(w.isBackwards=s,w.rendering=null,w.renderingStartTime=0,w.last=f,w.tail=u,w.tailMode=g)}function IS(i,s,u){var f=s.pendingProps,g=f.revealOrder,w=f.tail;if(hn(i,s,f.children,u),f=ae.current,f&2)f=f&1|2,s.flags|=128;else{if(i!==null&&i.flags&128)t:for(i=s.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&DS(i,u,s);else if(i.tag===19)DS(i,u,s);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===s)break t;for(;i.sibling===null;){if(i.return===null||i.return===s)break t;i=i.return}i.sibling.return=i.return,i=i.sibling}f&=1}if(ee(ae,f),!(s.mode&1))s.memoizedState=null;else switch(g){case"forwards":for(u=s.child,g=null;u!==null;)i=u.alternate,i!==null&&wf(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=s.child,s.child=null):(g=u.sibling,u.sibling=null),Jg(s,!1,g,u,w);break;case"backwards":for(u=null,g=s.child,s.child=null;g!==null;){if(i=g.alternate,i!==null&&wf(i)===null){s.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}Jg(s,!0,u,null,w);break;case"together":Jg(s,!1,null,null,void 0);break;default:s.memoizedState=null}return s.child}function Tf(i,s){!(s.mode&1)&&i!==null&&(i.alternate=null,s.alternate=null,s.flags|=2)}function ws(i,s,u){if(i!==null&&(s.dependencies=i.dependencies),So|=s.lanes,!(u&s.childLanes))return null;if(i!==null&&s.child!==i.child)throw Error(e(153));if(s.child!==null){for(i=s.child,u=Tr(i,i.pendingProps),s.child=u,u.return=s;i.sibling!==null;)i=i.sibling,u=u.sibling=Tr(i,i.pendingProps),u.return=s;u.sibling=null}return s.child}function PP(i,s,u){switch(s.tag){case 3:RS(s),il();break;case 5:KA(s);break;case 1:An(s.type)&&uf(s);break;case 4:Mg(s,s.stateNode.containerInfo);break;case 10:var f=s.type._context,g=s.memoizedProps.value;ee(mf,f._currentValue),f._currentValue=g;break;case 13:if(f=s.memoizedState,f!==null)return f.dehydrated!==null?(ee(ae,ae.current&1),s.flags|=128,null):u&s.child.childLanes?MS(i,s,u):(ee(ae,ae.current&1),i=ws(i,s,u),i!==null?i.sibling:null);ee(ae,ae.current&1);break;case 19:if(f=(u&s.childLanes)!==0,i.flags&128){if(f)return IS(i,s,u);s.flags|=128}if(g=s.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ee(ae,ae.current),f)break;return null;case 22:case 23:return s.lanes=0,TS(i,s,u)}return ws(i,s,u)}var FS,tv,OS,NS;FS=function(i,s){for(var u=s.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===s)break;for(;u.sibling===null;){if(u.return===null||u.return===s)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},tv=function(){},OS=function(i,s,u,f){var g=i.memoizedProps;if(g!==f){i=s.stateNode,wo(Bi.current);var w=null;switch(u){case"input":g=re(i,g),f=re(i,f),w=[];break;case"select":g=J({},g,{value:void 0}),f=J({},f,{value:void 0}),w=[];break;case"textarea":g=Lu(i,g),f=Lu(i,f),w=[];break;default:typeof g.onClick!="function"&&typeof f.onClick=="function"&&(i.onclick=of)}Im(u,f);var E;u=null;for(B in g)if(!f.hasOwnProperty(B)&&g.hasOwnProperty(B)&&g[B]!=null)if(B==="style"){var k=g[B];for(E in k)k.hasOwnProperty(E)&&(u||(u={}),u[E]="")}else B!=="dangerouslySetInnerHTML"&&B!=="children"&&B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&B!=="autoFocus"&&(o.hasOwnProperty(B)?w||(w=[]):(w=w||[]).push(B,null));for(B in f){var L=f[B];if(k=g!=null?g[B]:void 0,f.hasOwnProperty(B)&&L!==k&&(L!=null||k!=null))if(B==="style")if(k){for(E in k)!k.hasOwnProperty(E)||L&&L.hasOwnProperty(E)||(u||(u={}),u[E]="");for(E in L)L.hasOwnProperty(E)&&k[E]!==L[E]&&(u||(u={}),u[E]=L[E])}else u||(w||(w=[]),w.push(B,u)),u=L;else B==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,k=k?k.__html:void 0,L!=null&&k!==L&&(w=w||[]).push(B,L)):B==="children"?typeof L!="string"&&typeof L!="number"||(w=w||[]).push(B,""+L):B!=="suppressContentEditableWarning"&&B!=="suppressHydrationWarning"&&(o.hasOwnProperty(B)?(L!=null&&B==="onScroll"&&ie("scroll",i),w||k===L||(w=[])):(w=w||[]).push(B,L))}u&&(w=w||[]).push("style",u);var B=w;(s.updateQueue=B)&&(s.flags|=4)}},NS=function(i,s,u,f){u!==f&&(s.flags|=4)};function uc(i,s){if(!oe)switch(i.tailMode){case"hidden":s=i.tail;for(var u=null;s!==null;)s.alternate!==null&&(u=s),s=s.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var f=null;u!==null;)u.alternate!==null&&(f=u),u=u.sibling;f===null?s||i.tail===null?i.tail=null:i.tail.sibling=null:f.sibling=null}}function Je(i){var s=i.alternate!==null&&i.alternate.child===i.child,u=0,f=0;if(s)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags&14680064,f|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,f|=g.subtreeFlags,f|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=f,i.childLanes=u,s}function kP(i,s,u){var f=s.pendingProps;switch(Eg(s),s.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Je(s),null;case 1:return An(s.type)&&lf(),Je(s),null;case 3:return f=s.stateNode,al(),se(wn),se(Qe),Fg(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),(i===null||i.child===null)&&(ff(s)?s.flags|=4:i===null||i.memoizedState.isDehydrated&&!(s.flags&256)||(s.flags|=1024,pi!==null&&(hv(pi),pi=null))),tv(i,s),Je(s),null;case 5:Dg(s);var g=wo(sc.current);if(u=s.type,i!==null&&s.stateNode!=null)OS(i,s,u,f,g),i.ref!==s.ref&&(s.flags|=512,s.flags|=2097152);else{if(!f){if(s.stateNode===null)throw Error(e(166));return Je(s),null}if(i=wo(Bi.current),ff(s)){f=s.stateNode,u=s.type;var w=s.memoizedProps;switch(f[Vi]=s,f[Ju]=w,i=(s.mode&1)!==0,u){case"dialog":ie("cancel",f),ie("close",f);break;case"iframe":case"object":case"embed":ie("load",f);break;case"video":case"audio":for(g=0;g<Yu.length;g++)ie(Yu[g],f);break;case"source":ie("error",f);break;case"img":case"image":case"link":ie("error",f),ie("load",f);break;case"details":ie("toggle",f);break;case"input":xe(f,w),ie("invalid",f);break;case"select":f._wrapperState={wasMultiple:!!w.multiple},ie("invalid",f);break;case"textarea":Id(f,w),ie("invalid",f)}Im(u,w),g=null;for(var E in w)if(w.hasOwnProperty(E)){var k=w[E];E==="children"?typeof k=="string"?f.textContent!==k&&(w.suppressHydrationWarning!==!0&&rf(f.textContent,k,i),g=["children",k]):typeof k=="number"&&f.textContent!==""+k&&(w.suppressHydrationWarning!==!0&&rf(f.textContent,k,i),g=["children",""+k]):o.hasOwnProperty(E)&&k!=null&&E==="onScroll"&&ie("scroll",f)}switch(u){case"input":Fi(f),ur(f,w,!0);break;case"textarea":Fi(f),Od(f);break;case"select":case"option":break;default:typeof w.onClick=="function"&&(f.onclick=of)}f=g,s.updateQueue=f,f!==null&&(s.flags|=4)}else{E=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Nd(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=E.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof f.is=="string"?i=E.createElement(u,{is:f.is}):(i=E.createElement(u),u==="select"&&(E=i,f.multiple?E.multiple=!0:f.size&&(E.size=f.size))):i=E.createElementNS(i,u),i[Vi]=s,i[Ju]=f,FS(i,s,!1,!1),s.stateNode=i;t:{switch(E=Fm(u,f),u){case"dialog":ie("cancel",i),ie("close",i),g=f;break;case"iframe":case"object":case"embed":ie("load",i),g=f;break;case"video":case"audio":for(g=0;g<Yu.length;g++)ie(Yu[g],i);g=f;break;case"source":ie("error",i),g=f;break;case"img":case"image":case"link":ie("error",i),ie("load",i),g=f;break;case"details":ie("toggle",i),g=f;break;case"input":xe(i,f),g=re(i,f),ie("invalid",i);break;case"option":g=f;break;case"select":i._wrapperState={wasMultiple:!!f.multiple},g=J({},f,{value:void 0}),ie("invalid",i);break;case"textarea":Id(i,f),g=Lu(i,f),ie("invalid",i);break;default:g=f}Im(u,g),k=g;for(w in k)if(k.hasOwnProperty(w)){var L=k[w];w==="style"?Cw(i,L):w==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&ho(i,L)):w==="children"?typeof L=="string"?(u!=="textarea"||L!=="")&&ds(i,L):typeof L=="number"&&ds(i,""+L):w!=="suppressContentEditableWarning"&&w!=="suppressHydrationWarning"&&w!=="autoFocus"&&(o.hasOwnProperty(w)?L!=null&&w==="onScroll"&&ie("scroll",i):L!=null&&M(i,w,L,E))}switch(u){case"input":Fi(i),ur(i,f,!1);break;case"textarea":Fi(i),Od(i);break;case"option":f.value!=null&&i.setAttribute("value",""+kt(f.value));break;case"select":i.multiple=!!f.multiple,w=f.value,w!=null?hi(i,!!f.multiple,w,!1):f.defaultValue!=null&&hi(i,!!f.multiple,f.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=of)}switch(u){case"button":case"input":case"select":case"textarea":f=!!f.autoFocus;break t;case"img":f=!0;break t;default:f=!1}}f&&(s.flags|=4)}s.ref!==null&&(s.flags|=512,s.flags|=2097152)}return Je(s),null;case 6:if(i&&s.stateNode!=null)NS(i,s,i.memoizedProps,f);else{if(typeof f!="string"&&s.stateNode===null)throw Error(e(166));if(u=wo(sc.current),wo(Bi.current),ff(s)){if(f=s.stateNode,u=s.memoizedProps,f[Vi]=s,(w=f.nodeValue!==u)&&(i=Dn,i!==null))switch(i.tag){case 3:rf(f.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&rf(f.nodeValue,u,(i.mode&1)!==0)}w&&(s.flags|=4)}else f=(u.nodeType===9?u:u.ownerDocument).createTextNode(f),f[Vi]=s,s.stateNode=f}return Je(s),null;case 13:if(se(ae),f=s.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(oe&&In!==null&&s.mode&1&&!(s.flags&128))BA(),il(),s.flags|=98560,w=!1;else if(w=ff(s),f!==null&&f.dehydrated!==null){if(i===null){if(!w)throw Error(e(318));if(w=s.memoizedState,w=w!==null?w.dehydrated:null,!w)throw Error(e(317));w[Vi]=s}else il(),!(s.flags&128)&&(s.memoizedState=null),s.flags|=4;Je(s),w=!1}else pi!==null&&(hv(pi),pi=null),w=!0;if(!w)return s.flags&65536?s:null}return s.flags&128?(s.lanes=u,s):(f=f!==null,f!==(i!==null&&i.memoizedState!==null)&&f&&(s.child.flags|=8192,s.mode&1&&(i===null||ae.current&1?Ce===0&&(Ce=3):pv())),s.updateQueue!==null&&(s.flags|=4),Je(s),null);case 4:return al(),tv(i,s),i===null&&Qu(s.stateNode.containerInfo),Je(s),null;case 10:return Pg(s.type._context),Je(s),null;case 17:return An(s.type)&&lf(),Je(s),null;case 19:if(se(ae),w=s.memoizedState,w===null)return Je(s),null;if(f=(s.flags&128)!==0,E=w.rendering,E===null)if(f)uc(w,!1);else{if(Ce!==0||i!==null&&i.flags&128)for(i=s.child;i!==null;){if(E=wf(i),E!==null){for(s.flags|=128,uc(w,!1),f=E.updateQueue,f!==null&&(s.updateQueue=f,s.flags|=4),s.subtreeFlags=0,f=u,u=s.child;u!==null;)w=u,i=f,w.flags&=14680066,E=w.alternate,E===null?(w.childLanes=0,w.lanes=i,w.child=null,w.subtreeFlags=0,w.memoizedProps=null,w.memoizedState=null,w.updateQueue=null,w.dependencies=null,w.stateNode=null):(w.childLanes=E.childLanes,w.lanes=E.lanes,w.child=E.child,w.subtreeFlags=0,w.deletions=null,w.memoizedProps=E.memoizedProps,w.memoizedState=E.memoizedState,w.updateQueue=E.updateQueue,w.type=E.type,i=E.dependencies,w.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return ee(ae,ae.current&1|2),s.child}i=i.sibling}w.tail!==null&&ge()>hl&&(s.flags|=128,f=!0,uc(w,!1),s.lanes=4194304)}else{if(!f)if(i=wf(E),i!==null){if(s.flags|=128,f=!0,u=i.updateQueue,u!==null&&(s.updateQueue=u,s.flags|=4),uc(w,!0),w.tail===null&&w.tailMode==="hidden"&&!E.alternate&&!oe)return Je(s),null}else 2*ge()-w.renderingStartTime>hl&&u!==1073741824&&(s.flags|=128,f=!0,uc(w,!1),s.lanes=4194304);w.isBackwards?(E.sibling=s.child,s.child=E):(u=w.last,u!==null?u.sibling=E:s.child=E,w.last=E)}return w.tail!==null?(s=w.tail,w.rendering=s,w.tail=s.sibling,w.renderingStartTime=ge(),s.sibling=null,u=ae.current,ee(ae,f?u&1|2:u&1),s):(Je(s),null);case 22:case 23:return fv(),f=s.memoizedState!==null,i!==null&&i.memoizedState!==null!==f&&(s.flags|=8192),f&&s.mode&1?Fn&1073741824&&(Je(s),s.subtreeFlags&6&&(s.flags|=8192)):Je(s),null;case 24:return null;case 25:return null}throw Error(e(156,s.tag))}function RP(i,s){switch(Eg(s),s.tag){case 1:return An(s.type)&&lf(),i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 3:return al(),se(wn),se(Qe),Fg(),i=s.flags,i&65536&&!(i&128)?(s.flags=i&-65537|128,s):null;case 5:return Dg(s),null;case 13:if(se(ae),i=s.memoizedState,i!==null&&i.dehydrated!==null){if(s.alternate===null)throw Error(e(340));il()}return i=s.flags,i&65536?(s.flags=i&-65537|128,s):null;case 19:return se(ae),null;case 4:return al(),null;case 10:return Pg(s.type._context),null;case 22:case 23:return fv(),null;case 24:return null;default:return null}}var Pf=!1,tn=!1,LP=typeof WeakSet=="function"?WeakSet:Set,ot=null;function ul(i,s){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(f){de(i,s,f)}else u.current=null}function ev(i,s,u){try{u()}catch(f){de(i,s,f)}}var jS=!1;function MP(i,s){if(fg=Xd,i=gA(),rg(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else t:{u=(u=i.ownerDocument)&&u.defaultView||window;var f=u.getSelection&&u.getSelection();if(f&&f.rangeCount!==0){u=f.anchorNode;var g=f.anchorOffset,w=f.focusNode;f=f.focusOffset;try{u.nodeType,w.nodeType}catch{u=null;break t}var E=0,k=-1,L=-1,B=0,K=0,q=i,X=null;e:for(;;){for(var st;q!==u||g!==0&&q.nodeType!==3||(k=E+g),q!==w||f!==0&&q.nodeType!==3||(L=E+f),q.nodeType===3&&(E+=q.nodeValue.length),(st=q.firstChild)!==null;)X=q,q=st;for(;;){if(q===i)break e;if(X===u&&++B===g&&(k=E),X===w&&++K===f&&(L=E),(st=q.nextSibling)!==null)break;q=X,X=q.parentNode}q=st}u=k===-1||L===-1?null:{start:k,end:L}}else u=null}u=u||{start:0,end:0}}else u=null;for(pg={focusedElem:i,selectionRange:u},Xd=!1,ot=s;ot!==null;)if(s=ot,i=s.child,(s.subtreeFlags&1028)!==0&&i!==null)i.return=s,ot=i;else for(;ot!==null;){s=ot;try{var at=s.alternate;if(s.flags&1024)switch(s.tag){case 0:case 11:case 15:break;case 1:if(at!==null){var ct=at.memoizedProps,ve=at.memoizedState,N=s.stateNode,D=N.getSnapshotBeforeUpdate(s.elementType===s.type?ct:mi(s.type,ct),ve);N.__reactInternalSnapshotBeforeUpdate=D}break;case 3:var j=s.stateNode.containerInfo;j.nodeType===1?j.textContent="":j.nodeType===9&&j.documentElement&&j.removeChild(j.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(e(163))}}catch(Z){de(s,s.return,Z)}if(i=s.sibling,i!==null){i.return=s.return,ot=i;break}ot=s.return}return at=jS,jS=!1,at}function cc(i,s,u){var f=s.updateQueue;if(f=f!==null?f.lastEffect:null,f!==null){var g=f=f.next;do{if((g.tag&i)===i){var w=g.destroy;g.destroy=void 0,w!==void 0&&ev(s,u,w)}g=g.next}while(g!==f)}}function kf(i,s){if(s=s.updateQueue,s=s!==null?s.lastEffect:null,s!==null){var u=s=s.next;do{if((u.tag&i)===i){var f=u.create;u.destroy=f()}u=u.next}while(u!==s)}}function nv(i){var s=i.ref;if(s!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof s=="function"?s(i):s.current=i}}function VS(i){var s=i.alternate;s!==null&&(i.alternate=null,VS(s)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(s=i.stateNode,s!==null&&(delete s[Vi],delete s[Ju],delete s[yg],delete s[pP],delete s[mP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function BS(i){return i.tag===5||i.tag===3||i.tag===4}function zS(i){t:for(;;){for(;i.sibling===null;){if(i.return===null||BS(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue t;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function iv(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.nodeType===8?u.parentNode.insertBefore(i,s):u.insertBefore(i,s):(u.nodeType===8?(s=u.parentNode,s.insertBefore(i,u)):(s=u,s.appendChild(i)),u=u._reactRootContainer,u!=null||s.onclick!==null||(s.onclick=of));else if(f!==4&&(i=i.child,i!==null))for(iv(i,s,u),i=i.sibling;i!==null;)iv(i,s,u),i=i.sibling}function sv(i,s,u){var f=i.tag;if(f===5||f===6)i=i.stateNode,s?u.insertBefore(i,s):u.appendChild(i);else if(f!==4&&(i=i.child,i!==null))for(sv(i,s,u),i=i.sibling;i!==null;)sv(i,s,u),i=i.sibling}var Be=null,gi=!1;function Er(i,s,u){for(u=u.child;u!==null;)HS(i,s,u),u=u.sibling}function HS(i,s,u){if(ji&&typeof ji.onCommitFiberUnmount=="function")try{ji.onCommitFiberUnmount(zd,u)}catch{}switch(u.tag){case 5:tn||ul(u,s);case 6:var f=Be,g=gi;Be=null,Er(i,s,u),Be=f,gi=g,Be!==null&&(gi?(i=Be,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Be.removeChild(u.stateNode));break;case 18:Be!==null&&(gi?(i=Be,u=u.stateNode,i.nodeType===8?vg(i.parentNode,u):i.nodeType===1&&vg(i,u),Hu(i)):vg(Be,u.stateNode));break;case 4:f=Be,g=gi,Be=u.stateNode.containerInfo,gi=!0,Er(i,s,u),Be=f,gi=g;break;case 0:case 11:case 14:case 15:if(!tn&&(f=u.updateQueue,f!==null&&(f=f.lastEffect,f!==null))){g=f=f.next;do{var w=g,E=w.destroy;w=w.tag,E!==void 0&&(w&2||w&4)&&ev(u,s,E),g=g.next}while(g!==f)}Er(i,s,u);break;case 1:if(!tn&&(ul(u,s),f=u.stateNode,typeof f.componentWillUnmount=="function"))try{f.props=u.memoizedProps,f.state=u.memoizedState,f.componentWillUnmount()}catch(k){de(u,s,k)}Er(i,s,u);break;case 21:Er(i,s,u);break;case 22:u.mode&1?(tn=(f=tn)||u.memoizedState!==null,Er(i,s,u),tn=f):Er(i,s,u);break;default:Er(i,s,u)}}function US(i){var s=i.updateQueue;if(s!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new LP),s.forEach(function(f){var g=zP.bind(null,i,f);u.has(f)||(u.add(f),f.then(g,g))})}}function vi(i,s){var u=s.deletions;if(u!==null)for(var f=0;f<u.length;f++){var g=u[f];try{var w=i,E=s,k=E;t:for(;k!==null;){switch(k.tag){case 5:Be=k.stateNode,gi=!1;break t;case 3:Be=k.stateNode.containerInfo,gi=!0;break t;case 4:Be=k.stateNode.containerInfo,gi=!0;break t}k=k.return}if(Be===null)throw Error(e(160));HS(w,E,g),Be=null,gi=!1;var L=g.alternate;L!==null&&(L.return=null),g.return=null}catch(B){de(g,s,B)}}if(s.subtreeFlags&12854)for(s=s.child;s!==null;)$S(s,i),s=s.sibling}function $S(i,s){var u=i.alternate,f=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(vi(s,i),Hi(i),f&4){try{cc(3,i,i.return),kf(3,i)}catch(ct){de(i,i.return,ct)}try{cc(5,i,i.return)}catch(ct){de(i,i.return,ct)}}break;case 1:vi(s,i),Hi(i),f&512&&u!==null&&ul(u,u.return);break;case 5:if(vi(s,i),Hi(i),f&512&&u!==null&&ul(u,u.return),i.flags&32){var g=i.stateNode;try{ds(g,"")}catch(ct){de(i,i.return,ct)}}if(f&4&&(g=i.stateNode,g!=null)){var w=i.memoizedProps,E=u!==null?u.memoizedProps:w,k=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{k==="input"&&w.type==="radio"&&w.name!=null&&me(g,w),Fm(k,E);var B=Fm(k,w);for(E=0;E<L.length;E+=2){var K=L[E],q=L[E+1];K==="style"?Cw(g,q):K==="dangerouslySetInnerHTML"?ho(g,q):K==="children"?ds(g,q):M(g,K,q,B)}switch(k){case"input":Oi(g,w);break;case"textarea":Fd(g,w);break;case"select":var X=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!w.multiple;var st=w.value;st!=null?hi(g,!!w.multiple,st,!1):X!==!!w.multiple&&(w.defaultValue!=null?hi(g,!!w.multiple,w.defaultValue,!0):hi(g,!!w.multiple,w.multiple?[]:"",!1))}g[Ju]=w}catch(ct){de(i,i.return,ct)}}break;case 6:if(vi(s,i),Hi(i),f&4){if(i.stateNode===null)throw Error(e(162));g=i.stateNode,w=i.memoizedProps;try{g.nodeValue=w}catch(ct){de(i,i.return,ct)}}break;case 3:if(vi(s,i),Hi(i),f&4&&u!==null&&u.memoizedState.isDehydrated)try{Hu(s.containerInfo)}catch(ct){de(i,i.return,ct)}break;case 4:vi(s,i),Hi(i);break;case 13:vi(s,i),Hi(i),g=i.child,g.flags&8192&&(w=g.memoizedState!==null,g.stateNode.isHidden=w,!w||g.alternate!==null&&g.alternate.memoizedState!==null||(av=ge())),f&4&&US(i);break;case 22:if(K=u!==null&&u.memoizedState!==null,i.mode&1?(tn=(B=tn)||K,vi(s,i),tn=B):vi(s,i),Hi(i),f&8192){if(B=i.memoizedState!==null,(i.stateNode.isHidden=B)&&!K&&i.mode&1)for(ot=i,K=i.child;K!==null;){for(q=ot=K;ot!==null;){switch(X=ot,st=X.child,X.tag){case 0:case 11:case 14:case 15:cc(4,X,X.return);break;case 1:ul(X,X.return);var at=X.stateNode;if(typeof at.componentWillUnmount=="function"){f=X,u=X.return;try{s=f,at.props=s.memoizedProps,at.state=s.memoizedState,at.componentWillUnmount()}catch(ct){de(f,u,ct)}}break;case 5:ul(X,X.return);break;case 22:if(X.memoizedState!==null){XS(q);continue}}st!==null?(st.return=X,ot=st):XS(q)}K=K.sibling}t:for(K=null,q=i;;){if(q.tag===5){if(K===null){K=q;try{g=q.stateNode,B?(w=g.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none"):(k=q.stateNode,L=q.memoizedProps.style,E=L!=null&&L.hasOwnProperty("display")?L.display:null,k.style.display=bw("display",E))}catch(ct){de(i,i.return,ct)}}}else if(q.tag===6){if(K===null)try{q.stateNode.nodeValue=B?"":q.memoizedProps}catch(ct){de(i,i.return,ct)}}else if((q.tag!==22&&q.tag!==23||q.memoizedState===null||q===i)&&q.child!==null){q.child.return=q,q=q.child;continue}if(q===i)break t;for(;q.sibling===null;){if(q.return===null||q.return===i)break t;K===q&&(K=null),q=q.return}K===q&&(K=null),q.sibling.return=q.return,q=q.sibling}}break;case 19:vi(s,i),Hi(i),f&4&&US(i);break;case 21:break;default:vi(s,i),Hi(i)}}function Hi(i){var s=i.flags;if(s&2){try{t:{for(var u=i.return;u!==null;){if(BS(u)){var f=u;break t}u=u.return}throw Error(e(160))}switch(f.tag){case 5:var g=f.stateNode;f.flags&32&&(ds(g,""),f.flags&=-33);var w=zS(i);sv(i,w,g);break;case 3:case 4:var E=f.stateNode.containerInfo,k=zS(i);iv(i,k,E);break;default:throw Error(e(161))}}catch(L){de(i,i.return,L)}i.flags&=-3}s&4096&&(i.flags&=-4097)}function DP(i,s,u){ot=i,WS(i)}function WS(i,s,u){for(var f=(i.mode&1)!==0;ot!==null;){var g=ot,w=g.child;if(g.tag===22&&f){var E=g.memoizedState!==null||Pf;if(!E){var k=g.alternate,L=k!==null&&k.memoizedState!==null||tn;k=Pf;var B=tn;if(Pf=E,(tn=L)&&!B)for(ot=g;ot!==null;)E=ot,L=E.child,E.tag===22&&E.memoizedState!==null?KS(g):L!==null?(L.return=E,ot=L):KS(g);for(;w!==null;)ot=w,WS(w),w=w.sibling;ot=g,Pf=k,tn=B}GS(i)}else g.subtreeFlags&8772&&w!==null?(w.return=g,ot=w):GS(i)}}function GS(i){for(;ot!==null;){var s=ot;if(s.flags&8772){var u=s.alternate;try{if(s.flags&8772)switch(s.tag){case 0:case 11:case 15:tn||kf(5,s);break;case 1:var f=s.stateNode;if(s.flags&4&&!tn)if(u===null)f.componentDidMount();else{var g=s.elementType===s.type?u.memoizedProps:mi(s.type,u.memoizedProps);f.componentDidUpdate(g,u.memoizedState,f.__reactInternalSnapshotBeforeUpdate)}var w=s.updateQueue;w!==null&&XA(s,w,f);break;case 3:var E=s.updateQueue;if(E!==null){if(u=null,s.child!==null)switch(s.child.tag){case 5:u=s.child.stateNode;break;case 1:u=s.child.stateNode}XA(s,E,u)}break;case 5:var k=s.stateNode;if(u===null&&s.flags&4){u=k;var L=s.memoizedProps;switch(s.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&u.focus();break;case"img":L.src&&(u.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(s.memoizedState===null){var B=s.alternate;if(B!==null){var K=B.memoizedState;if(K!==null){var q=K.dehydrated;q!==null&&Hu(q)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(e(163))}tn||s.flags&512&&nv(s)}catch(X){de(s,s.return,X)}}if(s===i){ot=null;break}if(u=s.sibling,u!==null){u.return=s.return,ot=u;break}ot=s.return}}function XS(i){for(;ot!==null;){var s=ot;if(s===i){ot=null;break}var u=s.sibling;if(u!==null){u.return=s.return,ot=u;break}ot=s.return}}function KS(i){for(;ot!==null;){var s=ot;try{switch(s.tag){case 0:case 11:case 15:var u=s.return;try{kf(4,s)}catch(L){de(s,u,L)}break;case 1:var f=s.stateNode;if(typeof f.componentDidMount=="function"){var g=s.return;try{f.componentDidMount()}catch(L){de(s,g,L)}}var w=s.return;try{nv(s)}catch(L){de(s,w,L)}break;case 5:var E=s.return;try{nv(s)}catch(L){de(s,E,L)}}}catch(L){de(s,s.return,L)}if(s===i){ot=null;break}var k=s.sibling;if(k!==null){k.return=s.return,ot=k;break}ot=s.return}}var IP=Math.ceil,Rf=F.ReactCurrentDispatcher,rv=F.ReactCurrentOwner,Jn=F.ReactCurrentBatchConfig,Vt=0,Fe=null,Se=null,ze=0,Fn=0,cl=vr(0),Ce=0,hc=null,So=0,Lf=0,ov=0,dc=null,En=null,av=0,hl=1/0,As=null,Mf=!1,lv=null,_r=null,Df=!1,xr=null,If=0,fc=0,uv=null,Ff=-1,Of=0;function dn(){return Vt&6?ge():Ff!==-1?Ff:Ff=ge()}function br(i){return i.mode&1?Vt&2&&ze!==0?ze&-ze:vP.transition!==null?(Of===0&&(Of=zw()),Of):(i=Wt,i!==0||(i=window.event,i=i===void 0?16:Yw(i.type)),i):1}function yi(i,s,u,f){if(50<fc)throw fc=0,uv=null,Error(e(185));Nu(i,u,f),(!(Vt&2)||i!==Fe)&&(i===Fe&&(!(Vt&2)&&(Lf|=u),Ce===4&&Cr(i,ze)),_n(i,f),u===1&&Vt===0&&!(s.mode&1)&&(hl=ge()+500,cf&&wr()))}function _n(i,s){var u=i.callbackNode;vT(i,s);var f=$d(i,i===Fe?ze:0);if(f===0)u!==null&&jw(u),i.callbackNode=null,i.callbackPriority=0;else if(s=f&-f,i.callbackPriority!==s){if(u!=null&&jw(u),s===1)i.tag===0?gP(YS.bind(null,i)):FA(YS.bind(null,i)),dP(function(){!(Vt&6)&&wr()}),u=null;else{switch(Hw(f)){case 1:u=Hm;break;case 4:u=Vw;break;case 16:u=Bd;break;case 536870912:u=Bw;break;default:u=Bd}u=s1(u,qS.bind(null,i))}i.callbackPriority=s,i.callbackNode=u}}function qS(i,s){if(Ff=-1,Of=0,Vt&6)throw Error(e(327));var u=i.callbackNode;if(dl()&&i.callbackNode!==u)return null;var f=$d(i,i===Fe?ze:0);if(f===0)return null;if(f&30||f&i.expiredLanes||s)s=Nf(i,f);else{s=f;var g=Vt;Vt|=2;var w=ZS();(Fe!==i||ze!==s)&&(As=null,hl=ge()+500,_o(i,s));do try{NP();break}catch(k){QS(i,k)}while(!0);Tg(),Rf.current=w,Vt=g,Se!==null?s=0:(Fe=null,ze=0,s=Ce)}if(s!==0){if(s===2&&(g=Um(i),g!==0&&(f=g,s=cv(i,g))),s===1)throw u=hc,_o(i,0),Cr(i,f),_n(i,ge()),u;if(s===6)Cr(i,f);else{if(g=i.current.alternate,!(f&30)&&!FP(g)&&(s=Nf(i,f),s===2&&(w=Um(i),w!==0&&(f=w,s=cv(i,w))),s===1))throw u=hc,_o(i,0),Cr(i,f),_n(i,ge()),u;switch(i.finishedWork=g,i.finishedLanes=f,s){case 0:case 1:throw Error(e(345));case 2:xo(i,En,As);break;case 3:if(Cr(i,f),(f&130023424)===f&&(s=av+500-ge(),10<s)){if($d(i,0)!==0)break;if(g=i.suspendedLanes,(g&f)!==f){dn(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=gg(xo.bind(null,i,En,As),s);break}xo(i,En,As);break;case 4:if(Cr(i,f),(f&4194240)===f)break;for(s=i.eventTimes,g=-1;0<f;){var E=31-di(f);w=1<<E,E=s[E],E>g&&(g=E),f&=~w}if(f=g,f=ge()-f,f=(120>f?120:480>f?480:1080>f?1080:1920>f?1920:3e3>f?3e3:4320>f?4320:1960*IP(f/1960))-f,10<f){i.timeoutHandle=gg(xo.bind(null,i,En,As),f);break}xo(i,En,As);break;case 5:xo(i,En,As);break;default:throw Error(e(329))}}}return _n(i,ge()),i.callbackNode===u?qS.bind(null,i):null}function cv(i,s){var u=dc;return i.current.memoizedState.isDehydrated&&(_o(i,s).flags|=256),i=Nf(i,s),i!==2&&(s=En,En=u,s!==null&&hv(s)),i}function hv(i){En===null?En=i:En.push.apply(En,i)}function FP(i){for(var s=i;;){if(s.flags&16384){var u=s.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var f=0;f<u.length;f++){var g=u[f],w=g.getSnapshot;g=g.value;try{if(!fi(w(),g))return!1}catch{return!1}}}if(u=s.child,s.subtreeFlags&16384&&u!==null)u.return=s,s=u;else{if(s===i)break;for(;s.sibling===null;){if(s.return===null||s.return===i)return!0;s=s.return}s.sibling.return=s.return,s=s.sibling}}return!0}function Cr(i,s){for(s&=~ov,s&=~Lf,i.suspendedLanes|=s,i.pingedLanes&=~s,i=i.expirationTimes;0<s;){var u=31-di(s),f=1<<u;i[u]=-1,s&=~f}}function YS(i){if(Vt&6)throw Error(e(327));dl();var s=$d(i,0);if(!(s&1))return _n(i,ge()),null;var u=Nf(i,s);if(i.tag!==0&&u===2){var f=Um(i);f!==0&&(s=f,u=cv(i,f))}if(u===1)throw u=hc,_o(i,0),Cr(i,s),_n(i,ge()),u;if(u===6)throw Error(e(345));return i.finishedWork=i.current.alternate,i.finishedLanes=s,xo(i,En,As),_n(i,ge()),null}function dv(i,s){var u=Vt;Vt|=1;try{return i(s)}finally{Vt=u,Vt===0&&(hl=ge()+500,cf&&wr())}}function Eo(i){xr!==null&&xr.tag===0&&!(Vt&6)&&dl();var s=Vt;Vt|=1;var u=Jn.transition,f=Wt;try{if(Jn.transition=null,Wt=1,i)return i()}finally{Wt=f,Jn.transition=u,Vt=s,!(Vt&6)&&wr()}}function fv(){Fn=cl.current,se(cl)}function _o(i,s){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,hP(u)),Se!==null)for(u=Se.return;u!==null;){var f=u;switch(Eg(f),f.tag){case 1:f=f.type.childContextTypes,f!=null&&lf();break;case 3:al(),se(wn),se(Qe),Fg();break;case 5:Dg(f);break;case 4:al();break;case 13:se(ae);break;case 19:se(ae);break;case 10:Pg(f.type._context);break;case 22:case 23:fv()}u=u.return}if(Fe=i,Se=i=Tr(i.current,null),ze=Fn=s,Ce=0,hc=null,ov=Lf=So=0,En=dc=null,yo!==null){for(s=0;s<yo.length;s++)if(u=yo[s],f=u.interleaved,f!==null){u.interleaved=null;var g=f.next,w=u.pending;if(w!==null){var E=w.next;w.next=g,f.next=E}u.pending=f}yo=null}return i}function QS(i,s){do{var u=Se;try{if(Tg(),Af.current=xf,Sf){for(var f=le.memoizedState;f!==null;){var g=f.queue;g!==null&&(g.pending=null),f=f.next}Sf=!1}if(Ao=0,Ie=be=le=null,rc=!1,oc=0,rv.current=null,u===null||u.return===null){Ce=1,hc=s,Se=null;break}t:{var w=i,E=u.return,k=u,L=s;if(s=ze,k.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var B=L,K=k,q=K.tag;if(!(K.mode&1)&&(q===0||q===11||q===15)){var X=K.alternate;X?(K.updateQueue=X.updateQueue,K.memoizedState=X.memoizedState,K.lanes=X.lanes):(K.updateQueue=null,K.memoizedState=null)}var st=ES(E);if(st!==null){st.flags&=-257,_S(st,E,k,w,s),st.mode&1&&SS(w,B,s),s=st,L=B;var at=s.updateQueue;if(at===null){var ct=new Set;ct.add(L),s.updateQueue=ct}else at.add(L);break t}else{if(!(s&1)){SS(w,B,s),pv();break t}L=Error(e(426))}}else if(oe&&k.mode&1){var ve=ES(E);if(ve!==null){!(ve.flags&65536)&&(ve.flags|=256),_S(ve,E,k,w,s),bg(ll(L,k));break t}}w=L=ll(L,k),Ce!==4&&(Ce=2),dc===null?dc=[w]:dc.push(w),w=E;do{switch(w.tag){case 3:w.flags|=65536,s&=-s,w.lanes|=s;var N=wS(w,L,s);GA(w,N);break t;case 1:k=L;var D=w.type,j=w.stateNode;if(!(w.flags&128)&&(typeof D.getDerivedStateFromError=="function"||j!==null&&typeof j.componentDidCatch=="function"&&(_r===null||!_r.has(j)))){w.flags|=65536,s&=-s,w.lanes|=s;var Z=AS(w,k,s);GA(w,Z);break t}}w=w.return}while(w!==null)}t1(u)}catch(dt){s=dt,Se===u&&u!==null&&(Se=u=u.return);continue}break}while(!0)}function ZS(){var i=Rf.current;return Rf.current=xf,i===null?xf:i}function pv(){(Ce===0||Ce===3||Ce===2)&&(Ce=4),Fe===null||!(So&268435455)&&!(Lf&268435455)||Cr(Fe,ze)}function Nf(i,s){var u=Vt;Vt|=2;var f=ZS();(Fe!==i||ze!==s)&&(As=null,_o(i,s));do try{OP();break}catch(g){QS(i,g)}while(!0);if(Tg(),Vt=u,Rf.current=f,Se!==null)throw Error(e(261));return Fe=null,ze=0,Ce}function OP(){for(;Se!==null;)JS(Se)}function NP(){for(;Se!==null&&!lT();)JS(Se)}function JS(i){var s=i1(i.alternate,i,Fn);i.memoizedProps=i.pendingProps,s===null?t1(i):Se=s,rv.current=null}function t1(i){var s=i;do{var u=s.alternate;if(i=s.return,s.flags&32768){if(u=RP(u,s),u!==null){u.flags&=32767,Se=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Ce=6,Se=null;return}}else if(u=kP(u,s,Fn),u!==null){Se=u;return}if(s=s.sibling,s!==null){Se=s;return}Se=s=i}while(s!==null);Ce===0&&(Ce=5)}function xo(i,s,u){var f=Wt,g=Jn.transition;try{Jn.transition=null,Wt=1,jP(i,s,u,f)}finally{Jn.transition=g,Wt=f}return null}function jP(i,s,u,f){do dl();while(xr!==null);if(Vt&6)throw Error(e(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(e(177));i.callbackNode=null,i.callbackPriority=0;var w=u.lanes|u.childLanes;if(yT(i,w),i===Fe&&(Se=Fe=null,ze=0),!(u.subtreeFlags&2064)&&!(u.flags&2064)||Df||(Df=!0,s1(Bd,function(){return dl(),null})),w=(u.flags&15990)!==0,u.subtreeFlags&15990||w){w=Jn.transition,Jn.transition=null;var E=Wt;Wt=1;var k=Vt;Vt|=4,rv.current=null,MP(i,u),$S(u,i),sP(pg),Xd=!!fg,pg=fg=null,i.current=u,DP(u),uT(),Vt=k,Wt=E,Jn.transition=w}else i.current=u;if(Df&&(Df=!1,xr=i,If=g),w=i.pendingLanes,w===0&&(_r=null),dT(u.stateNode),_n(i,ge()),s!==null)for(f=i.onRecoverableError,u=0;u<s.length;u++)g=s[u],f(g.value,{componentStack:g.stack,digest:g.digest});if(Mf)throw Mf=!1,i=lv,lv=null,i;return If&1&&i.tag!==0&&dl(),w=i.pendingLanes,w&1?i===uv?fc++:(fc=0,uv=i):fc=0,wr(),null}function dl(){if(xr!==null){var i=Hw(If),s=Jn.transition,u=Wt;try{if(Jn.transition=null,Wt=16>i?16:i,xr===null)var f=!1;else{if(i=xr,xr=null,If=0,Vt&6)throw Error(e(331));var g=Vt;for(Vt|=4,ot=i.current;ot!==null;){var w=ot,E=w.child;if(ot.flags&16){var k=w.deletions;if(k!==null){for(var L=0;L<k.length;L++){var B=k[L];for(ot=B;ot!==null;){var K=ot;switch(K.tag){case 0:case 11:case 15:cc(8,K,w)}var q=K.child;if(q!==null)q.return=K,ot=q;else for(;ot!==null;){K=ot;var X=K.sibling,st=K.return;if(VS(K),K===B){ot=null;break}if(X!==null){X.return=st,ot=X;break}ot=st}}}var at=w.alternate;if(at!==null){var ct=at.child;if(ct!==null){at.child=null;do{var ve=ct.sibling;ct.sibling=null,ct=ve}while(ct!==null)}}ot=w}}if(w.subtreeFlags&2064&&E!==null)E.return=w,ot=E;else t:for(;ot!==null;){if(w=ot,w.flags&2048)switch(w.tag){case 0:case 11:case 15:cc(9,w,w.return)}var N=w.sibling;if(N!==null){N.return=w.return,ot=N;break t}ot=w.return}}var D=i.current;for(ot=D;ot!==null;){E=ot;var j=E.child;if(E.subtreeFlags&2064&&j!==null)j.return=E,ot=j;else t:for(E=D;ot!==null;){if(k=ot,k.flags&2048)try{switch(k.tag){case 0:case 11:case 15:kf(9,k)}}catch(dt){de(k,k.return,dt)}if(k===E){ot=null;break t}var Z=k.sibling;if(Z!==null){Z.return=k.return,ot=Z;break t}ot=k.return}}if(Vt=g,wr(),ji&&typeof ji.onPostCommitFiberRoot=="function")try{ji.onPostCommitFiberRoot(zd,i)}catch{}f=!0}return f}finally{Wt=u,Jn.transition=s}}return!1}function e1(i,s,u){s=ll(u,s),s=wS(i,s,1),i=Sr(i,s,1),s=dn(),i!==null&&(Nu(i,1,s),_n(i,s))}function de(i,s,u){if(i.tag===3)e1(i,i,u);else for(;s!==null;){if(s.tag===3){e1(s,i,u);break}else if(s.tag===1){var f=s.stateNode;if(typeof s.type.getDerivedStateFromError=="function"||typeof f.componentDidCatch=="function"&&(_r===null||!_r.has(f))){i=ll(u,i),i=AS(s,i,1),s=Sr(s,i,1),i=dn(),s!==null&&(Nu(s,1,i),_n(s,i));break}}s=s.return}}function VP(i,s,u){var f=i.pingCache;f!==null&&f.delete(s),s=dn(),i.pingedLanes|=i.suspendedLanes&u,Fe===i&&(ze&u)===u&&(Ce===4||Ce===3&&(ze&130023424)===ze&&500>ge()-av?_o(i,0):ov|=u),_n(i,s)}function n1(i,s){s===0&&(i.mode&1?(s=Ud,Ud<<=1,!(Ud&130023424)&&(Ud=4194304)):s=1);var u=dn();i=vs(i,s),i!==null&&(Nu(i,s,u),_n(i,u))}function BP(i){var s=i.memoizedState,u=0;s!==null&&(u=s.retryLane),n1(i,u)}function zP(i,s){var u=0;switch(i.tag){case 13:var f=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:f=i.stateNode;break;default:throw Error(e(314))}f!==null&&f.delete(s),n1(i,u)}var i1;i1=function(i,s,u){if(i!==null)if(i.memoizedProps!==s.pendingProps||wn.current)Sn=!0;else{if(!(i.lanes&u)&&!(s.flags&128))return Sn=!1,PP(i,s,u);Sn=!!(i.flags&131072)}else Sn=!1,oe&&s.flags&1048576&&OA(s,df,s.index);switch(s.lanes=0,s.tag){case 2:var f=s.type;Tf(i,s),i=s.pendingProps;var g=tl(s,Qe.current);ol(s,u),g=jg(null,s,f,i,g,u);var w=Vg();return s.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(s.tag=1,s.memoizedState=null,s.updateQueue=null,An(f)?(w=!0,uf(s)):w=!1,s.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Lg(s),g.updater=bf,s.stateNode=g,g._reactInternals=s,Wg(s,f,i,u),s=qg(null,s,f,!0,w,u)):(s.tag=0,oe&&w&&Sg(s),hn(null,s,g,u),s=s.child),s;case 16:f=s.elementType;t:{switch(Tf(i,s),i=s.pendingProps,g=f._init,f=g(f._payload),s.type=f,g=s.tag=UP(f),i=mi(f,i),g){case 0:s=Kg(null,s,f,i,u);break t;case 1:s=kS(null,s,f,i,u);break t;case 11:s=xS(null,s,f,i,u);break t;case 14:s=bS(null,s,f,mi(f.type,i),u);break t}throw Error(e(306,f,""))}return s;case 0:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:mi(f,g),Kg(i,s,f,g,u);case 1:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:mi(f,g),kS(i,s,f,g,u);case 3:t:{if(RS(s),i===null)throw Error(e(387));f=s.pendingProps,w=s.memoizedState,g=w.element,WA(i,s),yf(s,f,null,u);var E=s.memoizedState;if(f=E.element,w.isDehydrated)if(w={element:f,isDehydrated:!1,cache:E.cache,pendingSuspenseBoundaries:E.pendingSuspenseBoundaries,transitions:E.transitions},s.updateQueue.baseState=w,s.memoizedState=w,s.flags&256){g=ll(Error(e(423)),s),s=LS(i,s,f,u,g);break t}else if(f!==g){g=ll(Error(e(424)),s),s=LS(i,s,f,u,g);break t}else for(In=gr(s.stateNode.containerInfo.firstChild),Dn=s,oe=!0,pi=null,u=UA(s,null,f,u),s.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(il(),f===g){s=ws(i,s,u);break t}hn(i,s,f,u)}s=s.child}return s;case 5:return KA(s),i===null&&xg(s),f=s.type,g=s.pendingProps,w=i!==null?i.memoizedProps:null,E=g.children,mg(f,g)?E=null:w!==null&&mg(f,w)&&(s.flags|=32),PS(i,s),hn(i,s,E,u),s.child;case 6:return i===null&&xg(s),null;case 13:return MS(i,s,u);case 4:return Mg(s,s.stateNode.containerInfo),f=s.pendingProps,i===null?s.child=sl(s,null,f,u):hn(i,s,f,u),s.child;case 11:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:mi(f,g),xS(i,s,f,g,u);case 7:return hn(i,s,s.pendingProps,u),s.child;case 8:return hn(i,s,s.pendingProps.children,u),s.child;case 12:return hn(i,s,s.pendingProps.children,u),s.child;case 10:t:{if(f=s.type._context,g=s.pendingProps,w=s.memoizedProps,E=g.value,ee(mf,f._currentValue),f._currentValue=E,w!==null)if(fi(w.value,E)){if(w.children===g.children&&!wn.current){s=ws(i,s,u);break t}}else for(w=s.child,w!==null&&(w.return=s);w!==null;){var k=w.dependencies;if(k!==null){E=w.child;for(var L=k.firstContext;L!==null;){if(L.context===f){if(w.tag===1){L=ys(-1,u&-u),L.tag=2;var B=w.updateQueue;if(B!==null){B=B.shared;var K=B.pending;K===null?L.next=L:(L.next=K.next,K.next=L),B.pending=L}}w.lanes|=u,L=w.alternate,L!==null&&(L.lanes|=u),kg(w.return,u,s),k.lanes|=u;break}L=L.next}}else if(w.tag===10)E=w.type===s.type?null:w.child;else if(w.tag===18){if(E=w.return,E===null)throw Error(e(341));E.lanes|=u,k=E.alternate,k!==null&&(k.lanes|=u),kg(E,u,s),E=w.sibling}else E=w.child;if(E!==null)E.return=w;else for(E=w;E!==null;){if(E===s){E=null;break}if(w=E.sibling,w!==null){w.return=E.return,E=w;break}E=E.return}w=E}hn(i,s,g.children,u),s=s.child}return s;case 9:return g=s.type,f=s.pendingProps.children,ol(s,u),g=Qn(g),f=f(g),s.flags|=1,hn(i,s,f,u),s.child;case 14:return f=s.type,g=mi(f,s.pendingProps),g=mi(f.type,g),bS(i,s,f,g,u);case 15:return CS(i,s,s.type,s.pendingProps,u);case 17:return f=s.type,g=s.pendingProps,g=s.elementType===f?g:mi(f,g),Tf(i,s),s.tag=1,An(f)?(i=!0,uf(s)):i=!1,ol(s,u),vS(s,f,g),Wg(s,f,g,u),qg(null,s,f,!0,i,u);case 19:return IS(i,s,u);case 22:return TS(i,s,u)}throw Error(e(156,s.tag))};function s1(i,s){return Nw(i,s)}function HP(i,s,u,f){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=s,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=f,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ti(i,s,u,f){return new HP(i,s,u,f)}function mv(i){return i=i.prototype,!(!i||!i.isReactComponent)}function UP(i){if(typeof i=="function")return mv(i)?1:0;if(i!=null){if(i=i.$$typeof,i===_t)return 11;if(i===xt)return 14}return 2}function Tr(i,s){var u=i.alternate;return u===null?(u=ti(i.tag,s,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=s,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,s=i.dependencies,u.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function jf(i,s,u,f,g,w){var E=2;if(f=i,typeof i=="function")mv(i)&&(E=1);else if(typeof i=="string")E=5;else t:switch(i){case W:return bo(u.children,g,w,s);case H:E=8,g|=8;break;case Y:return i=ti(12,u,s,g|2),i.elementType=Y,i.lanes=w,i;case pt:return i=ti(13,u,s,g),i.elementType=pt,i.lanes=w,i;case ht:return i=ti(19,u,s,g),i.elementType=ht,i.lanes=w,i;case G:return Vf(u,g,w,s);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case et:E=10;break t;case tt:E=9;break t;case _t:E=11;break t;case xt:E=14;break t;case St:E=16,f=null;break t}throw Error(e(130,i==null?i:typeof i,""))}return s=ti(E,u,s,g),s.elementType=i,s.type=f,s.lanes=w,s}function bo(i,s,u,f){return i=ti(7,i,f,s),i.lanes=u,i}function Vf(i,s,u,f){return i=ti(22,i,f,s),i.elementType=G,i.lanes=u,i.stateNode={isHidden:!1},i}function gv(i,s,u){return i=ti(6,i,null,s),i.lanes=u,i}function vv(i,s,u){return s=ti(4,i.children!==null?i.children:[],i.key,s),s.lanes=u,s.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},s}function $P(i,s,u,f,g){this.tag=s,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=$m(0),this.expirationTimes=$m(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=$m(0),this.identifierPrefix=f,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function yv(i,s,u,f,g,w,E,k,L){return i=new $P(i,s,u,k,L),s===1?(s=1,w===!0&&(s|=8)):s=0,w=ti(3,null,null,s),i.current=w,w.stateNode=i,w.memoizedState={element:f,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Lg(w),i}function WP(i,s,u){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:f==null?null:""+f,children:i,containerInfo:s,implementation:u}}function r1(i){if(!i)return yr;i=i._reactInternals;t:{if(fo(i)!==i||i.tag!==1)throw Error(e(170));var s=i;do{switch(s.tag){case 3:s=s.stateNode.context;break t;case 1:if(An(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break t}}s=s.return}while(s!==null);throw Error(e(171))}if(i.tag===1){var u=i.type;if(An(u))return DA(i,u,s)}return s}function o1(i,s,u,f,g,w,E,k,L){return i=yv(u,f,!0,i,g,w,E,k,L),i.context=r1(null),u=i.current,f=dn(),g=br(u),w=ys(f,g),w.callback=s??null,Sr(u,w,g),i.current.lanes=g,Nu(i,g,f),_n(i,f),i}function Bf(i,s,u,f){var g=s.current,w=dn(),E=br(g);return u=r1(u),s.context===null?s.context=u:s.pendingContext=u,s=ys(w,E),s.payload={element:i},f=f===void 0?null:f,f!==null&&(s.callback=f),i=Sr(g,s,E),i!==null&&(yi(i,g,E,w),vf(i,g,E)),E}function zf(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function a1(i,s){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<s?u:s}}function wv(i,s){a1(i,s),(i=i.alternate)&&a1(i,s)}function GP(){return null}var l1=typeof reportError=="function"?reportError:function(i){console.error(i)};function Av(i){this._internalRoot=i}Hf.prototype.render=Av.prototype.render=function(i){var s=this._internalRoot;if(s===null)throw Error(e(409));Bf(i,s,null,null)},Hf.prototype.unmount=Av.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var s=i.containerInfo;Eo(function(){Bf(null,i,null,null)}),s[fs]=null}};function Hf(i){this._internalRoot=i}Hf.prototype.unstable_scheduleHydration=function(i){if(i){var s=Ww();i={blockedOn:null,target:i,priority:s};for(var u=0;u<fr.length&&s!==0&&s<fr[u].priority;u++);fr.splice(u,0,i),u===0&&Kw(i)}};function Sv(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Uf(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function u1(){}function XP(i,s,u,f,g){if(g){if(typeof f=="function"){var w=f;f=function(){var B=zf(E);w.call(B)}}var E=o1(s,f,i,0,null,!1,!1,"",u1);return i._reactRootContainer=E,i[fs]=E.current,Qu(i.nodeType===8?i.parentNode:i),Eo(),E}for(;g=i.lastChild;)i.removeChild(g);if(typeof f=="function"){var k=f;f=function(){var B=zf(L);k.call(B)}}var L=yv(i,0,!1,null,null,!1,!1,"",u1);return i._reactRootContainer=L,i[fs]=L.current,Qu(i.nodeType===8?i.parentNode:i),Eo(function(){Bf(s,L,u,f)}),L}function $f(i,s,u,f,g){var w=u._reactRootContainer;if(w){var E=w;if(typeof g=="function"){var k=g;g=function(){var L=zf(E);k.call(L)}}Bf(s,E,i,g)}else E=XP(u,s,i,g,f);return zf(E)}Uw=function(i){switch(i.tag){case 3:var s=i.stateNode;if(s.current.memoizedState.isDehydrated){var u=Ou(s.pendingLanes);u!==0&&(Wm(s,u|1),_n(s,ge()),!(Vt&6)&&(hl=ge()+500,wr()))}break;case 13:Eo(function(){var f=vs(i,1);if(f!==null){var g=dn();yi(f,i,1,g)}}),wv(i,1)}},Gm=function(i){if(i.tag===13){var s=vs(i,134217728);if(s!==null){var u=dn();yi(s,i,134217728,u)}wv(i,134217728)}},$w=function(i){if(i.tag===13){var s=br(i),u=vs(i,s);if(u!==null){var f=dn();yi(u,i,s,f)}wv(i,s)}},Ww=function(){return Wt},Gw=function(i,s){var u=Wt;try{return Wt=i,s()}finally{Wt=u}},jm=function(i,s,u){switch(s){case"input":if(Oi(i,u),s=u.name,u.type==="radio"&&s!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+s)+'][type="radio"]'),s=0;s<u.length;s++){var f=u[s];if(f!==i&&f.form===i.form){var g=af(f);if(!g)throw Error(e(90));lr(f),Oi(f,g)}}}break;case"textarea":Fd(i,u);break;case"select":s=u.value,s!=null&&hi(i,!!u.multiple,s,!1)}},Rw=dv,Lw=Eo;var KP={usingClientEntryPoint:!1,Events:[tc,Za,af,Pw,kw,dv]},pc={findFiberByHostInstance:po,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},qP={bundleType:pc.bundleType,version:pc.version,rendererPackageName:pc.rendererPackageName,rendererConfig:pc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:F.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Fw(i),i===null?null:i.stateNode},findFiberByHostInstance:pc.findFiberByHostInstance||GP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wf.isDisabled&&Wf.supportsFiber)try{zd=Wf.inject(qP),ji=Wf}catch{}}return xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=KP,xn.createPortal=function(i,s){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Sv(s))throw Error(e(200));return WP(i,s,null,u)},xn.createRoot=function(i,s){if(!Sv(i))throw Error(e(299));var u=!1,f="",g=l1;return s!=null&&(s.unstable_strictMode===!0&&(u=!0),s.identifierPrefix!==void 0&&(f=s.identifierPrefix),s.onRecoverableError!==void 0&&(g=s.onRecoverableError)),s=yv(i,1,!1,null,null,u,!1,f,g),i[fs]=s.current,Qu(i.nodeType===8?i.parentNode:i),new Av(s)},xn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var s=i._reactInternals;if(s===void 0)throw typeof i.render=="function"?Error(e(188)):(i=Object.keys(i).join(","),Error(e(268,i)));return i=Fw(s),i=i===null?null:i.stateNode,i},xn.flushSync=function(i){return Eo(i)},xn.hydrate=function(i,s,u){if(!Uf(s))throw Error(e(200));return $f(null,i,s,!0,u)},xn.hydrateRoot=function(i,s,u){if(!Sv(i))throw Error(e(405));var f=u!=null&&u.hydratedSources||null,g=!1,w="",E=l1;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(w=u.identifierPrefix),u.onRecoverableError!==void 0&&(E=u.onRecoverableError)),s=o1(s,null,i,1,u??null,g,!1,w,E),i[fs]=s.current,Qu(i),f)for(i=0;i<f.length;i++)u=f[i],g=u._getVersion,g=g(u._source),s.mutableSourceEagerHydrationData==null?s.mutableSourceEagerHydrationData=[u,g]:s.mutableSourceEagerHydrationData.push(u,g);return new Hf(s)},xn.render=function(i,s,u){if(!Uf(s))throw Error(e(200));return $f(null,i,s,!1,u)},xn.unmountComponentAtNode=function(i){if(!Uf(i))throw Error(e(40));return i._reactRootContainer?(Eo(function(){$f(null,null,i,!1,function(){i._reactRootContainer=null,i[fs]=null})}),!0):!1},xn.unstable_batchedUpdates=dv,xn.unstable_renderSubtreeIntoContainer=function(i,s,u,f){if(!Uf(u))throw Error(e(200));if(i==null||i._reactInternals===void 0)throw Error(e(38));return $f(i,s,u,!1,f)},xn.version="18.3.1-next-f1338f8080-20240426",xn}var y1;function rk(){if(y1)return bv.exports;y1=1;function r(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}return r(),bv.exports=sk(),bv.exports}var w1;function ok(){if(w1)return Gf;w1=1;var r=rk();return Gf.createRoot=r.createRoot,Gf.hydrateRoot=r.hydrateRoot,Gf}var ak=ok();const Xf=[{label:"Sobre nosotros",link:"#nosotros"},{label:"Fotitos",link:"#fotitos"},{label:"Cancionsita y mensajes",link:"#cancion"}];var d_={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},A1=La.createContext&&La.createContext(d_),lk=["attr","size","title"];function uk(r,t){if(r==null)return{};var e=ck(r,t),n,o;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(r);for(o=0;o<a.length;o++)n=a[o],!(t.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(r,n)&&(e[n]=r[n])}return e}function ck(r,t){if(r==null)return{};var e={};for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)){if(t.indexOf(n)>=0)continue;e[n]=r[n]}return e}function Mp(){return Mp=Object.assign?Object.assign.bind():function(r){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n])}return r},Mp.apply(this,arguments)}function S1(r,t){var e=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);t&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),e.push.apply(e,n)}return e}function Dp(r){for(var t=1;t<arguments.length;t++){var e=arguments[t]!=null?arguments[t]:{};t%2?S1(Object(e),!0).forEach(function(n){hk(r,n,e[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(e)):S1(Object(e)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(e,n))})}return r}function hk(r,t,e){return t=dk(t),t in r?Object.defineProperty(r,t,{value:e,enumerable:!0,configurable:!0,writable:!0}):r[t]=e,r}function dk(r){var t=fk(r,"string");return typeof t=="symbol"?t:t+""}function fk(r,t){if(typeof r!="object"||!r)return r;var e=r[Symbol.toPrimitive];if(e!==void 0){var n=e.call(r,t||"default");if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(r)}function f_(r){return r&&r.map((t,e)=>La.createElement(t.tag,Dp({key:e},t.attr),f_(t.child)))}function R0(r){return t=>La.createElement(pk,Mp({attr:Dp({},r.attr)},t),f_(r.child))}function pk(r){var t=e=>{var{attr:n,size:o,title:a}=r,l=uk(r,lk),c=o||e.size||"1em",d;return e.className&&(d=e.className),r.className&&(d=(d?d+" ":"")+r.className),La.createElement("svg",Mp({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},e.attr,n,l,{className:d,style:Dp(Dp({color:r.color||e.color},e.style),r.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),a&&La.createElement("title",null,a),r.children)};return A1!==void 0?La.createElement(A1.Consumer,null,e=>t(e)):t(d_)}function mk(r){return R0({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M438.6 278.6c12.5-12.5 12.5-32.8 0-45.3l-160-160c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L338.8 224 32 224c-17.7 0-32 14.3-32 32s14.3 32 32 32l306.7 0L233.4 393.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0l160-160z"},child:[]}]})(r)}function gk(r){return R0({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(r)}function vk(r){return R0({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M342.6 150.6c12.5-12.5 12.5-32.8 0-45.3s-32.8-12.5-45.3 0L192 210.7 86.6 105.4c-12.5-12.5-32.8-12.5-45.3 0s-12.5 32.8 0 45.3L146.7 256 41.4 361.4c-12.5 12.5-12.5 32.8 0 45.3s32.8 12.5 45.3 0L192 301.3 297.4 406.6c12.5 12.5 32.8 12.5 45.3 0s12.5-32.8 0-45.3L237.3 256 342.6 150.6z"},child:[]}]})(r)}function yk(){const[r,t]=$.useState(!1),e=()=>{t(!r)},[n,o]=$.useState("");return $.useEffect(()=>{const a=Xf.map(d=>document.querySelector(d.link)),l={root:null,rootMargin:"0px",threshold:.5},c=new IntersectionObserver(d=>{d.forEach(p=>{p.isIntersecting&&o(p.target.id)})},l);return a.forEach(d=>{d&&c.observe(d)}),()=>{a.forEach(d=>{d&&c.unobserve(d)})}},[Xf]),Q.jsx("nav",{className:"shadow-lg shadow-pink-300 rounded-xl sticky z-50 py-3 mt-5 backdrop-blur-lg w-full max-w-2xl mx-auto",children:Q.jsxs("div",{className:"container px-4 mx-auto relative text-sm",children:[Q.jsxs("div",{className:"flex justify-center items-center",children:[Q.jsx("ul",{className:"hidden lg:flex space-x-12",children:Xf.map((a,l)=>Q.jsx("li",{className:`hover:transition-all duration-500 transform ${n===a.link.substring(1)?"scale-110":""} hover:text-pink-400`,children:Q.jsx("a",{href:a.link,className:"font-semibold text-gray-400 hover:text-pink-300",children:a.label})},l))}),Q.jsx("div",{className:"lg:hidden md:flex flex-col justify-end",children:Q.jsx("button",{onClick:e,className:"text-2xl text-gray-400",children:r?Q.jsx(vk,{size:20}):Q.jsx(gk,{size:20})})})]}),r&&Q.jsx("div",{className:"fixed right-0 z-20 rounded-b-xl  w-full p-12 flex flex-col justify-center items-center lg:hidden bg-white}",children:Q.jsx("ul",{children:Xf.map((a,l)=>Q.jsx("li",{className:"py-4",children:Q.jsx("a",{href:a.link,children:a.label})},l))})})]})})}const wk="/TamaliDreamRemastered/assets/baile-znev6BJI.gif",Ak=({show:r,onClose:t,children:e})=>r?Q.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:Q.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6 w-full max-w-2xl relative",children:[Q.jsx("button",{className:"absolute top-2 right-2 text-gray-600 hover:text-gray-900",onClick:t,children:"✖"}),e]})}):null,Sk="modulepreload",Ek=function(r){return"/TamaliDreamRemastered/"+r},E1={},Kf=function(t,e,n){let o=Promise.resolve();if(e&&e.length>0){document.getElementsByTagName("link");const l=document.querySelector("meta[property=csp-nonce]"),c=(l==null?void 0:l.nonce)||(l==null?void 0:l.getAttribute("nonce"));o=Promise.allSettled(e.map(d=>{if(d=Ek(d),d in E1)return;E1[d]=!0;const p=d.endsWith(".css"),m=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${d}"]${m}`))return;const v=document.createElement("link");if(v.rel=p?"stylesheet":Sk,p||(v.as="script"),v.crossOrigin="",v.href=d,c&&v.setAttribute("nonce",c),document.head.appendChild(v),p)return new Promise((y,A)=>{v.addEventListener("load",y),v.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${d}`)))})}))}function a(l){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=l,window.dispatchEvent(c),!c.defaultPrevented)throw l}return o.then(l=>{for(const c of l||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})};var Nc={};Nc.d=(r,t)=>{for(var e in t)Nc.o(t,e)&&!Nc.o(r,e)&&Object.defineProperty(r,e,{enumerable:!0,get:t[e]})};Nc.o=(r,t)=>Object.prototype.hasOwnProperty.call(r,t);var Ct=globalThis.pdfjsLib={};Nc.d(Ct,{AbortException:()=>Ba,AnnotationEditorLayer:()=>i0,AnnotationEditorParamsType:()=>Pt,AnnotationEditorType:()=>jt,AnnotationEditorUIManager:()=>Ia,AnnotationLayer:()=>AL,AnnotationMode:()=>Dr,CMapCompressionType:()=>qv,ColorPicker:()=>Bp,DOMSVGFactory:()=>D0,DrawLayer:()=>a0,FeatureTest:()=>kn,GlobalWorkerOptions:()=>Js,ImageKind:()=>ip,InvalidPDFException:()=>m_,MissingPDFException:()=>Va,OPS:()=>Si,Outliner:()=>jy,PDFDataRangeTransport:()=>cx,PDFDateString:()=>E_,PDFWorker:()=>Cl,PasswordResponses:()=>Ck,PermissionFlag:()=>bk,PixelsPerInch:()=>io,RenderingCancelledException:()=>I0,TextLayer:()=>jp,UnexpectedResponseException:()=>ym,Util:()=>ft,VerbosityLevel:()=>mm,XfaLayer:()=>dx,build:()=>tL,createValidAbsoluteUrl:()=>Rk,fetchData:()=>_m,getDocument:()=>WR,getFilenameFromUrl:()=>Bk,getPdfFilenameFromUrl:()=>zk,getXfaPageViewport:()=>Hk,isDataScheme:()=>F0,isPdfFile:()=>O0,noContextMenu:()=>Ln,normalizeUnicode:()=>Ok,renderTextLayer:()=>OR,setLayerDimensions:()=>Da,shadow:()=>Bt,updateTextLayer:()=>NR,version:()=>JR});const ln=typeof process=="object"&&process+""=="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&process.type!=="browser"),p_=[1,0,0,1,0,0],Kv=[.001,0,0,.001,0,0],_k=1e7,Pv=1.35,li={ANY:1,DISPLAY:2,PRINT:4,SAVE:8,ANNOTATIONS_FORMS:16,ANNOTATIONS_STORAGE:32,ANNOTATIONS_DISABLE:64,OPLIST:256},Dr={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},xk="pdfjs_internal_editor_",jt={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},Pt={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},bk={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},en={FILL:0,STROKE:1,FILL_STROKE:2,INVISIBLE:3,FILL_ADD_TO_PATH:4,STROKE_ADD_TO_PATH:5,FILL_STROKE_ADD_TO_PATH:6,ADD_TO_PATH:7,FILL_STROKE_MASK:3,ADD_TO_PATH_FLAG:4},ip={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},Te={TEXT:1,LINK:2,FREETEXT:3,LINE:4,SQUARE:5,CIRCLE:6,POLYGON:7,POLYLINE:8,HIGHLIGHT:9,UNDERLINE:10,SQUIGGLY:11,STRIKEOUT:12,STAMP:13,CARET:14,INK:15,POPUP:16,FILEATTACHMENT:17,SOUND:18,MOVIE:19,WIDGET:20,SCREEN:21,PRINTERMARK:22,TRAPNET:23,WATERMARK:24,THREED:25,REDACT:26},gc={SOLID:1,DASHED:2,BEVELED:3,INSET:4,UNDERLINE:5},mm={ERRORS:0,WARNINGS:1,INFOS:5},qv={NONE:0,BINARY:1},Si={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91},Ck={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let gm=mm.WARNINGS;function Tk(r){Number.isInteger(r)&&(gm=r)}function Pk(){return gm}function vm(r){gm>=mm.INFOS&&console.log(`Info: ${r}`)}function Mt(r){gm>=mm.WARNINGS&&console.log(`Warning: ${r}`)}function Yt(r){throw new Error(r)}function De(r,t){r||Yt(t)}function kk(r){switch(r==null?void 0:r.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}function Rk(r,t=null,e=null){if(!r)return null;try{if(e&&typeof r=="string"){if(e.addDefaultProtocol&&r.startsWith("www.")){const o=r.match(/\./g);(o==null?void 0:o.length)>=2&&(r=`http://${r}`)}if(e.tryConvertEncoding)try{r=Fk(r)}catch{}}const n=t?new URL(r,t):new URL(r);if(kk(n))return n}catch{}return null}function Bt(r,t,e,n=!1){return Object.defineProperty(r,t,{value:e,enumerable:!n,configurable:!0,writable:!1}),e}const lo=function(){function t(e,n){this.constructor===t&&Yt("Cannot initialize BaseException."),this.message=e,this.name=n}return t.prototype=new Error,t.constructor=t,t}();class Yv extends lo{constructor(t,e){super(t,"PasswordException"),this.code=e}}class Qv extends lo{constructor(t,e){super(t,"UnknownErrorException"),this.details=e}}class m_ extends lo{constructor(t){super(t,"InvalidPDFException")}}class Va extends lo{constructor(t){super(t,"MissingPDFException")}}class ym extends lo{constructor(t,e){super(t,"UnexpectedResponseException"),this.status=e}}class Lk extends lo{constructor(t){super(t,"FormatError")}}class Ba extends lo{constructor(t){super(t,"AbortException")}}function g_(r){(typeof r!="object"||(r==null?void 0:r.length)===void 0)&&Yt("Invalid argument for bytesToString");const t=r.length,e=8192;if(t<e)return String.fromCharCode.apply(null,r);const n=[];for(let o=0;o<t;o+=e){const a=Math.min(o+e,t),l=r.subarray(o,a);n.push(String.fromCharCode.apply(null,l))}return n.join("")}function wm(r){typeof r!="string"&&Yt("Invalid argument for stringToBytes");const t=r.length,e=new Uint8Array(t);for(let n=0;n<t;++n)e[n]=r.charCodeAt(n)&255;return e}function Mk(r){return String.fromCharCode(r>>24&255,r>>16&255,r>>8&255,r&255)}function L0(r){const t=Object.create(null);for(const[e,n]of r)t[e]=n;return t}function Dk(){const r=new Uint8Array(4);return r[0]=1,new Uint32Array(r.buffer,0,1)[0]===1}function Ik(){try{return new Function(""),!0}catch{return!1}}class kn{static get isLittleEndian(){return Bt(this,"isLittleEndian",Dk())}static get isEvalSupported(){return Bt(this,"isEvalSupported",Ik())}static get isOffscreenCanvasSupported(){return Bt(this,"isOffscreenCanvasSupported",typeof OffscreenCanvas<"u")}static get platform(){return typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.platform)=="string"?Bt(this,"platform",{isMac:navigator.platform.includes("Mac")}):Bt(this,"platform",{isMac:!1})}static get isCSSRoundSupported(){var t,e;return Bt(this,"isCSSRoundSupported",(e=(t=globalThis.CSS)==null?void 0:t.supports)==null?void 0:e.call(t,"width: round(1.5px, 1px)"))}}const kv=Array.from(Array(256).keys(),r=>r.toString(16).padStart(2,"0"));var ir,sp,Zv;class ft{static makeHexColor(t,e,n){return`#${kv[t]}${kv[e]}${kv[n]}`}static scaleMinMax(t,e){let n;t[0]?(t[0]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[0],e[2]*=t[0],t[3]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[3],e[3]*=t[3]):(n=e[0],e[0]=e[1],e[1]=n,n=e[2],e[2]=e[3],e[3]=n,t[1]<0&&(n=e[1],e[1]=e[3],e[3]=n),e[1]*=t[1],e[3]*=t[1],t[2]<0&&(n=e[0],e[0]=e[2],e[2]=n),e[0]*=t[2],e[2]*=t[2]),e[0]+=t[4],e[1]+=t[5],e[2]+=t[4],e[3]+=t[5]}static transform(t,e){return[t[0]*e[0]+t[2]*e[1],t[1]*e[0]+t[3]*e[1],t[0]*e[2]+t[2]*e[3],t[1]*e[2]+t[3]*e[3],t[0]*e[4]+t[2]*e[5]+t[4],t[1]*e[4]+t[3]*e[5]+t[5]]}static applyTransform(t,e){const n=t[0]*e[0]+t[1]*e[2]+e[4],o=t[0]*e[1]+t[1]*e[3]+e[5];return[n,o]}static applyInverseTransform(t,e){const n=e[0]*e[3]-e[1]*e[2],o=(t[0]*e[3]-t[1]*e[2]+e[2]*e[5]-e[4]*e[3])/n,a=(-t[0]*e[1]+t[1]*e[0]+e[4]*e[1]-e[5]*e[0])/n;return[o,a]}static getAxialAlignedBoundingBox(t,e){const n=this.applyTransform(t,e),o=this.applyTransform(t.slice(2,4),e),a=this.applyTransform([t[0],t[3]],e),l=this.applyTransform([t[2],t[1]],e);return[Math.min(n[0],o[0],a[0],l[0]),Math.min(n[1],o[1],a[1],l[1]),Math.max(n[0],o[0],a[0],l[0]),Math.max(n[1],o[1],a[1],l[1])]}static inverseTransform(t){const e=t[0]*t[3]-t[1]*t[2];return[t[3]/e,-t[1]/e,-t[2]/e,t[0]/e,(t[2]*t[5]-t[4]*t[3])/e,(t[4]*t[1]-t[5]*t[0])/e]}static singularValueDecompose2dScale(t){const e=[t[0],t[2],t[1],t[3]],n=t[0]*e[0]+t[1]*e[2],o=t[0]*e[1]+t[1]*e[3],a=t[2]*e[0]+t[3]*e[2],l=t[2]*e[1]+t[3]*e[3],c=(n+l)/2,d=Math.sqrt((n+l)**2-4*(n*l-a*o))/2,p=c+d||1,m=c-d||1;return[Math.sqrt(p),Math.sqrt(m)]}static normalizeRect(t){const e=t.slice(0);return t[0]>t[2]&&(e[0]=t[2],e[2]=t[0]),t[1]>t[3]&&(e[1]=t[3],e[3]=t[1]),e}static intersect(t,e){const n=Math.max(Math.min(t[0],t[2]),Math.min(e[0],e[2])),o=Math.min(Math.max(t[0],t[2]),Math.max(e[0],e[2]));if(n>o)return null;const a=Math.max(Math.min(t[1],t[3]),Math.min(e[1],e[3])),l=Math.min(Math.max(t[1],t[3]),Math.max(e[1],e[3]));return a>l?null:[n,a,o,l]}static bezierBoundingBox(t,e,n,o,a,l,c,d,p){return p?(p[0]=Math.min(p[0],t,c),p[1]=Math.min(p[1],e,d),p[2]=Math.max(p[2],t,c),p[3]=Math.max(p[3],e,d)):p=[Math.min(t,c),Math.min(e,d),Math.max(t,c),Math.max(e,d)],b(this,ir,Zv).call(this,t,n,a,c,e,o,l,d,3*(-t+3*(n-a)+c),6*(t-2*n+a),3*(n-t),p),b(this,ir,Zv).call(this,t,n,a,c,e,o,l,d,3*(-e+3*(o-l)+d),6*(e-2*o+l),3*(o-e),p),p}}ir=new WeakSet,sp=function(t,e,n,o,a,l,c,d,p,m){if(p<=0||p>=1)return;const v=1-p,y=p*p,A=y*p,S=v*(v*(v*t+3*p*e)+3*y*n)+A*o,_=v*(v*(v*a+3*p*l)+3*y*c)+A*d;m[0]=Math.min(m[0],S),m[1]=Math.min(m[1],_),m[2]=Math.max(m[2],S),m[3]=Math.max(m[3],_)},Zv=function(t,e,n,o,a,l,c,d,p,m,v,y){if(Math.abs(p)<1e-12){Math.abs(m)>=1e-12&&b(this,ir,sp).call(this,t,e,n,o,a,l,c,d,-v/m,y);return}const A=m**2-4*v*p;if(A<0)return;const S=Math.sqrt(A),_=2*p;b(this,ir,sp).call(this,t,e,n,o,a,l,c,d,(-m+S)/_,y),b(this,ir,sp).call(this,t,e,n,o,a,l,c,d,(-m-S)/_,y)},T(ft,ir);function Fk(r){return decodeURIComponent(escape(r))}let Rv=null,_1=null;function Ok(r){return Rv||(Rv=/([\u00a0\u00b5\u037e\u0eb3\u2000-\u200a\u202f\u2126\ufb00-\ufb04\ufb06\ufb20-\ufb36\ufb38-\ufb3c\ufb3e\ufb40-\ufb41\ufb43-\ufb44\ufb46-\ufba1\ufba4-\ufba9\ufbae-\ufbb1\ufbd3-\ufbdc\ufbde-\ufbe7\ufbea-\ufbf8\ufbfc-\ufbfd\ufc00-\ufc5d\ufc64-\ufcf1\ufcf5-\ufd3d\ufd88\ufdf4\ufdfa-\ufdfb\ufe71\ufe77\ufe79\ufe7b\ufe7d]+)|(\ufb05+)/gu,_1=new Map([["ﬅ","ſt"]])),r.replaceAll(Rv,(t,e,n)=>e?e.normalize("NFKC"):_1.get(n))}function Nk(){if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.randomUUID)=="function")return crypto.randomUUID();const r=new Uint8Array(32);if(typeof crypto<"u"&&typeof(crypto==null?void 0:crypto.getRandomValues)=="function")crypto.getRandomValues(r);else for(let t=0;t<32;t++)r[t]=Math.floor(Math.random()*255);return g_(r)}const v_="pdfjs_internal_id_",Ss={BEZIER_CURVE_TO:0,MOVE_TO:1,LINE_TO:2,QUADRATIC_CURVE_TO:3,RESTORE:4,SAVE:5,SCALE:6,TRANSFORM:7,TRANSLATE:8};class Am{constructor(){this.constructor===Am&&Yt("Cannot initialize BaseFilterFactory.")}addFilter(t){return"none"}addHCMFilter(t,e){return"none"}addAlphaFilter(t){return"none"}addLuminosityFilter(t){return"none"}addHighlightHCMFilter(t,e,n,o,a){return"none"}destroy(t=!1){}}var Xc;const Sw=class Sw{constructor({enableHWA:t=!1}={}){T(this,Xc,!1);this.constructor===Sw&&Yt("Cannot initialize BaseCanvasFactory."),x(this,Xc,t)}create(t,e){if(t<=0||e<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(t,e);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!h(this,Xc)})}}reset(t,e,n){if(!t.canvas)throw new Error("Canvas is not specified");if(e<=0||n<=0)throw new Error("Invalid canvas size");t.canvas.width=e,t.canvas.height=n}destroy(t){if(!t.canvas)throw new Error("Canvas is not specified");t.canvas.width=0,t.canvas.height=0,t.canvas=null,t.context=null}_createCanvas(t,e){Yt("Abstract method `_createCanvas` called.")}};Xc=new WeakMap;let Ip=Sw;class Sm{constructor({baseUrl:t=null,isCompressed:e=!0}){this.constructor===Sm&&Yt("Cannot initialize BaseCMapReaderFactory."),this.baseUrl=t,this.isCompressed=e}async fetch({name:t}){if(!this.baseUrl)throw new Error('The CMap "baseUrl" parameter must be specified, ensure that the "cMapUrl" and "cMapPacked" API parameters are provided.');if(!t)throw new Error("CMap name must be specified.");const e=this.baseUrl+t+(this.isCompressed?".bcmap":""),n=this.isCompressed?qv.BINARY:qv.NONE;return this._fetchData(e,n).catch(o=>{throw new Error(`Unable to load ${this.isCompressed?"binary ":""}CMap at: ${e}`)})}_fetchData(t,e){Yt("Abstract method `_fetchData` called.")}}class Em{constructor({baseUrl:t=null}){this.constructor===Em&&Yt("Cannot initialize BaseStandardFontDataFactory."),this.baseUrl=t}async fetch({filename:t}){if(!this.baseUrl)throw new Error('The standard font "baseUrl" parameter must be specified, ensure that the "standardFontDataUrl" API parameter is provided.');if(!t)throw new Error("Font filename must be specified.");const e=`${this.baseUrl}${t}`;return this._fetchData(e).catch(n=>{throw new Error(`Unable to load font data at: ${e}`)})}_fetchData(t){Yt("Abstract method `_fetchData` called.")}}class M0{constructor(){this.constructor===M0&&Yt("Cannot initialize BaseSVGFactory.")}create(t,e,n=!1){if(t<=0||e<=0)throw new Error("Invalid SVG dimensions");const o=this._createSVG("svg:svg");return o.setAttribute("version","1.1"),n||(o.setAttribute("width",`${t}px`),o.setAttribute("height",`${e}px`)),o.setAttribute("preserveAspectRatio","none"),o.setAttribute("viewBox",`0 0 ${t} ${e}`),o}createElement(t){if(typeof t!="string")throw new Error("Invalid SVG element type");return this._createSVG(t)}_createSVG(t){Yt("Abstract method `_createSVG` called.")}}const _s="http://www.w3.org/2000/svg",Do=class Do{};Rt(Do,"CSS",96),Rt(Do,"PDF",72),Rt(Do,"PDF_TO_CSS_UNITS",Do.CSS/Do.PDF);let io=Do;var Oo,$i,Ps,Cn,Yp,No,ut,nn,fl,pl,rp,y_,Jv,ml,Ac,Sc,ty,Ec;class jk extends Am{constructor({docId:e,ownerDocument:n=globalThis.document}={}){super();T(this,ut);T(this,Oo);T(this,$i);T(this,Ps);T(this,Cn);T(this,Yp);T(this,No,0);x(this,Ps,e),x(this,Cn,n)}addFilter(e){if(!e)return"none";let n=h(this,ut,nn).get(e);if(n)return n;const[o,a,l]=b(this,ut,rp).call(this,e),c=e.length===1?o:`${o}${a}${l}`;if(n=h(this,ut,nn).get(c),n)return h(this,ut,nn).set(e,n),n;const d=`g_${h(this,Ps)}_transfer_map_${On(this,No)._++}`,p=`url(#${d})`;h(this,ut,nn).set(e,p),h(this,ut,nn).set(c,p);const m=b(this,ut,ml).call(this,d);return b(this,ut,Sc).call(this,o,a,l,m),p}addHCMFilter(e,n){var S;const o=`${e}-${n}`,a="base";let l=h(this,ut,fl).get(a);if((l==null?void 0:l.key)===o||(l?((S=l.filter)==null||S.remove(),l.key=o,l.url="none",l.filter=null):(l={key:o,url:"none",filter:null},h(this,ut,fl).set(a,l)),!e||!n))return l.url;const c=b(this,ut,Ec).call(this,e);e=ft.makeHexColor(...c);const d=b(this,ut,Ec).call(this,n);if(n=ft.makeHexColor(...d),h(this,ut,pl).style.color="",e==="#000000"&&n==="#ffffff"||e===n)return l.url;const p=new Array(256);for(let _=0;_<=255;_++){const P=_/255;p[_]=P<=.03928?P/12.92:((P+.055)/1.055)**2.4}const m=p.join(","),v=`g_${h(this,Ps)}_hcm_filter`,y=l.filter=b(this,ut,ml).call(this,v);b(this,ut,Sc).call(this,m,m,m,y),b(this,ut,Jv).call(this,y);const A=(_,P)=>{const C=c[_]/255,R=d[_]/255,M=new Array(P+1);for(let F=0;F<=P;F++)M[F]=C+F/P*(R-C);return M.join(",")};return b(this,ut,Sc).call(this,A(0,5),A(1,5),A(2,5),y),l.url=`url(#${v})`,l.url}addAlphaFilter(e){let n=h(this,ut,nn).get(e);if(n)return n;const[o]=b(this,ut,rp).call(this,[e]),a=`alpha_${o}`;if(n=h(this,ut,nn).get(a),n)return h(this,ut,nn).set(e,n),n;const l=`g_${h(this,Ps)}_alpha_map_${On(this,No)._++}`,c=`url(#${l})`;h(this,ut,nn).set(e,c),h(this,ut,nn).set(a,c);const d=b(this,ut,ml).call(this,l);return b(this,ut,ty).call(this,o,d),c}addLuminosityFilter(e){let n=h(this,ut,nn).get(e||"luminosity");if(n)return n;let o,a;if(e?([o]=b(this,ut,rp).call(this,[e]),a=`luminosity_${o}`):a="luminosity",n=h(this,ut,nn).get(a),n)return h(this,ut,nn).set(e,n),n;const l=`g_${h(this,Ps)}_luminosity_map_${On(this,No)._++}`,c=`url(#${l})`;h(this,ut,nn).set(e,c),h(this,ut,nn).set(a,c);const d=b(this,ut,ml).call(this,l);return b(this,ut,y_).call(this,d),e&&b(this,ut,ty).call(this,o,d),c}addHighlightHCMFilter(e,n,o,a,l){var R;const c=`${n}-${o}-${a}-${l}`;let d=h(this,ut,fl).get(e);if((d==null?void 0:d.key)===c||(d?((R=d.filter)==null||R.remove(),d.key=c,d.url="none",d.filter=null):(d={key:c,url:"none",filter:null},h(this,ut,fl).set(e,d)),!n||!o))return d.url;const[p,m]=[n,o].map(b(this,ut,Ec).bind(this));let v=Math.round(.2126*p[0]+.7152*p[1]+.0722*p[2]),y=Math.round(.2126*m[0]+.7152*m[1]+.0722*m[2]),[A,S]=[a,l].map(b(this,ut,Ec).bind(this));y<v&&([v,y,A,S]=[y,v,S,A]),h(this,ut,pl).style.color="";const _=(M,F,O)=>{const V=new Array(256),W=(y-v)/O,H=M/255,Y=(F-M)/(255*O);let et=0;for(let tt=0;tt<=O;tt++){const _t=Math.round(v+tt*W),pt=H+tt*Y;for(let ht=et;ht<=_t;ht++)V[ht]=pt;et=_t+1}for(let tt=et;tt<256;tt++)V[tt]=V[et-1];return V.join(",")},P=`g_${h(this,Ps)}_hcm_${e}_filter`,C=d.filter=b(this,ut,ml).call(this,P);return b(this,ut,Jv).call(this,C),b(this,ut,Sc).call(this,_(A[0],S[0],5),_(A[1],S[1],5),_(A[2],S[2],5),C),d.url=`url(#${P})`,d.url}destroy(e=!1){e&&h(this,ut,fl).size!==0||(h(this,$i)&&(h(this,$i).parentNode.parentNode.remove(),x(this,$i,null)),h(this,Oo)&&(h(this,Oo).clear(),x(this,Oo,null)),x(this,No,0))}}Oo=new WeakMap,$i=new WeakMap,Ps=new WeakMap,Cn=new WeakMap,Yp=new WeakMap,No=new WeakMap,ut=new WeakSet,nn=function(){return h(this,Oo)||x(this,Oo,new Map)},fl=function(){return h(this,Yp)||x(this,Yp,new Map)},pl=function(){if(!h(this,$i)){const e=h(this,Cn).createElement("div"),{style:n}=e;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const o=h(this,Cn).createElementNS(_s,"svg");o.setAttribute("width",0),o.setAttribute("height",0),x(this,$i,h(this,Cn).createElementNS(_s,"defs")),e.append(o),o.append(h(this,$i)),h(this,Cn).body.append(e)}return h(this,$i)},rp=function(e){if(e.length===1){const p=e[0],m=new Array(256);for(let y=0;y<256;y++)m[y]=p[y]/255;const v=m.join(",");return[v,v,v]}const[n,o,a]=e,l=new Array(256),c=new Array(256),d=new Array(256);for(let p=0;p<256;p++)l[p]=n[p]/255,c[p]=o[p]/255,d[p]=a[p]/255;return[l.join(","),c.join(","),d.join(",")]},y_=function(e){const n=h(this,Cn).createElementNS(_s,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(n)},Jv=function(e){const n=h(this,Cn).createElementNS(_s,"feColorMatrix");n.setAttribute("type","matrix"),n.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(n)},ml=function(e){const n=h(this,Cn).createElementNS(_s,"filter");return n.setAttribute("color-interpolation-filters","sRGB"),n.setAttribute("id",e),h(this,ut,pl).append(n),n},Ac=function(e,n,o){const a=h(this,Cn).createElementNS(_s,n);a.setAttribute("type","discrete"),a.setAttribute("tableValues",o),e.append(a)},Sc=function(e,n,o,a){const l=h(this,Cn).createElementNS(_s,"feComponentTransfer");a.append(l),b(this,ut,Ac).call(this,l,"feFuncR",e),b(this,ut,Ac).call(this,l,"feFuncG",n),b(this,ut,Ac).call(this,l,"feFuncB",o)},ty=function(e,n){const o=h(this,Cn).createElementNS(_s,"feComponentTransfer");n.append(o),b(this,ut,Ac).call(this,o,"feFuncA",e)},Ec=function(e){return h(this,ut,pl).style.color=e,N0(getComputedStyle(h(this,ut,pl)).getPropertyValue("color"))};class Vk extends Ip{constructor({ownerDocument:t=globalThis.document,enableHWA:e=!1}={}){super({enableHWA:e}),this._document=t}_createCanvas(t,e){const n=this._document.createElement("canvas");return n.width=t,n.height=e,n}}async function _m(r,t="text"){if(_c(r,document.baseURI)){const e=await fetch(r);if(!e.ok)throw new Error(e.statusText);switch(t){case"arraybuffer":return e.arrayBuffer();case"blob":return e.blob();case"json":return e.json()}return e.text()}return new Promise((e,n)=>{const o=new XMLHttpRequest;o.open("GET",r,!0),o.responseType=t,o.onreadystatechange=()=>{if(o.readyState===XMLHttpRequest.DONE){if(o.status===200||o.status===0){switch(t){case"arraybuffer":case"blob":case"json":e(o.response);return}e(o.responseText);return}n(new Error(o.statusText))}},o.send(null)})}class w_ extends Sm{_fetchData(t,e){return _m(t,this.isCompressed?"arraybuffer":"text").then(n=>({cMapData:n instanceof ArrayBuffer?new Uint8Array(n):wm(n),compressionType:e}))}}class A_ extends Em{_fetchData(t){return _m(t,"arraybuffer").then(e=>new Uint8Array(e))}}class D0 extends M0{_createSVG(t){return document.createElementNS(_s,t)}}class bd{constructor({viewBox:t,scale:e,rotation:n,offsetX:o=0,offsetY:a=0,dontFlip:l=!1}){this.viewBox=t,this.scale=e,this.rotation=n,this.offsetX=o,this.offsetY=a;const c=(t[2]+t[0])/2,d=(t[3]+t[1])/2;let p,m,v,y;switch(n%=360,n<0&&(n+=360),n){case 180:p=-1,m=0,v=0,y=1;break;case 90:p=0,m=1,v=1,y=0;break;case 270:p=0,m=-1,v=-1,y=0;break;case 0:p=1,m=0,v=0,y=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}l&&(v=-v,y=-y);let A,S,_,P;p===0?(A=Math.abs(d-t[1])*e+o,S=Math.abs(c-t[0])*e+a,_=(t[3]-t[1])*e,P=(t[2]-t[0])*e):(A=Math.abs(c-t[0])*e+o,S=Math.abs(d-t[1])*e+a,_=(t[2]-t[0])*e,P=(t[3]-t[1])*e),this.transform=[p*e,m*e,v*e,y*e,A-p*e*c-v*e*d,S-m*e*c-y*e*d],this.width=_,this.height=P}get rawDims(){const{viewBox:t}=this;return Bt(this,"rawDims",{pageWidth:t[2]-t[0],pageHeight:t[3]-t[1],pageX:t[0],pageY:t[1]})}clone({scale:t=this.scale,rotation:e=this.rotation,offsetX:n=this.offsetX,offsetY:o=this.offsetY,dontFlip:a=!1}={}){return new bd({viewBox:this.viewBox.slice(),scale:t,rotation:e,offsetX:n,offsetY:o,dontFlip:a})}convertToViewportPoint(t,e){return ft.applyTransform([t,e],this.transform)}convertToViewportRectangle(t){const e=ft.applyTransform([t[0],t[1]],this.transform),n=ft.applyTransform([t[2],t[3]],this.transform);return[e[0],e[1],n[0],n[1]]}convertToPdfPoint(t,e){return ft.applyInverseTransform([t,e],this.transform)}}class I0 extends lo{constructor(t,e=0){super(t,"RenderingCancelledException"),this.extraDelay=e}}function F0(r){const t=r.length;let e=0;for(;e<t&&r[e].trim()==="";)e++;return r.substring(e,e+5).toLowerCase()==="data:"}function O0(r){return typeof r=="string"&&/\.pdf$/i.test(r)}function Bk(r){return[r]=r.split(/[#?]/,1),r.substring(r.lastIndexOf("/")+1)}function zk(r,t="document.pdf"){if(typeof r!="string")return t;if(F0(r))return Mt('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const e=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/,n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,o=e.exec(r);let a=n.exec(o[1])||n.exec(o[2])||n.exec(o[3]);if(a&&(a=a[0],a.includes("%")))try{a=n.exec(decodeURIComponent(a))[0]}catch{}return a||t}class x1{constructor(){Rt(this,"started",Object.create(null));Rt(this,"times",[])}time(t){t in this.started&&Mt(`Timer is already running for ${t}`),this.started[t]=Date.now()}timeEnd(t){t in this.started||Mt(`Timer has not been started for ${t}`),this.times.push({name:t,start:this.started[t],end:Date.now()}),delete this.started[t]}toString(){const t=[];let e=0;for(const{name:n}of this.times)e=Math.max(n.length,e);for(const{name:n,start:o,end:a}of this.times)t.push(`${n.padEnd(e)} ${a-o}ms
`);return t.join("")}}function _c(r,t){try{const{protocol:e}=t?new URL(r,t):new URL(r);return e==="http:"||e==="https:"}catch{return!1}}function Ln(r){r.preventDefault()}function S_(r){console.log("Deprecated API usage: "+r)}let b1;class E_{static toDateObject(t){if(!t||typeof t!="string")return null;b1||(b1=new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?"));const e=b1.exec(t);if(!e)return null;const n=parseInt(e[1],10);let o=parseInt(e[2],10);o=o>=1&&o<=12?o-1:0;let a=parseInt(e[3],10);a=a>=1&&a<=31?a:1;let l=parseInt(e[4],10);l=l>=0&&l<=23?l:0;let c=parseInt(e[5],10);c=c>=0&&c<=59?c:0;let d=parseInt(e[6],10);d=d>=0&&d<=59?d:0;const p=e[7]||"Z";let m=parseInt(e[8],10);m=m>=0&&m<=23?m:0;let v=parseInt(e[9],10)||0;return v=v>=0&&v<=59?v:0,p==="-"?(l+=m,c+=v):p==="+"&&(l-=m,c-=v),new Date(Date.UTC(n,o,a,l,c,d))}}function Hk(r,{scale:t=1,rotation:e=0}){const{width:n,height:o}=r.attributes.style,a=[0,0,parseInt(n),parseInt(o)];return new bd({viewBox:a,scale:t,rotation:e})}function N0(r){if(r.startsWith("#")){const t=parseInt(r.slice(1),16);return[(t&16711680)>>16,(t&65280)>>8,t&255]}return r.startsWith("rgb(")?r.slice(4,-1).split(",").map(t=>parseInt(t)):r.startsWith("rgba(")?r.slice(5,-1).split(",").map(t=>parseInt(t)).slice(0,3):(Mt(`Not a valid color format: "${r}"`),[0,0,0])}function Uk(r){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const e of r.keys()){t.style.color=e;const n=window.getComputedStyle(t).color;r.set(e,N0(n))}t.remove()}function ce(r){const{a:t,b:e,c:n,d:o,e:a,f:l}=r.getTransform();return[t,e,n,o,a,l]}function Es(r){const{a:t,b:e,c:n,d:o,e:a,f:l}=r.getTransform().invertSelf();return[t,e,n,o,a,l]}function Da(r,t,e=!1,n=!0){if(t instanceof bd){const{pageWidth:o,pageHeight:a}=t.rawDims,{style:l}=r,c=kn.isCSSRoundSupported,d=`var(--scale-factor) * ${o}px`,p=`var(--scale-factor) * ${a}px`,m=c?`round(${d}, 1px)`:`calc(${d})`,v=c?`round(${p}, 1px)`:`calc(${p})`;!e||t.rotation%180===0?(l.width=m,l.height=v):(l.width=v,l.height=m)}n&&r.setAttribute("data-main-rotation",t.rotation)}var jo,Vo,Vn,Bo,Qp,__,vn,x_,b_,op,C_,ny;const Zp=class Zp{constructor(t){T(this,vn);T(this,jo,null);T(this,Vo,null);T(this,Vn);T(this,Bo,null);x(this,Vn,t)}render(){const t=x(this,jo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar");const e=h(this,Vn)._uiManager._signal;t.addEventListener("contextmenu",Ln,{signal:e}),t.addEventListener("pointerdown",b(Zp,Qp,__),{signal:e});const n=x(this,Bo,document.createElement("div"));n.className="buttons",t.append(n);const o=h(this,Vn).toolbarPosition;if(o){const{style:a}=t,l=h(this,Vn)._uiManager.direction==="ltr"?1-o[0]:o[0];a.insetInlineEnd=`${100*l}%`,a.top=`calc(${100*o[1]}% + var(--editor-toolbar-vert-offset))`}return b(this,vn,C_).call(this),t}hide(){var t;h(this,jo).classList.add("hidden"),(t=h(this,Vo))==null||t.hideDropdown()}show(){h(this,jo).classList.remove("hidden")}addAltTextButton(t){b(this,vn,op).call(this,t),h(this,Bo).prepend(t,h(this,vn,ny))}addColorPicker(t){x(this,Vo,t);const e=t.renderButton();b(this,vn,op).call(this,e),h(this,Bo).prepend(e,h(this,vn,ny))}remove(){var t;h(this,jo).remove(),(t=h(this,Vo))==null||t.destroy(),x(this,Vo,null)}};jo=new WeakMap,Vo=new WeakMap,Vn=new WeakMap,Bo=new WeakMap,Qp=new WeakSet,__=function(t){t.stopPropagation()},vn=new WeakSet,x_=function(t){h(this,Vn)._focusEventsAllowed=!1,t.preventDefault(),t.stopPropagation()},b_=function(t){h(this,Vn)._focusEventsAllowed=!0,t.preventDefault(),t.stopPropagation()},op=function(t){const e=h(this,Vn)._uiManager._signal;t.addEventListener("focusin",b(this,vn,x_).bind(this),{capture:!0,signal:e}),t.addEventListener("focusout",b(this,vn,b_).bind(this),{capture:!0,signal:e}),t.addEventListener("contextmenu",Ln,{signal:e})},C_=function(){const t=document.createElement("button");t.className="delete",t.tabIndex=0,t.setAttribute("data-l10n-id",`pdfjs-editor-remove-${h(this,Vn).editorType}-button`),b(this,vn,op).call(this,t),t.addEventListener("click",e=>{h(this,Vn)._uiManager.delete()},{signal:h(this,Vn)._uiManager._signal}),h(this,Bo).append(t)},ny=function(){const t=document.createElement("div");return t.className="divider",t},T(Zp,Qp);let ey=Zp;var Kc,zo,Ho,oo,T_,P_,k_;class $k{constructor(t){T(this,oo);T(this,Kc,null);T(this,zo,null);T(this,Ho);x(this,Ho,t)}show(t,e,n){const[o,a]=b(this,oo,P_).call(this,e,n),{style:l}=h(this,zo)||x(this,zo,b(this,oo,T_).call(this));t.append(h(this,zo)),l.insetInlineEnd=`${100*o}%`,l.top=`calc(${100*a}% + var(--editor-toolbar-vert-offset))`}hide(){h(this,zo).remove()}}Kc=new WeakMap,zo=new WeakMap,Ho=new WeakMap,oo=new WeakSet,T_=function(){const t=x(this,zo,document.createElement("div"));t.className="editToolbar",t.setAttribute("role","toolbar"),t.addEventListener("contextmenu",Ln,{signal:h(this,Ho)._signal});const e=x(this,Kc,document.createElement("div"));return e.className="buttons",t.append(e),b(this,oo,k_).call(this),t},P_=function(t,e){let n=0,o=0;for(const a of t){const l=a.y+a.height;if(l<n)continue;const c=a.x+(e?a.width:0);if(l>n){o=c,n=l;continue}e?c>o&&(o=c):c<o&&(o=c)}return[e?1-o:o,n]},k_=function(){const t=document.createElement("button");t.className="highlightButton",t.tabIndex=0,t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const e=document.createElement("span");t.append(e),e.className="visuallyHidden",e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=h(this,Ho)._signal;t.addEventListener("contextmenu",Ln,{signal:n}),t.addEventListener("click",()=>{h(this,Ho).highlightSelection("floating_button")},{signal:n}),h(this,Kc).append(t)};function Fp(r,t,e){for(const n of e)t.addEventListener(n,r[n].bind(r))}function Wk(r){return Math.round(Math.min(255,Math.max(1,255*r))).toString(16).padStart(2,"0")}var Jp;class Gk{constructor(){T(this,Jp,0)}get id(){return`${xk}${On(this,Jp)._++}`}}Jp=new WeakMap;var qc,tm,si,Yc,sy;const Ew=class Ew{constructor(){T(this,Yc);T(this,qc,Nk());T(this,tm,0);T(this,si,null)}static get _isSVGFittingCanvas(){const t='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>',n=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),o=new Image;o.src=t;const a=o.decode().then(()=>(n.drawImage(o,0,0,1,1,0,0,1,3),new Uint32Array(n.getImageData(0,0,1,1).data.buffer)[0]===0));return Bt(this,"_isSVGFittingCanvas",a)}async getFromFile(t){const{lastModified:e,name:n,size:o,type:a}=t;return b(this,Yc,sy).call(this,`${e}_${n}_${o}_${a}`,t)}async getFromUrl(t){return b(this,Yc,sy).call(this,t,t)}async getFromId(t){h(this,si)||x(this,si,new Map);const e=h(this,si).get(t);return e?e.bitmap?(e.refCounter+=1,e):e.file?this.getFromFile(e.file):this.getFromUrl(e.url):null}getSvgUrl(t){const e=h(this,si).get(t);return e!=null&&e.isSvg?e.svgUrl:null}deleteId(t){h(this,si)||x(this,si,new Map);const e=h(this,si).get(t);e&&(e.refCounter-=1,e.refCounter===0&&(e.bitmap=null))}isValidId(t){return t.startsWith(`image_${h(this,qc)}_`)}};qc=new WeakMap,tm=new WeakMap,si=new WeakMap,Yc=new WeakSet,sy=async function(t,e){h(this,si)||x(this,si,new Map);let n=h(this,si).get(t);if(n===null)return null;if(n!=null&&n.bitmap)return n.refCounter+=1,n;try{n||(n={bitmap:null,id:`image_${h(this,qc)}_${On(this,tm)._++}`,refCounter:0,isSvg:!1});let o;if(typeof e=="string"?(n.url=e,o=await _m(e,"blob")):o=n.file=e,o.type==="image/svg+xml"){const a=Ew._isSVGFittingCanvas,l=new FileReader,c=new Image,d=new Promise((p,m)=>{c.onload=()=>{n.bitmap=c,n.isSvg=!0,p()},l.onload=async()=>{const v=n.svgUrl=l.result;c.src=await a?`${v}#svgView(preserveAspectRatio(none))`:v},c.onerror=l.onerror=m});l.readAsDataURL(o),await d}else n.bitmap=await createImageBitmap(o);n.refCounter=1}catch(o){console.error(o),n=null}return h(this,si).set(t,n),n&&h(this,si).set(n.id,n),n};let iy=Ew;var je,Ir,Qc,Ve;class Xk{constructor(t=128){T(this,je,[]);T(this,Ir,!1);T(this,Qc);T(this,Ve,-1);x(this,Qc,t)}add({cmd:t,undo:e,post:n,mustExec:o,type:a=NaN,overwriteIfSameType:l=!1,keepUndo:c=!1}){if(o&&t(),h(this,Ir))return;const d={cmd:t,undo:e,post:n,type:a};if(h(this,Ve)===-1){h(this,je).length>0&&(h(this,je).length=0),x(this,Ve,0),h(this,je).push(d);return}if(l&&h(this,je)[h(this,Ve)].type===a){c&&(d.undo=h(this,je)[h(this,Ve)].undo),h(this,je)[h(this,Ve)]=d;return}const p=h(this,Ve)+1;p===h(this,Qc)?h(this,je).splice(0,1):(x(this,Ve,p),p<h(this,je).length&&h(this,je).splice(p)),h(this,je).push(d)}undo(){if(h(this,Ve)===-1)return;x(this,Ir,!0);const{undo:t,post:e}=h(this,je)[h(this,Ve)];t(),e==null||e(),x(this,Ir,!1),x(this,Ve,h(this,Ve)-1)}redo(){if(h(this,Ve)<h(this,je).length-1){x(this,Ve,h(this,Ve)+1),x(this,Ir,!0);const{cmd:t,post:e}=h(this,je)[h(this,Ve)];t(),e==null||e(),x(this,Ir,!1)}}hasSomethingToUndo(){return h(this,Ve)!==-1}hasSomethingToRedo(){return h(this,Ve)<h(this,je).length-1}destroy(){x(this,je,null)}}je=new WeakMap,Ir=new WeakMap,Qc=new WeakMap,Ve=new WeakMap;var em,R_;class Cd{constructor(t){T(this,em);this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:e}=kn.platform;for(const[n,o,a={}]of t)for(const l of n){const c=l.startsWith("mac+");e&&c?(this.callbacks.set(l.slice(4),{callback:o,options:a}),this.allKeys.add(l.split("+").at(-1))):!e&&!c&&(this.callbacks.set(l,{callback:o,options:a}),this.allKeys.add(l.split("+").at(-1)))}}exec(t,e){if(!this.allKeys.has(e.key))return;const n=this.callbacks.get(b(this,em,R_).call(this,e));if(!n)return;const{callback:o,options:{bubbles:a=!1,args:l=[],checker:c=null}}=n;c&&!c(t,e)||(o.bind(t,...l,e)(),a||(e.stopPropagation(),e.preventDefault()))}}em=new WeakSet,R_=function(t){t.altKey&&this.buffer.push("alt"),t.ctrlKey&&this.buffer.push("ctrl"),t.metaKey&&this.buffer.push("meta"),t.shiftKey&&this.buffer.push("shift"),this.buffer.push(t.key);const e=this.buffer.join("+");return this.buffer.length=0,e};const nm=class nm{get _colors(){const t=new Map([["CanvasText",null],["Canvas",null]]);return Uk(t),Bt(this,"_colors",t)}convert(t){const e=N0(t);if(!window.matchMedia("(forced-colors: active)").matches)return e;for(const[n,o]of this._colors)if(o.every((a,l)=>a===e[l]))return nm._colorsMapping.get(n);return e}getHexCode(t){const e=this._colors.get(t);return e?ft.makeHexColor(...e):t}};Rt(nm,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));let ry=nm;var kl,Bn,Pe,Ue,Rl,ks,Ll,Ei,Ml,Uo,Wi,_i,$o,Zc,Jc,Gi,Dl,Fr,Xi,im,Or,th,Wo,eh,Il,$e,Gt,Rs,Go,nh,ih,sh,rh,oh,ah,lh,uh,ch,hh,dh,fh,ph,Nr,Ki,Ls,mh,nt,ap,L_,M_,lp,D_,I_,F_,oy,O_,ay,ly,N_,fn,kr,j_,V_,uy,B_,xc,cy;const xl=class xl{constructor(t,e,n,o,a,l,c,d,p){T(this,nt);T(this,kl,new AbortController);T(this,Bn,null);T(this,Pe,new Map);T(this,Ue,new Map);T(this,Rl,null);T(this,ks,null);T(this,Ll,null);T(this,Ei,new Xk);T(this,Ml,0);T(this,Uo,new Set);T(this,Wi,null);T(this,_i,null);T(this,$o,new Set);T(this,Zc,!1);T(this,Jc,null);T(this,Gi,null);T(this,Dl,null);T(this,Fr,!1);T(this,Xi,null);T(this,im,new Gk);T(this,Or,!1);T(this,th,!1);T(this,Wo,null);T(this,eh,null);T(this,Il,null);T(this,$e,jt.NONE);T(this,Gt,new Set);T(this,Rs,null);T(this,Go,null);T(this,nh,null);T(this,ih,this.blur.bind(this));T(this,sh,this.focus.bind(this));T(this,rh,this.copy.bind(this));T(this,oh,this.cut.bind(this));T(this,ah,this.paste.bind(this));T(this,lh,this.keydown.bind(this));T(this,uh,this.keyup.bind(this));T(this,ch,this.onEditingAction.bind(this));T(this,hh,this.onPageChanging.bind(this));T(this,dh,this.onScaleChanging.bind(this));T(this,fh,this.onRotationChanging.bind(this));T(this,ph,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1});T(this,Nr,[0,0]);T(this,Ki,null);T(this,Ls,null);T(this,mh,null);this._signal=h(this,kl).signal,x(this,Ls,t),x(this,mh,e),x(this,Rl,n),this._eventBus=o,this._eventBus._on("editingaction",h(this,ch)),this._eventBus._on("pagechanging",h(this,hh)),this._eventBus._on("scalechanging",h(this,dh)),this._eventBus._on("rotationchanging",h(this,fh)),b(this,nt,D_).call(this),b(this,nt,N_).call(this),b(this,nt,oy).call(this),x(this,ks,a.annotationStorage),x(this,Jc,a.filterFactory),x(this,Go,l),x(this,Dl,c||null),x(this,Zc,d),x(this,Il,p||null),this.viewParameters={realScale:io.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}static get _keyboardManager(){const t=xl.prototype,e=l=>h(l,Ls).contains(document.activeElement)&&document.activeElement.tagName!=="BUTTON"&&l.hasSomethingToControl(),n=(l,{target:c})=>{if(c instanceof HTMLInputElement){const{type:d}=c;return d!=="text"&&d!=="number"}return!0},o=this.TRANSLATE_SMALL,a=this.TRANSLATE_BIG;return Bt(this,"_keyboardManager",new Cd([[["ctrl+a","mac+meta+a"],t.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],t.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],t.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],t.delete,{checker:n}],[["Enter","mac+Enter"],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&h(l,Ls).contains(c)&&!l.isEnterHandled}],[[" ","mac+ "],t.addNewEditorFromKeyboard,{checker:(l,{target:c})=>!(c instanceof HTMLButtonElement)&&h(l,Ls).contains(document.activeElement)}],[["Escape","mac+Escape"],t.unselectAll],[["ArrowLeft","mac+ArrowLeft"],t.translateSelectedEditors,{args:[-o,0],checker:e}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t.translateSelectedEditors,{args:[-a,0],checker:e}],[["ArrowRight","mac+ArrowRight"],t.translateSelectedEditors,{args:[o,0],checker:e}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t.translateSelectedEditors,{args:[a,0],checker:e}],[["ArrowUp","mac+ArrowUp"],t.translateSelectedEditors,{args:[0,-o],checker:e}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t.translateSelectedEditors,{args:[0,-a],checker:e}],[["ArrowDown","mac+ArrowDown"],t.translateSelectedEditors,{args:[0,o],checker:e}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t.translateSelectedEditors,{args:[0,a],checker:e}]]))}destroy(){var t,e,n;(t=h(this,kl))==null||t.abort(),x(this,kl,null),this._signal=null,this._eventBus._off("editingaction",h(this,ch)),this._eventBus._off("pagechanging",h(this,hh)),this._eventBus._off("scalechanging",h(this,dh)),this._eventBus._off("rotationchanging",h(this,fh));for(const o of h(this,Ue).values())o.destroy();h(this,Ue).clear(),h(this,Pe).clear(),h(this,$o).clear(),x(this,Bn,null),h(this,Gt).clear(),h(this,Ei).destroy(),(e=h(this,Rl))==null||e.destroy(),(n=h(this,Xi))==null||n.hide(),x(this,Xi,null),h(this,Gi)&&(clearTimeout(h(this,Gi)),x(this,Gi,null)),h(this,Ki)&&(clearTimeout(h(this,Ki)),x(this,Ki,null))}async mlGuess(t){var e;return((e=h(this,Il))==null?void 0:e.guess(t))||null}get hasMLManager(){return!!h(this,Il)}get hcmFilter(){return Bt(this,"hcmFilter",h(this,Go)?h(this,Jc).addHCMFilter(h(this,Go).foreground,h(this,Go).background):"none")}get direction(){return Bt(this,"direction",getComputedStyle(h(this,Ls)).direction)}get highlightColors(){return Bt(this,"highlightColors",h(this,Dl)?new Map(h(this,Dl).split(",").map(t=>t.split("=").map(e=>e.trim()))):null)}get highlightColorNames(){return Bt(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,t=>t.reverse())):null)}setMainHighlightColorPicker(t){x(this,eh,t)}editAltText(t){var e;(e=h(this,Rl))==null||e.editAltText(this,t)}onPageChanging({pageNumber:t}){x(this,Ml,t-1)}focusMainContainer(){h(this,Ls).focus()}findParent(t,e){for(const n of h(this,Ue).values()){const{x:o,y:a,width:l,height:c}=n.div.getBoundingClientRect();if(t>=o&&t<=o+l&&e>=a&&e<=a+c)return n}return null}disableUserSelect(t=!1){h(this,mh).classList.toggle("noUserSelect",t)}addShouldRescale(t){h(this,$o).add(t)}removeShouldRescale(t){h(this,$o).delete(t)}onScaleChanging({scale:t}){this.commitOrRemove(),this.viewParameters.realScale=t*io.PDF_TO_CSS_UNITS;for(const e of h(this,$o))e.onScaleChanging()}onRotationChanging({pagesRotation:t}){this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(t=""){const e=document.getSelection();if(!e||e.isCollapsed)return;const{anchorNode:n,anchorOffset:o,focusNode:a,focusOffset:l}=e,c=e.toString(),p=b(this,nt,ap).call(this,e).closest(".textLayer"),m=this.getSelectionBoxes(p);if(m){e.empty(),h(this,$e)===jt.NONE&&(this._eventBus.dispatch("showannotationeditorui",{source:this,mode:jt.HIGHLIGHT}),this.showAllEditors("highlight",!0,!0));for(const v of h(this,Ue).values())if(v.hasTextLayer(p)){v.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:t,boxes:m,anchorNode:n,anchorOffset:o,focusNode:a,focusOffset:l,text:c});break}}}addToAnnotationStorage(t){!t.isEmpty()&&h(this,ks)&&!h(this,ks).has(t.id)&&h(this,ks).setValue(t.id,t)}blur(){if(this.isShiftKeyDown=!1,h(this,Fr)&&(x(this,Fr,!1),b(this,nt,lp).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:t}=document;for(const e of h(this,Gt))if(e.div.contains(t)){x(this,Wo,[e,t]),e._focusEventsAllowed=!1;break}}focus(){if(!h(this,Wo))return;const[t,e]=h(this,Wo);x(this,Wo,null),e.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:this._signal}),e.focus()}addEditListeners(){b(this,nt,oy).call(this),b(this,nt,ay).call(this)}removeEditListeners(){b(this,nt,O_).call(this),b(this,nt,ly).call(this)}dragOver(t){for(const{type:e}of t.dataTransfer.items)for(const n of h(this,_i))if(n.isHandlingMimeForPasting(e)){t.dataTransfer.dropEffect="copy",t.preventDefault();return}}drop(t){for(const e of t.dataTransfer.items)for(const n of h(this,_i))if(n.isHandlingMimeForPasting(e.type)){n.paste(e,this.currentLayer),t.preventDefault();return}}copy(t){var n;if(t.preventDefault(),(n=h(this,Bn))==null||n.commitOrRemove(),!this.hasSelection)return;const e=[];for(const o of h(this,Gt)){const a=o.serialize(!0);a&&e.push(a)}e.length!==0&&t.clipboardData.setData("application/pdfjs",JSON.stringify(e))}cut(t){this.copy(t),this.delete()}paste(t){t.preventDefault();const{clipboardData:e}=t;for(const a of e.items)for(const l of h(this,_i))if(l.isHandlingMimeForPasting(a.type)){l.paste(a,this.currentLayer);return}let n=e.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(a){Mt(`paste: "${a.message}".`);return}if(!Array.isArray(n))return;this.unselectAll();const o=this.currentLayer;try{const a=[];for(const d of n){const p=o.deserialize(d);if(!p)return;a.push(p)}const l=()=>{for(const d of a)b(this,nt,uy).call(this,d);b(this,nt,cy).call(this,a)},c=()=>{for(const d of a)d.remove()};this.addCommands({cmd:l,undo:c,mustExec:!0})}catch(a){Mt(`paste: "${a.message}".`)}}keydown(t){!this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!0),h(this,$e)!==jt.NONE&&!this.isEditorHandlingKeyboard&&xl._keyboardManager.exec(this,t)}keyup(t){this.isShiftKeyDown&&t.key==="Shift"&&(this.isShiftKeyDown=!1,h(this,Fr)&&(x(this,Fr,!1),b(this,nt,lp).call(this,"main_toolbar")))}onEditingAction({name:t}){switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu");break}}setEditingState(t){t?(b(this,nt,I_).call(this),b(this,nt,ay).call(this),b(this,nt,fn).call(this,{isEditing:h(this,$e)!==jt.NONE,isEmpty:b(this,nt,xc).call(this),hasSomethingToUndo:h(this,Ei).hasSomethingToUndo(),hasSomethingToRedo:h(this,Ei).hasSomethingToRedo(),hasSelectedEditor:!1})):(b(this,nt,F_).call(this),b(this,nt,ly).call(this),b(this,nt,fn).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(t){if(!h(this,_i)){x(this,_i,t);for(const e of h(this,_i))b(this,nt,kr).call(this,e.defaultPropertiesToUpdate)}}getId(){return h(this,im).id}get currentLayer(){return h(this,Ue).get(h(this,Ml))}getLayer(t){return h(this,Ue).get(t)}get currentPageIndex(){return h(this,Ml)}addLayer(t){h(this,Ue).set(t.pageIndex,t),h(this,Or)?t.enable():t.disable()}removeLayer(t){h(this,Ue).delete(t.pageIndex)}updateMode(t,e=null,n=!1){if(h(this,$e)!==t){if(x(this,$e,t),t===jt.NONE){this.setEditingState(!1),b(this,nt,V_).call(this);return}this.setEditingState(!0),b(this,nt,j_).call(this),this.unselectAll();for(const o of h(this,Ue).values())o.updateMode(t);if(!e&&n){this.addNewEditorFromKeyboard();return}if(e){for(const o of h(this,Pe).values())if(o.annotationElementId===e){this.setSelected(o),o.enterInEditMode();break}}}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(t){t!==h(this,$e)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:t})}updateParams(t,e){var n;if(h(this,_i)){switch(t){case Pt.CREATE:this.currentLayer.addNewEditor();return;case Pt.HIGHLIGHT_DEFAULT_COLOR:(n=h(this,eh))==null||n.updateColor(e);break;case Pt.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(h(this,nh)||x(this,nh,new Map)).set(t,e),this.showAllEditors("highlight",e);break}for(const o of h(this,Gt))o.updateParams(t,e);for(const o of h(this,_i))o.updateDefaultParams(t,e)}}showAllEditors(t,e,n=!1){var a;for(const l of h(this,Pe).values())l.editorType===t&&l.show(e);(((a=h(this,nh))==null?void 0:a.get(Pt.HIGHLIGHT_SHOW_ALL))??!0)!==e&&b(this,nt,kr).call(this,[[Pt.HIGHLIGHT_SHOW_ALL,e]])}enableWaiting(t=!1){if(h(this,th)!==t){x(this,th,t);for(const e of h(this,Ue).values())t?e.disableClick():e.enableClick(),e.div.classList.toggle("waiting",t)}}getEditors(t){const e=[];for(const n of h(this,Pe).values())n.pageIndex===t&&e.push(n);return e}getEditor(t){return h(this,Pe).get(t)}addEditor(t){h(this,Pe).set(t.id,t)}removeEditor(t){var e;t.div.contains(document.activeElement)&&(h(this,Gi)&&clearTimeout(h(this,Gi)),x(this,Gi,setTimeout(()=>{this.focusMainContainer(),x(this,Gi,null)},0))),h(this,Pe).delete(t.id),this.unselect(t),(!t.annotationElementId||!h(this,Uo).has(t.annotationElementId))&&((e=h(this,ks))==null||e.remove(t.id))}addDeletedAnnotationElement(t){h(this,Uo).add(t.annotationElementId),this.addChangedExistingAnnotation(t),t.deleted=!0}isDeletedAnnotationElement(t){return h(this,Uo).has(t)}removeDeletedAnnotationElement(t){h(this,Uo).delete(t.annotationElementId),this.removeChangedExistingAnnotation(t),t.deleted=!1}setActiveEditor(t){h(this,Bn)!==t&&(x(this,Bn,t),t&&b(this,nt,kr).call(this,t.propertiesToUpdate))}updateUI(t){h(this,nt,B_)===t&&b(this,nt,kr).call(this,t.propertiesToUpdate)}toggleSelected(t){if(h(this,Gt).has(t)){h(this,Gt).delete(t),t.unselect(),b(this,nt,fn).call(this,{hasSelectedEditor:this.hasSelection});return}h(this,Gt).add(t),t.select(),b(this,nt,kr).call(this,t.propertiesToUpdate),b(this,nt,fn).call(this,{hasSelectedEditor:!0})}setSelected(t){for(const e of h(this,Gt))e!==t&&e.unselect();h(this,Gt).clear(),h(this,Gt).add(t),t.select(),b(this,nt,kr).call(this,t.propertiesToUpdate),b(this,nt,fn).call(this,{hasSelectedEditor:!0})}isSelected(t){return h(this,Gt).has(t)}get firstSelectedEditor(){return h(this,Gt).values().next().value}unselect(t){t.unselect(),h(this,Gt).delete(t),b(this,nt,fn).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return h(this,Gt).size!==0}get isEnterHandled(){return h(this,Gt).size===1&&this.firstSelectedEditor.isEnterHandled}undo(){h(this,Ei).undo(),b(this,nt,fn).call(this,{hasSomethingToUndo:h(this,Ei).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:b(this,nt,xc).call(this)})}redo(){h(this,Ei).redo(),b(this,nt,fn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:h(this,Ei).hasSomethingToRedo(),isEmpty:b(this,nt,xc).call(this)})}addCommands(t){h(this,Ei).add(t),b(this,nt,fn).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:b(this,nt,xc).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const t=[...h(this,Gt)],e=()=>{for(const o of t)o.remove()},n=()=>{for(const o of t)b(this,nt,uy).call(this,o)};this.addCommands({cmd:e,undo:n,mustExec:!0})}commitOrRemove(){var t;(t=h(this,Bn))==null||t.commitOrRemove()}hasSomethingToControl(){return h(this,Bn)||this.hasSelection}selectAll(){for(const t of h(this,Gt))t.commit();b(this,nt,cy).call(this,h(this,Pe).values())}unselectAll(){if(!(h(this,Bn)&&(h(this,Bn).commitOrRemove(),h(this,$e)!==jt.NONE))&&this.hasSelection){for(const t of h(this,Gt))t.unselect();h(this,Gt).clear(),b(this,nt,fn).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(t,e,n=!1){if(n||this.commitOrRemove(),!this.hasSelection)return;h(this,Nr)[0]+=t,h(this,Nr)[1]+=e;const[o,a]=h(this,Nr),l=[...h(this,Gt)],c=1e3;h(this,Ki)&&clearTimeout(h(this,Ki)),x(this,Ki,setTimeout(()=>{x(this,Ki,null),h(this,Nr)[0]=h(this,Nr)[1]=0,this.addCommands({cmd:()=>{for(const d of l)h(this,Pe).has(d.id)&&d.translateInPage(o,a)},undo:()=>{for(const d of l)h(this,Pe).has(d.id)&&d.translateInPage(-o,-a)},mustExec:!1})},c));for(const d of l)d.translateInPage(t,e)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),x(this,Wi,new Map);for(const t of h(this,Gt))h(this,Wi).set(t,{savedX:t.x,savedY:t.y,savedPageIndex:t.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!h(this,Wi))return!1;this.disableUserSelect(!1);const t=h(this,Wi);x(this,Wi,null);let e=!1;for(const[{x:o,y:a,pageIndex:l},c]of t)c.newX=o,c.newY=a,c.newPageIndex=l,e||(e=o!==c.savedX||a!==c.savedY||l!==c.savedPageIndex);if(!e)return!1;const n=(o,a,l,c)=>{if(h(this,Pe).has(o.id)){const d=h(this,Ue).get(c);d?o._setParentAndPosition(d,a,l):(o.pageIndex=c,o.x=a,o.y=l)}};return this.addCommands({cmd:()=>{for(const[o,{newX:a,newY:l,newPageIndex:c}]of t)n(o,a,l,c)},undo:()=>{for(const[o,{savedX:a,savedY:l,savedPageIndex:c}]of t)n(o,a,l,c)},mustExec:!0}),!0}dragSelectedEditors(t,e){if(h(this,Wi))for(const n of h(this,Wi).keys())n.drag(t,e)}rebuild(t){if(t.parent===null){const e=this.getLayer(t.pageIndex);e?(e.changeParent(t),e.addOrRebuild(t)):(this.addEditor(t),this.addToAnnotationStorage(t),t.rebuild())}else t.parent.addOrRebuild(t)}get isEditorHandlingKeyboard(){var t;return((t=this.getActive())==null?void 0:t.shouldGetKeyboardEvents())||h(this,Gt).size===1&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(t){return h(this,Bn)===t}getActive(){return h(this,Bn)}getMode(){return h(this,$e)}get imageManager(){return Bt(this,"imageManager",new iy)}getSelectionBoxes(t){if(!t)return null;const e=document.getSelection();for(let p=0,m=e.rangeCount;p<m;p++)if(!t.contains(e.getRangeAt(p).commonAncestorContainer))return null;const{x:n,y:o,width:a,height:l}=t.getBoundingClientRect();let c;switch(t.getAttribute("data-main-rotation")){case"90":c=(p,m,v,y)=>({x:(m-o)/l,y:1-(p+v-n)/a,width:y/l,height:v/a});break;case"180":c=(p,m,v,y)=>({x:1-(p+v-n)/a,y:1-(m+y-o)/l,width:v/a,height:y/l});break;case"270":c=(p,m,v,y)=>({x:1-(m+y-o)/l,y:(p-n)/a,width:y/l,height:v/a});break;default:c=(p,m,v,y)=>({x:(p-n)/a,y:(m-o)/l,width:v/a,height:y/l});break}const d=[];for(let p=0,m=e.rangeCount;p<m;p++){const v=e.getRangeAt(p);if(!v.collapsed)for(const{x:y,y:A,width:S,height:_}of v.getClientRects())S===0||_===0||d.push(c(y,A,S,_))}return d.length===0?null:d}addChangedExistingAnnotation({annotationElementId:t,id:e}){(h(this,Ll)||x(this,Ll,new Map)).set(t,e)}removeChangedExistingAnnotation({annotationElementId:t}){var e;(e=h(this,Ll))==null||e.delete(t)}renderAnnotationElement(t){var o;const e=(o=h(this,Ll))==null?void 0:o.get(t.data.id);if(!e)return;const n=h(this,ks).getRawValue(e);n&&(h(this,$e)===jt.NONE&&!n.hasBeenModified||n.renderAnnotationElement(t))}};kl=new WeakMap,Bn=new WeakMap,Pe=new WeakMap,Ue=new WeakMap,Rl=new WeakMap,ks=new WeakMap,Ll=new WeakMap,Ei=new WeakMap,Ml=new WeakMap,Uo=new WeakMap,Wi=new WeakMap,_i=new WeakMap,$o=new WeakMap,Zc=new WeakMap,Jc=new WeakMap,Gi=new WeakMap,Dl=new WeakMap,Fr=new WeakMap,Xi=new WeakMap,im=new WeakMap,Or=new WeakMap,th=new WeakMap,Wo=new WeakMap,eh=new WeakMap,Il=new WeakMap,$e=new WeakMap,Gt=new WeakMap,Rs=new WeakMap,Go=new WeakMap,nh=new WeakMap,ih=new WeakMap,sh=new WeakMap,rh=new WeakMap,oh=new WeakMap,ah=new WeakMap,lh=new WeakMap,uh=new WeakMap,ch=new WeakMap,hh=new WeakMap,dh=new WeakMap,fh=new WeakMap,ph=new WeakMap,Nr=new WeakMap,Ki=new WeakMap,Ls=new WeakMap,mh=new WeakMap,nt=new WeakSet,ap=function({anchorNode:t}){return t.nodeType===Node.TEXT_NODE?t.parentElement:t},L_=function(){const t=document.getSelection();if(!t||t.isCollapsed)return;const n=b(this,nt,ap).call(this,t).closest(".textLayer"),o=this.getSelectionBoxes(n);o&&(h(this,Xi)||x(this,Xi,new $k(this)),h(this,Xi).show(n,o,this.direction==="ltr"))},M_=function(){var a,l,c;const t=document.getSelection();if(!t||t.isCollapsed){h(this,Rs)&&((a=h(this,Xi))==null||a.hide(),x(this,Rs,null),b(this,nt,fn).call(this,{hasSelectedText:!1}));return}const{anchorNode:e}=t;if(e===h(this,Rs))return;if(!b(this,nt,ap).call(this,t).closest(".textLayer")){h(this,Rs)&&((l=h(this,Xi))==null||l.hide(),x(this,Rs,null),b(this,nt,fn).call(this,{hasSelectedText:!1}));return}if((c=h(this,Xi))==null||c.hide(),x(this,Rs,e),b(this,nt,fn).call(this,{hasSelectedText:!0}),!(h(this,$e)!==jt.HIGHLIGHT&&h(this,$e)!==jt.NONE)&&(h(this,$e)===jt.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),x(this,Fr,this.isShiftKeyDown),!this.isShiftKeyDown)){const d=this._signal,p=m=>{m.type==="pointerup"&&m.button!==0||(window.removeEventListener("pointerup",p),window.removeEventListener("blur",p),m.type==="pointerup"&&b(this,nt,lp).call(this,"main_toolbar"))};window.addEventListener("pointerup",p,{signal:d}),window.addEventListener("blur",p,{signal:d})}},lp=function(t=""){h(this,$e)===jt.HIGHLIGHT?this.highlightSelection(t):h(this,Zc)&&b(this,nt,L_).call(this)},D_=function(){document.addEventListener("selectionchange",b(this,nt,M_).bind(this),{signal:this._signal})},I_=function(){const t=this._signal;window.addEventListener("focus",h(this,sh),{signal:t}),window.addEventListener("blur",h(this,ih),{signal:t})},F_=function(){window.removeEventListener("focus",h(this,sh)),window.removeEventListener("blur",h(this,ih))},oy=function(){const t=this._signal;window.addEventListener("keydown",h(this,lh),{signal:t}),window.addEventListener("keyup",h(this,uh),{signal:t})},O_=function(){window.removeEventListener("keydown",h(this,lh)),window.removeEventListener("keyup",h(this,uh))},ay=function(){const t=this._signal;document.addEventListener("copy",h(this,rh),{signal:t}),document.addEventListener("cut",h(this,oh),{signal:t}),document.addEventListener("paste",h(this,ah),{signal:t})},ly=function(){document.removeEventListener("copy",h(this,rh)),document.removeEventListener("cut",h(this,oh)),document.removeEventListener("paste",h(this,ah))},N_=function(){const t=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:t}),document.addEventListener("drop",this.drop.bind(this),{signal:t})},fn=function(t){Object.entries(t).some(([n,o])=>h(this,ph)[n]!==o)&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(h(this,ph),t)}),h(this,$e)===jt.HIGHLIGHT&&t.hasSelectedEditor===!1&&b(this,nt,kr).call(this,[[Pt.HIGHLIGHT_FREE,!0]]))},kr=function(t){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:t})},j_=function(){if(!h(this,Or)){x(this,Or,!0);for(const t of h(this,Ue).values())t.enable();for(const t of h(this,Pe).values())t.enable()}},V_=function(){if(this.unselectAll(),h(this,Or)){x(this,Or,!1);for(const t of h(this,Ue).values())t.disable();for(const t of h(this,Pe).values())t.disable()}},uy=function(t){const e=h(this,Ue).get(t.pageIndex);e?e.addOrRebuild(t):(this.addEditor(t),this.addToAnnotationStorage(t))},B_=function(){let t=null;for(t of h(this,Gt));return t},xc=function(){if(h(this,Pe).size===0)return!0;if(h(this,Pe).size===1)for(const t of h(this,Pe).values())return t.isEmpty();return!1},cy=function(t){for(const e of h(this,Gt))e.unselect();h(this,Gt).clear();for(const e of t)e.isEmpty()||(h(this,Gt).add(e),e.select());b(this,nt,fn).call(this,{hasSelectedEditor:this.hasSelection})},Rt(xl,"TRANSLATE_SMALL",1),Rt(xl,"TRANSLATE_BIG",10);let Ia=xl;var Ms,Ds,xi,Is,zn,Fl,bi,gh,hy;const xs=class xs{constructor(t){T(this,gh);T(this,Ms,"");T(this,Ds,!1);T(this,xi,null);T(this,Is,null);T(this,zn,null);T(this,Fl,!1);T(this,bi,null);x(this,bi,t)}static initialize(t){xs._l10nPromise||(xs._l10nPromise=t)}async render(){const t=x(this,xi,document.createElement("button"));t.className="altText";const e=await xs._l10nPromise.get("pdfjs-editor-alt-text-button-label");t.textContent=e,t.setAttribute("aria-label",e),t.tabIndex="0";const n=h(this,bi)._uiManager._signal;t.addEventListener("contextmenu",Ln,{signal:n}),t.addEventListener("pointerdown",a=>a.stopPropagation(),{signal:n});const o=a=>{a.preventDefault(),h(this,bi)._uiManager.editAltText(h(this,bi))};return t.addEventListener("click",o,{capture:!0,signal:n}),t.addEventListener("keydown",a=>{a.target===t&&a.key==="Enter"&&(x(this,Fl,!0),o(a))},{signal:n}),await b(this,gh,hy).call(this),t}finish(){h(this,xi)&&(h(this,xi).focus({focusVisible:h(this,Fl)}),x(this,Fl,!1))}isEmpty(){return!h(this,Ms)&&!h(this,Ds)}get data(){return{altText:h(this,Ms),decorative:h(this,Ds)}}set data({altText:t,decorative:e}){h(this,Ms)===t&&h(this,Ds)===e||(x(this,Ms,t),x(this,Ds,e),b(this,gh,hy).call(this))}toggle(t=!1){h(this,xi)&&(!t&&h(this,zn)&&(clearTimeout(h(this,zn)),x(this,zn,null)),h(this,xi).disabled=!t)}destroy(){var t;(t=h(this,xi))==null||t.remove(),x(this,xi,null),x(this,Is,null)}};Ms=new WeakMap,Ds=new WeakMap,xi=new WeakMap,Is=new WeakMap,zn=new WeakMap,Fl=new WeakMap,bi=new WeakMap,gh=new WeakSet,hy=async function(){var o;const t=h(this,xi);if(!t)return;if(!h(this,Ms)&&!h(this,Ds)){t.classList.remove("done"),(o=h(this,Is))==null||o.remove();return}t.classList.add("done"),xs._l10nPromise.get("pdfjs-editor-alt-text-edit-button-label").then(a=>{t.setAttribute("aria-label",a)});let e=h(this,Is);if(!e){x(this,Is,e=document.createElement("span")),e.className="tooltip",e.setAttribute("role","tooltip");const a=e.id=`alt-text-tooltip-${h(this,bi).id}`;t.setAttribute("aria-describedby",a);const l=100,c=h(this,bi)._uiManager._signal;c.addEventListener("abort",()=>{clearTimeout(h(this,zn)),x(this,zn,null)},{once:!0}),t.addEventListener("mouseenter",()=>{x(this,zn,setTimeout(()=>{x(this,zn,null),h(this,Is).classList.add("show"),h(this,bi)._reportTelemetry({action:"alt_text_tooltip"})},l))},{signal:c}),t.addEventListener("mouseleave",()=>{var d;h(this,zn)&&(clearTimeout(h(this,zn)),x(this,zn,null)),(d=h(this,Is))==null||d.classList.remove("show")},{signal:c})}e.innerText=h(this,Ds)?await xs._l10nPromise.get("pdfjs-editor-alt-text-decorative-tooltip"):h(this,Ms),e.parentNode||t.append(e);const n=h(this,bi).getImageForAltText();n==null||n.setAttribute("aria-describedby",e.id)},Rt(xs,"_l10nPromise",null);let Op=xs;var Xo,Ci,sn,Ol,Ko,We,qo,Nl,jl,rn,vh,Yo,jr,yh,Qo,Fs,qi,Vl,Bl,ri,wh,sm,Dt,dy,Ah,fy,py,z_,H_,my,gy,vy,U_,$_,W_,G_,yy,bc;const Zt=class Zt{constructor(t){T(this,Dt);T(this,Xo,null);T(this,Ci,null);T(this,sn,null);T(this,Ol,!1);T(this,Ko,!1);T(this,We,null);T(this,qo,null);T(this,Nl,this.focusin.bind(this));T(this,jl,this.focusout.bind(this));T(this,rn,null);T(this,vh,"");T(this,Yo,!1);T(this,jr,null);T(this,yh,!1);T(this,Qo,!1);T(this,Fs,!1);T(this,qi,null);T(this,Vl,0);T(this,Bl,0);T(this,ri,null);Rt(this,"_initialOptions",Object.create(null));Rt(this,"_isVisible",!0);Rt(this,"_uiManager",null);Rt(this,"_focusEventsAllowed",!0);Rt(this,"_l10nPromise",null);T(this,wh,!1);T(this,sm,Zt._zIndex++);this.constructor===Zt&&Yt("Cannot initialize AnnotationEditor."),this.parent=t.parent,this.id=t.id,this.width=this.height=null,this.pageIndex=t.parent.pageIndex,this.name=t.name,this.div=null,this._uiManager=t.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=t.isCentered,this._structTreeParentId=null;const{rotation:e,rawDims:{pageWidth:n,pageHeight:o,pageX:a,pageY:l}}=this.parent.viewport;this.rotation=e,this.pageRotation=(360+e-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,o],this.pageTranslation=[a,l];const[c,d]=this.parentDimensions;this.x=t.x/c,this.y=t.y/d,this.isAttachedToDOM=!1,this.deleted=!1}static get _resizerKeyboardManager(){const t=Zt.prototype._resizeWithKeyboard,e=Ia.TRANSLATE_SMALL,n=Ia.TRANSLATE_BIG;return Bt(this,"_resizerKeyboardManager",new Cd([[["ArrowLeft","mac+ArrowLeft"],t,{args:[-e,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],t,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],t,{args:[e,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],t,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],t,{args:[0,-e]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],t,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],t,{args:[0,e]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],t,{args:[0,n]}],[["Escape","mac+Escape"],Zt.prototype._stopResizingWithKeyboard]]))}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return Bt(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(t){const e=new Kk({id:t.parent.getNextId(),parent:t.parent,uiManager:t._uiManager});e.annotationElementId=t.annotationElementId,e.deleted=!0,e._uiManager.addToAnnotationStorage(e)}static initialize(t,e,n){if(Zt._l10nPromise||(Zt._l10nPromise=new Map(["pdfjs-editor-alt-text-button-label","pdfjs-editor-alt-text-edit-button-label","pdfjs-editor-alt-text-decorative-tooltip","pdfjs-editor-resizer-label-topLeft","pdfjs-editor-resizer-label-topMiddle","pdfjs-editor-resizer-label-topRight","pdfjs-editor-resizer-label-middleRight","pdfjs-editor-resizer-label-bottomRight","pdfjs-editor-resizer-label-bottomMiddle","pdfjs-editor-resizer-label-bottomLeft","pdfjs-editor-resizer-label-middleLeft"].map(a=>[a,t.get(a.replaceAll(/([A-Z])/g,l=>`-${l.toLowerCase()}`))]))),n!=null&&n.strings)for(const a of n.strings)Zt._l10nPromise.set(a,t.get(a));if(Zt._borderLineWidth!==-1)return;const o=getComputedStyle(document.documentElement);Zt._borderLineWidth=parseFloat(o.getPropertyValue("--outline-width"))||0}static updateDefaultParams(t,e){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(t){return!1}static paste(t,e){Yt("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return h(this,wh)}set _isDraggable(t){var e;x(this,wh,t),(e=this.div)==null||e.classList.toggle("draggable",t)}get isEnterHandled(){return!0}center(){const[t,e]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*e/(t*2),this.y+=this.width*t/(e*2);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*e/(t*2),this.y-=this.width*t/(e*2);break;default:this.x-=this.width/2,this.y-=this.height/2;break}this.fixAndSetPosition()}addCommands(t){this._uiManager.addCommands(t)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=h(this,sm)}setParent(t){t!==null?(this.pageIndex=t.pageIndex,this.pageDimensions=t.pageDimensions):b(this,Dt,bc).call(this),this.parent=t}focusin(t){this._focusEventsAllowed&&(h(this,Yo)?x(this,Yo,!1):this.parent.setSelected(this))}focusout(t){var n;if(!this._focusEventsAllowed||!this.isAttachedToDOM)return;const e=t.relatedTarget;e!=null&&e.closest(`#${this.id}`)||(t.preventDefault(),(n=this.parent)!=null&&n.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(t,e,n,o){const[a,l]=this.parentDimensions;[n,o]=this.screenToPageTranslation(n,o),this.x=(t+n)/a,this.y=(e+o)/l,this.fixAndSetPosition()}translate(t,e){b(this,Dt,dy).call(this,this.parentDimensions,t,e)}translateInPage(t,e){h(this,jr)||x(this,jr,[this.x,this.y]),b(this,Dt,dy).call(this,this.pageDimensions,t,e),this.div.scrollIntoView({block:"nearest"})}drag(t,e){h(this,jr)||x(this,jr,[this.x,this.y]);const[n,o]=this.parentDimensions;if(this.x+=t/n,this.y+=e/o,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:p,y:m}=this.div.getBoundingClientRect();this.parent.findNewParent(this,p,m)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:a,y:l}=this;const[c,d]=this.getBaseTranslation();a+=c,l+=d,this.div.style.left=`${(100*a).toFixed(2)}%`,this.div.style.top=`${(100*l).toFixed(2)}%`,this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!h(this,jr)&&(h(this,jr)[0]!==this.x||h(this,jr)[1]!==this.y)}getBaseTranslation(){const[t,e]=this.parentDimensions,{_borderLineWidth:n}=Zt,o=n/t,a=n/e;switch(this.rotation){case 90:return[-o,a];case 180:return[o,a];case 270:return[o,-a];default:return[-o,-a]}}get _mustFixPosition(){return!0}fixAndSetPosition(t=this.rotation){const[e,n]=this.pageDimensions;let{x:o,y:a,width:l,height:c}=this;if(l*=e,c*=n,o*=e,a*=n,this._mustFixPosition)switch(t){case 0:o=Math.max(0,Math.min(e-l,o)),a=Math.max(0,Math.min(n-c,a));break;case 90:o=Math.max(0,Math.min(e-c,o)),a=Math.min(n,Math.max(l,a));break;case 180:o=Math.min(e,Math.max(l,o)),a=Math.min(n,Math.max(c,a));break;case 270:o=Math.min(e,Math.max(c,o)),a=Math.max(0,Math.min(n-l,a));break}this.x=o/=e,this.y=a/=n;const[d,p]=this.getBaseTranslation();o+=d,a+=p;const{style:m}=this.div;m.left=`${(100*o).toFixed(2)}%`,m.top=`${(100*a).toFixed(2)}%`,this.moveInDOM()}screenToPageTranslation(t,e){var n;return b(n=Zt,Ah,fy).call(n,t,e,this.parentRotation)}pageTranslationToScreen(t,e){var n;return b(n=Zt,Ah,fy).call(n,t,e,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:t,pageDimensions:[e,n]}=this,o=e*t,a=n*t;return kn.isCSSRoundSupported?[Math.round(o),Math.round(a)]:[o,a]}setDims(t,e){const[n,o]=this.parentDimensions;this.div.style.width=`${(100*t/n).toFixed(2)}%`,h(this,Ko)||(this.div.style.height=`${(100*e/o).toFixed(2)}%`)}fixDims(){const{style:t}=this.div,{height:e,width:n}=t,o=n.endsWith("%"),a=!h(this,Ko)&&e.endsWith("%");if(o&&a)return;const[l,c]=this.parentDimensions;o||(t.width=`${(100*parseFloat(n)/l).toFixed(2)}%`),!h(this,Ko)&&!a&&(t.height=`${(100*parseFloat(e)/c).toFixed(2)}%`)}getInitialTranslation(){return[0,0]}altTextFinish(){var t;(t=h(this,sn))==null||t.finish()}async addEditToolbar(){return h(this,rn)||h(this,Qo)?h(this,rn):(x(this,rn,new ey(this)),this.div.append(h(this,rn).render()),h(this,sn)&&h(this,rn).addAltTextButton(await h(this,sn).render()),h(this,rn))}removeEditToolbar(){var t;h(this,rn)&&(h(this,rn).remove(),x(this,rn,null),(t=h(this,sn))==null||t.destroy())}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){h(this,sn)||(Op.initialize(Zt._l10nPromise),x(this,sn,new Op(this)),h(this,Xo)&&(h(this,sn).data=h(this,Xo),x(this,Xo,null)),await this.addEditToolbar())}get altTextData(){var t;return(t=h(this,sn))==null?void 0:t.data}set altTextData(t){h(this,sn)&&(h(this,sn).data=t)}hasAltText(){var t;return!((t=h(this,sn))!=null&&t.isEmpty())}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=h(this,Ol)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground();const t=this._uiManager._signal;this.div.addEventListener("focusin",h(this,Nl),{signal:t}),this.div.addEventListener("focusout",h(this,jl),{signal:t});const[e,n]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth=`${(100*n/e).toFixed(2)}%`,this.div.style.maxHeight=`${(100*e/n).toFixed(2)}%`);const[o,a]=this.getInitialTranslation();return this.translate(o,a),Fp(this,this.div,["pointerdown"]),this.div}pointerdown(t){const{isMac:e}=kn.platform;if(t.button!==0||t.ctrlKey&&e){t.preventDefault();return}if(x(this,Yo,!0),this._isDraggable){b(this,Dt,U_).call(this,t);return}b(this,Dt,vy).call(this,t)}moveInDOM(){h(this,qi)&&clearTimeout(h(this,qi)),x(this,qi,setTimeout(()=>{var t;x(this,qi,null),(t=this.parent)==null||t.moveEditorInDOM(this)},0))}_setParentAndPosition(t,e,n){t.changeParent(this),this.x=e,this.y=n,this.fixAndSetPosition()}getRect(t,e,n=this.rotation){const o=this.parentScale,[a,l]=this.pageDimensions,[c,d]=this.pageTranslation,p=t/o,m=e/o,v=this.x*a,y=this.y*l,A=this.width*a,S=this.height*l;switch(n){case 0:return[v+p+c,l-y-m-S+d,v+p+A+c,l-y-m+d];case 90:return[v+m+c,l-y+p+d,v+m+S+c,l-y+p+A+d];case 180:return[v-p-A+c,l-y+m+d,v-p+c,l-y+m+S+d];case 270:return[v-m-S+c,l-y-p-A+d,v-m+c,l-y-p+d];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(t,e){const[n,o,a,l]=t,c=a-n,d=l-o;switch(this.rotation){case 0:return[n,e-l,c,d];case 90:return[n,e-o,d,c];case 180:return[a,e-o,c,d];case 270:return[a,e-l,d,c];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){x(this,Qo,!0)}disableEditMode(){x(this,Qo,!1)}isInEditMode(){return h(this,Qo)}shouldGetKeyboardEvents(){return h(this,Fs)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){var e,n;const t=this._uiManager._signal;(e=this.div)==null||e.addEventListener("focusin",h(this,Nl),{signal:t}),(n=this.div)==null||n.addEventListener("focusout",h(this,jl),{signal:t})}rotate(t){}serialize(t=!1,e=null){Yt("An editor must be serializable")}static deserialize(t,e,n){const o=new this.prototype.constructor({parent:e,id:e.getNextId(),uiManager:n});o.rotation=t.rotation,x(o,Xo,t.accessibilityData);const[a,l]=o.pageDimensions,[c,d,p,m]=o.getRectInCurrentCoords(t.rect,l);return o.x=c/a,o.y=d/l,o.width=p/a,o.height=m/l,o}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||this.serialize()!==null)}remove(){if(this.div.removeEventListener("focusin",h(this,Nl)),this.div.removeEventListener("focusout",h(this,jl)),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),h(this,qi)&&(clearTimeout(h(this,qi)),x(this,qi,null)),b(this,Dt,bc).call(this),this.removeEditToolbar(),h(this,ri)){for(const t of h(this,ri).values())clearTimeout(t);x(this,ri,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(b(this,Dt,z_).call(this),h(this,We).classList.remove("hidden"),Fp(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(t){if(!this.isResizable||t.target!==this.div||t.key!=="Enter")return;this._uiManager.setSelected(this),x(this,qo,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const e=h(this,We).children;if(!h(this,Ci)){x(this,Ci,Array.from(e));const l=b(this,Dt,$_).bind(this),c=b(this,Dt,W_).bind(this),d=this._uiManager._signal;for(const p of h(this,Ci)){const m=p.getAttribute("data-resizer-name");p.setAttribute("role","spinbutton"),p.addEventListener("keydown",l,{signal:d}),p.addEventListener("blur",c,{signal:d}),p.addEventListener("focus",b(this,Dt,G_).bind(this,m),{signal:d}),Zt._l10nPromise.get(`pdfjs-editor-resizer-label-${m}`).then(v=>p.setAttribute("aria-label",v))}}const n=h(this,Ci)[0];let o=0;for(const l of e){if(l===n)break;o++}const a=(360-this.rotation+this.parentRotation)%360/90*(h(this,Ci).length/4);if(a!==o){if(a<o)for(let c=0;c<o-a;c++)h(this,We).append(h(this,We).firstChild);else if(a>o)for(let c=0;c<a-o;c++)h(this,We).firstChild.before(h(this,We).lastChild);let l=0;for(const c of e){const p=h(this,Ci)[l++].getAttribute("data-resizer-name");Zt._l10nPromise.get(`pdfjs-editor-resizer-label-${p}`).then(m=>c.setAttribute("aria-label",m))}}b(this,Dt,yy).call(this,0),x(this,Fs,!0),h(this,We).firstChild.focus({focusVisible:!0}),t.preventDefault(),t.stopImmediatePropagation()}_resizeWithKeyboard(t,e){h(this,Fs)&&b(this,Dt,gy).call(this,h(this,vh),{movementX:t,movementY:e})}_stopResizingWithKeyboard(){b(this,Dt,bc).call(this),this.div.focus()}select(){var t,e;if(this.makeResizable(),(t=this.div)==null||t.classList.add("selectedEditor"),!h(this,rn)){this.addEditToolbar().then(()=>{var n,o;(n=this.div)!=null&&n.classList.contains("selectedEditor")&&((o=h(this,rn))==null||o.show())});return}(e=h(this,rn))==null||e.show()}unselect(){var t,e,n,o;(t=h(this,We))==null||t.classList.add("hidden"),(e=this.div)==null||e.classList.remove("selectedEditor"),(n=this.div)!=null&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),(o=h(this,rn))==null||o.hide()}updateParams(t,e){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return h(this,yh)}set isEditing(t){x(this,yh,t),this.parent&&(t?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(t,e){x(this,Ko,!0);const n=t/e,{style:o}=this.div;o.aspectRatio=n,o.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(t,e=!1){if(e){h(this,ri)||x(this,ri,new Map);const{action:n}=t;let o=h(this,ri).get(n);o&&clearTimeout(o),o=setTimeout(()=>{this._reportTelemetry(t),h(this,ri).delete(n),h(this,ri).size===0&&x(this,ri,null)},Zt._telemetryTimeout),h(this,ri).set(n,o);return}t.type||(t.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:t}})}show(t=this._isVisible){this.div.classList.toggle("hidden",!t),this._isVisible=t}enable(){this.div&&(this.div.tabIndex=0),x(this,Ol,!1)}disable(){this.div&&(this.div.tabIndex=-1),x(this,Ol,!0)}renderAnnotationElement(t){let e=t.container.querySelector(".annotationContent");if(!e)e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),t.container.prepend(e);else if(e.nodeName==="CANVAS"){const n=e;e=document.createElement("div"),e.classList.add("annotationContent",this.editorType),n.before(e)}return e}resetAnnotationElement(t){const{firstChild:e}=t.container;e.nodeName==="DIV"&&e.classList.contains("annotationContent")&&e.remove()}};Xo=new WeakMap,Ci=new WeakMap,sn=new WeakMap,Ol=new WeakMap,Ko=new WeakMap,We=new WeakMap,qo=new WeakMap,Nl=new WeakMap,jl=new WeakMap,rn=new WeakMap,vh=new WeakMap,Yo=new WeakMap,jr=new WeakMap,yh=new WeakMap,Qo=new WeakMap,Fs=new WeakMap,qi=new WeakMap,Vl=new WeakMap,Bl=new WeakMap,ri=new WeakMap,wh=new WeakMap,sm=new WeakMap,Dt=new WeakSet,dy=function([t,e],n,o){[n,o]=this.screenToPageTranslation(n,o),this.x+=n/t,this.y+=o/e,this.fixAndSetPosition()},Ah=new WeakSet,fy=function(t,e,n){switch(n){case 90:return[e,-t];case 180:return[-t,-e];case 270:return[-e,t];default:return[t,e]}},py=function(t){switch(t){case 90:{const[e,n]=this.pageDimensions;return[0,-e/n,n/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,n]=this.pageDimensions;return[0,e/n,-n/e,0]}default:return[1,0,0,1]}},z_=function(){if(h(this,We))return;x(this,We,document.createElement("div")),h(this,We).classList.add("resizers");const t=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],e=this._uiManager._signal;for(const n of t){const o=document.createElement("div");h(this,We).append(o),o.classList.add("resizer",n),o.setAttribute("data-resizer-name",n),o.addEventListener("pointerdown",b(this,Dt,H_).bind(this,n),{signal:e}),o.addEventListener("contextmenu",Ln,{signal:e}),o.tabIndex=-1}this.div.prepend(h(this,We))},H_=function(t,e){var _;e.preventDefault();const{isMac:n}=kn.platform;if(e.button!==0||e.ctrlKey&&n)return;(_=h(this,sn))==null||_.toggle(!1);const o=b(this,Dt,gy).bind(this,t),a=this._isDraggable;this._isDraggable=!1;const l=this._uiManager._signal,c={passive:!0,capture:!0,signal:l};this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",o,c),window.addEventListener("contextmenu",Ln,{signal:l});const d=this.x,p=this.y,m=this.width,v=this.height,y=this.parent.div.style.cursor,A=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(e.target).cursor;const S=()=>{var P;this.parent.togglePointerEvents(!0),(P=h(this,sn))==null||P.toggle(!0),this._isDraggable=a,window.removeEventListener("pointerup",S),window.removeEventListener("blur",S),window.removeEventListener("pointermove",o,c),window.removeEventListener("contextmenu",Ln),this.parent.div.style.cursor=y,this.div.style.cursor=A,b(this,Dt,my).call(this,d,p,m,v)};window.addEventListener("pointerup",S,{signal:l}),window.addEventListener("blur",S,{signal:l})},my=function(t,e,n,o){const a=this.x,l=this.y,c=this.width,d=this.height;a===t&&l===e&&c===n&&d===o||this.addCommands({cmd:()=>{this.width=c,this.height=d,this.x=a,this.y=l;const[p,m]=this.parentDimensions;this.setDims(p*c,m*d),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=o,this.x=t,this.y=e;const[p,m]=this.parentDimensions;this.setDims(p*n,m*o),this.fixAndSetPosition()},mustExec:!0})},gy=function(t,e){const[n,o]=this.parentDimensions,a=this.x,l=this.y,c=this.width,d=this.height,p=Zt.MIN_SIZE/n,m=Zt.MIN_SIZE/o,v=G=>Math.round(G*1e4)/1e4,y=b(this,Dt,py).call(this,this.rotation),A=(G,z)=>[y[0]*G+y[2]*z,y[1]*G+y[3]*z],S=b(this,Dt,py).call(this,360-this.rotation),_=(G,z)=>[S[0]*G+S[2]*z,S[1]*G+S[3]*z];let P,C,R=!1,M=!1;switch(t){case"topLeft":R=!0,P=(G,z)=>[0,0],C=(G,z)=>[G,z];break;case"topMiddle":P=(G,z)=>[G/2,0],C=(G,z)=>[G/2,z];break;case"topRight":R=!0,P=(G,z)=>[G,0],C=(G,z)=>[0,z];break;case"middleRight":M=!0,P=(G,z)=>[G,z/2],C=(G,z)=>[0,z/2];break;case"bottomRight":R=!0,P=(G,z)=>[G,z],C=(G,z)=>[0,0];break;case"bottomMiddle":P=(G,z)=>[G/2,z],C=(G,z)=>[G/2,0];break;case"bottomLeft":R=!0,P=(G,z)=>[0,z],C=(G,z)=>[G,0];break;case"middleLeft":M=!0,P=(G,z)=>[0,z/2],C=(G,z)=>[G,z/2];break}const F=P(c,d),O=C(c,d);let V=A(...O);const W=v(a+V[0]),H=v(l+V[1]);let Y=1,et=1,[tt,_t]=this.screenToPageTranslation(e.movementX,e.movementY);if([tt,_t]=_(tt/n,_t/o),R){const G=Math.hypot(c,d);Y=et=Math.max(Math.min(Math.hypot(O[0]-F[0]-tt,O[1]-F[1]-_t)/G,1/c,1/d),p/c,m/d)}else M?Y=Math.max(p,Math.min(1,Math.abs(O[0]-F[0]-tt)))/c:et=Math.max(m,Math.min(1,Math.abs(O[1]-F[1]-_t)))/d;const pt=v(c*Y),ht=v(d*et);V=A(...C(pt,ht));const xt=W-V[0],St=H-V[1];this.width=pt,this.height=ht,this.x=xt,this.y=St,this.setDims(n*pt,o*ht),this.fixAndSetPosition()},vy=function(t){const{isMac:e}=kn.platform;t.ctrlKey&&!e||t.shiftKey||t.metaKey&&e?this.parent.toggleSelected(this):this.parent.setSelected(this)},U_=function(t){const e=this._uiManager.isSelected(this);this._uiManager.setUpDragSession();let n,o;const a=this._uiManager._signal;e&&(this.div.classList.add("moving"),n={passive:!0,capture:!0,signal:a},x(this,Vl,t.clientX),x(this,Bl,t.clientY),o=c=>{const{clientX:d,clientY:p}=c,[m,v]=this.screenToPageTranslation(d-h(this,Vl),p-h(this,Bl));x(this,Vl,d),x(this,Bl,p),this._uiManager.dragSelectedEditors(m,v)},window.addEventListener("pointermove",o,n));const l=()=>{window.removeEventListener("pointerup",l),window.removeEventListener("blur",l),e&&(this.div.classList.remove("moving"),window.removeEventListener("pointermove",o,n)),x(this,Yo,!1),this._uiManager.endDragSession()||b(this,Dt,vy).call(this,t)};window.addEventListener("pointerup",l,{signal:a}),window.addEventListener("blur",l,{signal:a})},$_=function(t){Zt._resizerKeyboardManager.exec(this,t)},W_=function(t){var e;h(this,Fs)&&((e=t.relatedTarget)==null?void 0:e.parentNode)!==h(this,We)&&b(this,Dt,bc).call(this)},G_=function(t){x(this,vh,h(this,Fs)?t:"")},yy=function(t){if(h(this,Ci))for(const e of h(this,Ci))e.tabIndex=t},bc=function(){if(x(this,Fs,!1),b(this,Dt,yy).call(this,-1),h(this,qo)){const{savedX:t,savedY:e,savedWidth:n,savedHeight:o}=h(this,qo);b(this,Dt,my).call(this,t,e,n,o),x(this,qo,null)}},T(Zt,Ah),Rt(Zt,"_borderLineWidth",-1),Rt(Zt,"_colorManager",new ry),Rt(Zt,"_zIndex",1),Rt(Zt,"_telemetryTimeout",1e3);let Xt=Zt;class Kk extends Xt{constructor(t){super(t),this.annotationElementId=t.annotationElementId,this.deleted=!0}serialize(){return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex}}}const C1=3285377520,ei=4294901760,Ui=65535;class X_{constructor(t){this.h1=t?t&4294967295:C1,this.h2=t?t&4294967295:C1}update(t){let e,n;if(typeof t=="string"){e=new Uint8Array(t.length*2),n=0;for(let _=0,P=t.length;_<P;_++){const C=t.charCodeAt(_);C<=255?e[n++]=C:(e[n++]=C>>>8,e[n++]=C&255)}}else if(ArrayBuffer.isView(t))e=t.slice(),n=e.byteLength;else throw new Error("Invalid data format, must be a string or TypedArray.");const o=n>>2,a=n-o*4,l=new Uint32Array(e.buffer,0,o);let c=0,d=0,p=this.h1,m=this.h2;const v=3432918353,y=461845907,A=v&Ui,S=y&Ui;for(let _=0;_<o;_++)_&1?(c=l[_],c=c*v&ei|c*A&Ui,c=c<<15|c>>>17,c=c*y&ei|c*S&Ui,p^=c,p=p<<13|p>>>19,p=p*5+3864292196):(d=l[_],d=d*v&ei|d*A&Ui,d=d<<15|d>>>17,d=d*y&ei|d*S&Ui,m^=d,m=m<<13|m>>>19,m=m*5+3864292196);switch(c=0,a){case 3:c^=e[o*4+2]<<16;case 2:c^=e[o*4+1]<<8;case 1:c^=e[o*4],c=c*v&ei|c*A&Ui,c=c<<15|c>>>17,c=c*y&ei|c*S&Ui,o&1?p^=c:m^=c}this.h1=p,this.h2=m}hexdigest(){let t=this.h1,e=this.h2;return t^=e>>>1,t=t*3981806797&ei|t*36045&Ui,e=e*4283543511&ei|((e<<16|t>>>16)*2950163797&ei)>>>16,t^=e>>>1,t=t*444984403&ei|t*60499&Ui,e=e*3301882366&ei|((e<<16|t>>>16)*3120437893&ei)>>>16,t^=e>>>1,(t>>>0).toString(16).padStart(8,"0")+(e>>>0).toString(16).padStart(8,"0")}}const wy=Object.freeze({map:null,hash:"",transfer:void 0});var Zo,Ge,rm,K_;class j0{constructor(){T(this,rm);T(this,Zo,!1);T(this,Ge,new Map);this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(t,e){const n=h(this,Ge).get(t);return n===void 0?e:Object.assign(e,n)}getRawValue(t){return h(this,Ge).get(t)}remove(t){if(h(this,Ge).delete(t),h(this,Ge).size===0&&this.resetModified(),typeof this.onAnnotationEditor=="function"){for(const e of h(this,Ge).values())if(e instanceof Xt)return;this.onAnnotationEditor(null)}}setValue(t,e){const n=h(this,Ge).get(t);let o=!1;if(n!==void 0)for(const[a,l]of Object.entries(e))n[a]!==l&&(o=!0,n[a]=l);else o=!0,h(this,Ge).set(t,e);o&&b(this,rm,K_).call(this),e instanceof Xt&&typeof this.onAnnotationEditor=="function"&&this.onAnnotationEditor(e.constructor._type)}has(t){return h(this,Ge).has(t)}getAll(){return h(this,Ge).size>0?L0(h(this,Ge)):null}setAll(t){for(const[e,n]of Object.entries(t))this.setValue(e,n)}get size(){return h(this,Ge).size}resetModified(){h(this,Zo)&&(x(this,Zo,!1),typeof this.onResetModified=="function"&&this.onResetModified())}get print(){return new q_(this)}get serializable(){if(h(this,Ge).size===0)return wy;const t=new Map,e=new X_,n=[],o=Object.create(null);let a=!1;for(const[l,c]of h(this,Ge)){const d=c instanceof Xt?c.serialize(!1,o):c;d&&(t.set(l,d),e.update(`${l}:${JSON.stringify(d)}`),a||(a=!!d.bitmap))}if(a)for(const l of t.values())l.bitmap&&n.push(l.bitmap);return t.size>0?{map:t,hash:e.hexdigest(),transfer:n}:wy}get editorStats(){let t=null;const e=new Map;for(const n of h(this,Ge).values()){if(!(n instanceof Xt))continue;const o=n.telemetryFinalData;if(!o)continue;const{type:a}=o;e.has(a)||e.set(a,Object.getPrototypeOf(n).constructor),t||(t=Object.create(null));const l=t[a]||(t[a]=new Map);for(const[c,d]of Object.entries(o)){if(c==="type")continue;let p=l.get(c);p||(p=new Map,l.set(c,p));const m=p.get(d)??0;p.set(d,m+1)}}for(const[n,o]of e)t[n]=o.computeTelemetryFinalData(t[n]);return t}}Zo=new WeakMap,Ge=new WeakMap,rm=new WeakSet,K_=function(){h(this,Zo)||(x(this,Zo,!0),typeof this.onSetModified=="function"&&this.onSetModified())};var Sh;class q_ extends j0{constructor(e){super();T(this,Sh);const{map:n,hash:o,transfer:a}=e.serializable,l=structuredClone(n,a?{transfer:a}:null);x(this,Sh,{map:l,hash:o,transfer:a})}get print(){Yt("Should not call PrintAnnotationStorage.print")}get serializable(){return h(this,Sh)}}Sh=new WeakMap;var zl;class qk{constructor({ownerDocument:t=globalThis.document,styleElement:e=null}){T(this,zl,new Set);this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(t){this.nativeFontFaces.add(t),this._document.fonts.add(t)}removeNativeFontFace(t){this.nativeFontFaces.delete(t),this._document.fonts.delete(t)}insertRule(t){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const e=this.styleElement.sheet;e.insertRule(t,e.cssRules.length)}clear(){for(const t of this.nativeFontFaces)this._document.fonts.delete(t);this.nativeFontFaces.clear(),h(this,zl).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont({systemFontInfo:t,_inspectFont:e}){if(!(!t||h(this,zl).has(t.loadedName))){if(De(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:n,src:o,style:a}=t,l=new FontFace(n,o,a);this.addNativeFontFace(l);try{await l.load(),h(this,zl).add(n),e==null||e(t)}catch{Mt(`Cannot load system font: ${t.baseFontName}, installing it could help to improve PDF rendering.`),this.removeNativeFontFace(l)}return}Yt("Not implemented: loadSystemFont without the Font Loading API.")}}async bind(t){if(t.attached||t.missingFile&&!t.systemFontInfo)return;if(t.attached=!0,t.systemFontInfo){await this.loadSystemFont(t);return}if(this.isFontLoadingAPISupported){const n=t.createNativeFontFace();if(n){this.addNativeFontFace(n);try{await n.loaded}catch(o){throw Mt(`Failed to load font '${n.family}': '${o}'.`),t.disableFontFace=!0,o}}return}const e=t.createFontFaceRule();if(e){if(this.insertRule(e),this.isSyncFontLoadingSupported)return;await new Promise(n=>{const o=this._queueLoadingCallback(n);this._prepareFontLoadEvent(t,o)})}}get isFontLoadingAPISupported(){var e;const t=!!((e=this._document)!=null&&e.fonts);return Bt(this,"isFontLoadingAPISupported",t)}get isSyncFontLoadingSupported(){let t=!1;return(ln||typeof navigator<"u"&&typeof(navigator==null?void 0:navigator.userAgent)=="string"&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),Bt(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(t){function e(){for(De(!o.done,"completeRequest() cannot be called twice."),o.done=!0;n.length>0&&n[0].done;){const a=n.shift();setTimeout(a.callback,0)}}const{loadingRequests:n}=this,o={done:!1,complete:e,callback:t};return n.push(o),o}get _loadTestFont(){const t=atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA==");return Bt(this,"_loadTestFont",t)}_prepareFontLoadEvent(t,e){function n(F,O){return F.charCodeAt(O)<<24|F.charCodeAt(O+1)<<16|F.charCodeAt(O+2)<<8|F.charCodeAt(O+3)&255}function o(F,O,V,W){const H=F.substring(0,O),Y=F.substring(O+V);return H+W+Y}let a,l;const c=this._document.createElement("canvas");c.width=1,c.height=1;const d=c.getContext("2d");let p=0;function m(F,O){if(++p>30){Mt("Load test font never loaded."),O();return}if(d.font="30px "+F,d.fillText(".",0,20),d.getImageData(0,0,1,1).data[3]>0){O();return}setTimeout(m.bind(null,F,O))}const v=`lt${Date.now()}${this.loadTestFontId++}`;let y=this._loadTestFont;y=o(y,976,v.length,v);const S=16,_=1482184792;let P=n(y,S);for(a=0,l=v.length-3;a<l;a+=4)P=P-_+n(v,a)|0;a<v.length&&(P=P-_+n(v+"XXX",a)|0),y=o(y,S,4,Mk(P));const C=`url(data:font/opentype;base64,${btoa(y)});`,R=`@font-face {font-family:"${v}";src:${C}}`;this.insertRule(R);const M=this._document.createElement("div");M.style.visibility="hidden",M.style.width=M.style.height="10px",M.style.position="absolute",M.style.top=M.style.left="0px";for(const F of[t.loadedName,v]){const O=this._document.createElement("span");O.textContent="Hi",O.style.fontFamily=F,M.append(O)}this._document.body.append(M),m(v,()=>{M.remove(),e.complete()})}}zl=new WeakMap;class Yk{constructor(t,{disableFontFace:e=!1,inspectFont:n=null}){this.compiledGlyphs=Object.create(null);for(const o in t)this[o]=t[o];this.disableFontFace=e===!0,this._inspectFont=n}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(!this.cssFontInfo)t=new FontFace(this.loadedName,this.data,{});else{const n={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(n.style=`oblique ${this.cssFontInfo.italicAngle}deg`),t=new FontFace(this.cssFontInfo.fontFamily,this.data,n)}return(e=this._inspectFont)==null||e.call(this,this),t}createFontFaceRule(){var o;if(!this.data||this.disableFontFace)return null;const t=g_(this.data),e=`url(data:${this.mimetype};base64,${btoa(t)});`;let n;if(!this.cssFontInfo)n=`@font-face {font-family:"${this.loadedName}";src:${e}}`;else{let a=`font-weight: ${this.cssFontInfo.fontWeight};`;this.cssFontInfo.italicAngle&&(a+=`font-style: oblique ${this.cssFontInfo.italicAngle}deg;`),n=`@font-face {font-family:"${this.cssFontInfo.fontFamily}";${a}src:${e}}`}return(o=this._inspectFont)==null||o.call(this,this,e),n}getPathGenerator(t,e){if(this.compiledGlyphs[e]!==void 0)return this.compiledGlyphs[e];let n;try{n=t.get(this.loadedName+"_path_"+e)}catch(a){Mt(`getPathGenerator - ignoring character: "${a}".`)}if(!Array.isArray(n)||n.length===0)return this.compiledGlyphs[e]=function(a,l){};const o=[];for(let a=0,l=n.length;a<l;)switch(n[a++]){case Ss.BEZIER_CURVE_TO:{const[c,d,p,m,v,y]=n.slice(a,a+6);o.push(A=>A.bezierCurveTo(c,d,p,m,v,y)),a+=6}break;case Ss.MOVE_TO:{const[c,d]=n.slice(a,a+2);o.push(p=>p.moveTo(c,d)),a+=2}break;case Ss.LINE_TO:{const[c,d]=n.slice(a,a+2);o.push(p=>p.lineTo(c,d)),a+=2}break;case Ss.QUADRATIC_CURVE_TO:{const[c,d,p,m]=n.slice(a,a+4);o.push(v=>v.quadraticCurveTo(c,d,p,m)),a+=4}break;case Ss.RESTORE:o.push(c=>c.restore());break;case Ss.SAVE:o.push(c=>c.save());break;case Ss.SCALE:De(o.length===2,"Scale command is only valid at the third position.");break;case Ss.TRANSFORM:{const[c,d,p,m,v,y]=n.slice(a,a+6);o.push(A=>A.transform(c,d,p,m,v,y)),a+=6}break;case Ss.TRANSLATE:{const[c,d]=n.slice(a,a+2);o.push(p=>p.translate(c,d)),a+=2}break}return this.compiledGlyphs[e]=function(l,c){o[0](l),o[1](l),l.scale(c,-c);for(let d=2,p=o.length;d<p;d++)o[d](l)}}}if(ln){var Ay=Promise.withResolvers(),jc=null;(async()=>{const t=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),e=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),n=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]),o=await Kf(()=>import("./__vite-browser-external-BIHI7g3E.js"),[]);let a,l;return new Map(Object.entries({fs:t,http:e,https:n,url:o,canvas:a,path2d:l}))})().then(t=>{jc=t,Ay.resolve()},t=>{Mt(`loadPackages: ${t}`),jc=new Map,Ay.resolve()})}class cs{static get promise(){return Ay.promise}static get(t){return jc==null?void 0:jc.get(t)}}const Y_=function(r){return cs.get("fs").promises.readFile(r).then(e=>new Uint8Array(e))};class Qk extends Am{}class Zk extends Ip{_createCanvas(t,e){return cs.get("canvas").createCanvas(t,e)}}class Jk extends Sm{_fetchData(t,e){return Y_(t).then(n=>({cMapData:n,compressionType:e}))}}class tR extends Em{_fetchData(t){return Y_(t)}}const gn={FILL:"Fill",STROKE:"Stroke",SHADING:"Shading"};function Sy(r,t){if(!t)return;const e=t[2]-t[0],n=t[3]-t[1],o=new Path2D;o.rect(t[0],t[1],e,n),r.clip(o)}class Td{constructor(){this.constructor===Td&&Yt("Cannot initialize BaseShadingPattern.")}getPattern(){Yt("Abstract method `getPattern` called.")}}class eR extends Td{constructor(t){super(),this._type=t[1],this._bbox=t[2],this._colorStops=t[3],this._p0=t[4],this._p1=t[5],this._r0=t[6],this._r1=t[7],this.matrix=null}_createGradient(t){let e;this._type==="axial"?e=t.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):this._type==="radial"&&(e=t.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)e.addColorStop(n[0],n[1]);return e}getPattern(t,e,n,o){let a;if(o===gn.STROKE||o===gn.FILL){const l=e.current.getClippedPathBoundingBox(o,ce(t))||[0,0,0,0],c=Math.ceil(l[2]-l[0])||1,d=Math.ceil(l[3]-l[1])||1,p=e.cachedCanvases.getCanvas("pattern",c,d,!0),m=p.context;m.clearRect(0,0,m.canvas.width,m.canvas.height),m.beginPath(),m.rect(0,0,m.canvas.width,m.canvas.height),m.translate(-l[0],-l[1]),n=ft.transform(n,[1,0,0,1,l[0],l[1]]),m.transform(...e.baseTransform),this.matrix&&m.transform(...this.matrix),Sy(m,this._bbox),m.fillStyle=this._createGradient(m),m.fill(),a=t.createPattern(p.canvas,"no-repeat");const v=new DOMMatrix(n);a.setTransform(v)}else Sy(t,this._bbox),a=this._createGradient(t);return a}}function Lv(r,t,e,n,o,a,l,c){const d=t.coords,p=t.colors,m=r.data,v=r.width*4;let y;d[e+1]>d[n+1]&&(y=e,e=n,n=y,y=a,a=l,l=y),d[n+1]>d[o+1]&&(y=n,n=o,o=y,y=l,l=c,c=y),d[e+1]>d[n+1]&&(y=e,e=n,n=y,y=a,a=l,l=y);const A=(d[e]+t.offsetX)*t.scaleX,S=(d[e+1]+t.offsetY)*t.scaleY,_=(d[n]+t.offsetX)*t.scaleX,P=(d[n+1]+t.offsetY)*t.scaleY,C=(d[o]+t.offsetX)*t.scaleX,R=(d[o+1]+t.offsetY)*t.scaleY;if(S>=R)return;const M=p[a],F=p[a+1],O=p[a+2],V=p[l],W=p[l+1],H=p[l+2],Y=p[c],et=p[c+1],tt=p[c+2],_t=Math.round(S),pt=Math.round(R);let ht,xt,St,G,z,rt,J,I;for(let U=_t;U<=pt;U++){if(U<P){const gt=U<S?0:(S-U)/(S-P);ht=A-(A-_)*gt,xt=M-(M-V)*gt,St=F-(F-W)*gt,G=O-(O-H)*gt}else{let gt;U>R?gt=1:P===R?gt=0:gt=(P-U)/(P-R),ht=_-(_-C)*gt,xt=V-(V-Y)*gt,St=W-(W-et)*gt,G=H-(H-tt)*gt}let lt;U<S?lt=0:U>R?lt=1:lt=(S-U)/(S-R),z=A-(A-C)*lt,rt=M-(M-Y)*lt,J=F-(F-et)*lt,I=O-(O-tt)*lt;const wt=Math.round(Math.min(ht,z)),Tt=Math.round(Math.max(ht,z));let Et=v*U+wt*4;for(let gt=wt;gt<=Tt;gt++)lt=(ht-gt)/(ht-z),lt<0?lt=0:lt>1&&(lt=1),m[Et++]=xt-(xt-rt)*lt|0,m[Et++]=St-(St-J)*lt|0,m[Et++]=G-(G-I)*lt|0,m[Et++]=255}}function nR(r,t,e){const n=t.coords,o=t.colors;let a,l;switch(t.type){case"lattice":const c=t.verticesPerRow,d=Math.floor(n.length/c)-1,p=c-1;for(a=0;a<d;a++){let m=a*c;for(let v=0;v<p;v++,m++)Lv(r,e,n[m],n[m+1],n[m+c],o[m],o[m+1],o[m+c]),Lv(r,e,n[m+c+1],n[m+1],n[m+c],o[m+c+1],o[m+1],o[m+c])}break;case"triangles":for(a=0,l=n.length;a<l;a+=3)Lv(r,e,n[a],n[a+1],n[a+2],o[a],o[a+1],o[a+2]);break;default:throw new Error("illegal figure")}}class iR extends Td{constructor(t){super(),this._coords=t[2],this._colors=t[3],this._figures=t[4],this._bounds=t[5],this._bbox=t[7],this._background=t[8],this.matrix=null}_createMeshCanvas(t,e,n){const c=Math.floor(this._bounds[0]),d=Math.floor(this._bounds[1]),p=Math.ceil(this._bounds[2])-c,m=Math.ceil(this._bounds[3])-d,v=Math.min(Math.ceil(Math.abs(p*t[0]*1.1)),3e3),y=Math.min(Math.ceil(Math.abs(m*t[1]*1.1)),3e3),A=p/v,S=m/y,_={coords:this._coords,colors:this._colors,offsetX:-c,offsetY:-d,scaleX:1/A,scaleY:1/S},P=v+2*2,C=y+2*2,R=n.getCanvas("mesh",P,C,!1),M=R.context,F=M.createImageData(v,y);if(e){const V=F.data;for(let W=0,H=V.length;W<H;W+=4)V[W]=e[0],V[W+1]=e[1],V[W+2]=e[2],V[W+3]=255}for(const V of this._figures)nR(F,V,_);return M.putImageData(F,2,2),{canvas:R.canvas,offsetX:c-2*A,offsetY:d-2*S,scaleX:A,scaleY:S}}getPattern(t,e,n,o){Sy(t,this._bbox);let a;if(o===gn.SHADING)a=ft.singularValueDecompose2dScale(ce(t));else if(a=ft.singularValueDecompose2dScale(e.baseTransform),this.matrix){const c=ft.singularValueDecompose2dScale(this.matrix);a=[a[0]*c[0],a[1]*c[1]]}const l=this._createMeshCanvas(a,o===gn.SHADING?null:this._background,e.cachedCanvases);return o!==gn.SHADING&&(t.setTransform(...e.baseTransform),this.matrix&&t.transform(...this.matrix)),t.translate(l.offsetX,l.offsetY),t.scale(l.scaleX,l.scaleY),t.createPattern(l.canvas,"no-repeat")}}class sR extends Td{getPattern(){return"hotpink"}}function rR(r){switch(r[0]){case"RadialAxial":return new eR(r);case"Mesh":return new iR(r);case"Dummy":return new sR}throw new Error(`Unknown IR type: ${r[0]}`)}const T1={COLORED:1,UNCOLORED:2},om=class om{constructor(t,e,n,o,a){this.operatorList=t[2],this.matrix=t[3],this.bbox=t[4],this.xstep=t[5],this.ystep=t[6],this.paintType=t[7],this.tilingType=t[8],this.color=e,this.ctx=n,this.canvasGraphicsFactory=o,this.baseTransform=a}createPatternCanvas(t){const e=this.operatorList,n=this.bbox,o=this.xstep,a=this.ystep,l=this.paintType,c=this.tilingType,d=this.color,p=this.canvasGraphicsFactory;vm("TilingType: "+c);const m=n[0],v=n[1],y=n[2],A=n[3],S=ft.singularValueDecompose2dScale(this.matrix),_=ft.singularValueDecompose2dScale(this.baseTransform),P=[S[0]*_[0],S[1]*_[1]],C=this.getSizeAndScale(o,this.ctx.canvas.width,P[0]),R=this.getSizeAndScale(a,this.ctx.canvas.height,P[1]),M=t.cachedCanvases.getCanvas("pattern",C.size,R.size,!0),F=M.context,O=p.createCanvasGraphics(F);O.groupLevel=t.groupLevel,this.setFillAndStrokeStyleToContext(O,l,d);let V=m,W=v,H=y,Y=A;return m<0&&(V=0,H+=Math.abs(m)),v<0&&(W=0,Y+=Math.abs(v)),F.translate(-(C.scale*V),-(R.scale*W)),O.transform(C.scale,0,0,R.scale,0,0),F.save(),this.clipBbox(O,V,W,H,Y),O.baseTransform=ce(O.ctx),O.executeOperatorList(e),O.endDrawing(),{canvas:M.canvas,scaleX:C.scale,scaleY:R.scale,offsetX:V,offsetY:W}}getSizeAndScale(t,e,n){t=Math.abs(t);const o=Math.max(om.MAX_PATTERN_SIZE,e);let a=Math.ceil(t*n);return a>=o?a=o:n=a/t,{scale:n,size:a}}clipBbox(t,e,n,o,a){const l=o-e,c=a-n;t.ctx.rect(e,n,l,c),t.current.updateRectMinMax(ce(t.ctx),[e,n,o,a]),t.clip(),t.endPath()}setFillAndStrokeStyleToContext(t,e,n){const o=t.ctx,a=t.current;switch(e){case T1.COLORED:const l=this.ctx;o.fillStyle=l.fillStyle,o.strokeStyle=l.strokeStyle,a.fillColor=l.fillStyle,a.strokeColor=l.strokeStyle;break;case T1.UNCOLORED:const c=ft.makeHexColor(n[0],n[1],n[2]);o.fillStyle=c,o.strokeStyle=c,a.fillColor=c,a.strokeColor=c;break;default:throw new Lk(`Unsupported paint type: ${e}`)}}getPattern(t,e,n,o){let a=n;o!==gn.SHADING&&(a=ft.transform(a,e.baseTransform),this.matrix&&(a=ft.transform(a,this.matrix)));const l=this.createPatternCanvas(e);let c=new DOMMatrix(a);c=c.translate(l.offsetX,l.offsetY),c=c.scale(1/l.scaleX,1/l.scaleY);const d=t.createPattern(l.canvas,"repeat");return d.setTransform(c),d}};Rt(om,"MAX_PATTERN_SIZE",3e3);let Ey=om;function oR({src:r,srcPos:t=0,dest:e,width:n,height:o,nonBlackColor:a=4294967295,inverseDecode:l=!1}){const c=kn.isLittleEndian?4278190080:255,[d,p]=l?[a,c]:[c,a],m=n>>3,v=n&7,y=r.length;e=new Uint32Array(e.buffer);let A=0;for(let S=0;S<o;S++){for(const P=t+m;t<P;t++){const C=t<y?r[t]:255;e[A++]=C&128?p:d,e[A++]=C&64?p:d,e[A++]=C&32?p:d,e[A++]=C&16?p:d,e[A++]=C&8?p:d,e[A++]=C&4?p:d,e[A++]=C&2?p:d,e[A++]=C&1?p:d}if(v===0)continue;const _=t<y?r[t++]:255;for(let P=0;P<v;P++)e[A++]=_&1<<7-P?p:d}return{srcPos:t,destPos:A}}const P1=16,k1=100,aR=15,R1=10,L1=1e3,Pn=16;function lR(r,t){if(r._removeMirroring)throw new Error("Context is already forwarding operations.");r.__originalSave=r.save,r.__originalRestore=r.restore,r.__originalRotate=r.rotate,r.__originalScale=r.scale,r.__originalTranslate=r.translate,r.__originalTransform=r.transform,r.__originalSetTransform=r.setTransform,r.__originalResetTransform=r.resetTransform,r.__originalClip=r.clip,r.__originalMoveTo=r.moveTo,r.__originalLineTo=r.lineTo,r.__originalBezierCurveTo=r.bezierCurveTo,r.__originalRect=r.rect,r.__originalClosePath=r.closePath,r.__originalBeginPath=r.beginPath,r._removeMirroring=()=>{r.save=r.__originalSave,r.restore=r.__originalRestore,r.rotate=r.__originalRotate,r.scale=r.__originalScale,r.translate=r.__originalTranslate,r.transform=r.__originalTransform,r.setTransform=r.__originalSetTransform,r.resetTransform=r.__originalResetTransform,r.clip=r.__originalClip,r.moveTo=r.__originalMoveTo,r.lineTo=r.__originalLineTo,r.bezierCurveTo=r.__originalBezierCurveTo,r.rect=r.__originalRect,r.closePath=r.__originalClosePath,r.beginPath=r.__originalBeginPath,delete r._removeMirroring},r.save=function(){t.save(),this.__originalSave()},r.restore=function(){t.restore(),this.__originalRestore()},r.translate=function(n,o){t.translate(n,o),this.__originalTranslate(n,o)},r.scale=function(n,o){t.scale(n,o),this.__originalScale(n,o)},r.transform=function(n,o,a,l,c,d){t.transform(n,o,a,l,c,d),this.__originalTransform(n,o,a,l,c,d)},r.setTransform=function(n,o,a,l,c,d){t.setTransform(n,o,a,l,c,d),this.__originalSetTransform(n,o,a,l,c,d)},r.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},r.rotate=function(n){t.rotate(n),this.__originalRotate(n)},r.clip=function(n){t.clip(n),this.__originalClip(n)},r.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},r.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},r.bezierCurveTo=function(e,n,o,a,l,c){t.bezierCurveTo(e,n,o,a,l,c),this.__originalBezierCurveTo(e,n,o,a,l,c)},r.rect=function(e,n,o,a){t.rect(e,n,o,a),this.__originalRect(e,n,o,a)},r.closePath=function(){t.closePath(),this.__originalClosePath()},r.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}class uR{constructor(t){this.canvasFactory=t,this.cache=Object.create(null)}getCanvas(t,e,n){let o;return this.cache[t]!==void 0?(o=this.cache[t],this.canvasFactory.reset(o,e,n)):(o=this.canvasFactory.create(e,n),this.cache[t]=o),o}delete(t){delete this.cache[t]}clear(){for(const t in this.cache){const e=this.cache[t];this.canvasFactory.destroy(e),delete this.cache[t]}}}function qf(r,t,e,n,o,a,l,c,d,p){const[m,v,y,A,S,_]=ce(r);if(v===0&&y===0){const R=l*m+S,M=Math.round(R),F=c*A+_,O=Math.round(F),V=(l+d)*m+S,W=Math.abs(Math.round(V)-M)||1,H=(c+p)*A+_,Y=Math.abs(Math.round(H)-O)||1;return r.setTransform(Math.sign(m),0,0,Math.sign(A),M,O),r.drawImage(t,e,n,o,a,0,0,W,Y),r.setTransform(m,v,y,A,S,_),[W,Y]}if(m===0&&A===0){const R=c*y+S,M=Math.round(R),F=l*v+_,O=Math.round(F),V=(c+p)*y+S,W=Math.abs(Math.round(V)-M)||1,H=(l+d)*v+_,Y=Math.abs(Math.round(H)-O)||1;return r.setTransform(0,Math.sign(v),Math.sign(y),0,M,O),r.drawImage(t,e,n,o,a,0,0,Y,W),r.setTransform(m,v,y,A,S,_),[Y,W]}r.drawImage(t,e,n,o,a,l,c,d,p);const P=Math.hypot(m,v),C=Math.hypot(y,A);return[P*d,C*p]}function cR(r){const{width:t,height:e}=r;if(t>L1||e>L1)return null;const n=1e3,o=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),a=t+1;let l=new Uint8Array(a*(e+1)),c,d,p;const m=t+7&-8;let v=new Uint8Array(m*e),y=0;for(const C of r.data){let R=128;for(;R>0;)v[y++]=C&R?0:255,R>>=1}let A=0;for(y=0,v[y]!==0&&(l[0]=1,++A),d=1;d<t;d++)v[y]!==v[y+1]&&(l[d]=v[y]?2:1,++A),y++;for(v[y]!==0&&(l[d]=2,++A),c=1;c<e;c++){y=c*m,p=c*a,v[y-m]!==v[y]&&(l[p]=v[y]?1:8,++A);let C=(v[y]?4:0)+(v[y-m]?8:0);for(d=1;d<t;d++)C=(C>>2)+(v[y+1]?4:0)+(v[y-m+1]?8:0),o[C]&&(l[p+d]=o[C],++A),y++;if(v[y-m]!==v[y]&&(l[p+d]=v[y]?2:4,++A),A>n)return null}for(y=m*(e-1),p=c*a,v[y]!==0&&(l[p]=8,++A),d=1;d<t;d++)v[y]!==v[y+1]&&(l[p+d]=v[y]?4:8,++A),y++;if(v[y]!==0&&(l[p+d]=4,++A),A>n)return null;const S=new Int32Array([0,a,-1,0,-a,0,0,0,1]),_=new Path2D;for(c=0;A&&c<=e;c++){let C=c*a;const R=C+t;for(;C<R&&!l[C];)C++;if(C===R)continue;_.moveTo(C%a,c);const M=C;let F=l[C];do{const O=S[F];do C+=O;while(!l[C]);const V=l[C];V!==5&&V!==10?(F=V,l[C]=0):(F=V&51*F>>4,l[C]&=F>>2|F<<2),_.lineTo(C%a,C/a|0),l[C]||--A}while(M!==C);--c}return v=null,l=null,function(C){C.save(),C.scale(1/t,-1/e),C.translate(0,-e),C.fill(_),C.beginPath(),C.restore()}}class M1{constructor(t,e){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=p_,this.textMatrixScale=1,this.fontMatrix=Kv,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=en.FILL,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,t,e])}clone(){const t=Object.create(this);return t.clipBox=this.clipBox.slice(),t}setCurrentPoint(t,e){this.x=t,this.y=e}updatePathMinMax(t,e,n){[e,n]=ft.applyTransform([e,n],t),this.minX=Math.min(this.minX,e),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,e),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(t,e){const n=ft.applyTransform(e,t),o=ft.applyTransform(e.slice(2),t),a=ft.applyTransform([e[0],e[3]],t),l=ft.applyTransform([e[2],e[1]],t);this.minX=Math.min(this.minX,n[0],o[0],a[0],l[0]),this.minY=Math.min(this.minY,n[1],o[1],a[1],l[1]),this.maxX=Math.max(this.maxX,n[0],o[0],a[0],l[0]),this.maxY=Math.max(this.maxY,n[1],o[1],a[1],l[1])}updateScalingPathMinMax(t,e){ft.scaleMinMax(t,e),this.minX=Math.min(this.minX,e[0]),this.minY=Math.min(this.minY,e[1]),this.maxX=Math.max(this.maxX,e[2]),this.maxY=Math.max(this.maxY,e[3])}updateCurvePathMinMax(t,e,n,o,a,l,c,d,p,m){const v=ft.bezierBoundingBox(e,n,o,a,l,c,d,p,m);m||this.updateRectMinMax(t,v)}getPathBoundingBox(t=gn.FILL,e=null){const n=[this.minX,this.minY,this.maxX,this.maxY];if(t===gn.STROKE){e||Yt("Stroke bounding box must include transform.");const o=ft.singularValueDecompose2dScale(e),a=o[0]*this.lineWidth/2,l=o[1]*this.lineWidth/2;n[0]-=a,n[1]-=l,n[2]+=a,n[3]+=l}return n}updateClipFromPath(){const t=ft.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(t||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(t){this.clipBox=t,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(t=gn.FILL,e=null){return ft.intersect(this.clipBox,this.getPathBoundingBox(t,e))}}function D1(r,t){if(typeof ImageData<"u"&&t instanceof ImageData){r.putImageData(t,0,0);return}const e=t.height,n=t.width,o=e%Pn,a=(e-o)/Pn,l=o===0?a:a+1,c=r.createImageData(n,Pn);let d=0,p;const m=t.data,v=c.data;let y,A,S,_;if(t.kind===ip.GRAYSCALE_1BPP){const P=m.byteLength,C=new Uint32Array(v.buffer,0,v.byteLength>>2),R=C.length,M=n+7>>3,F=4294967295,O=kn.isLittleEndian?4278190080:255;for(y=0;y<l;y++){for(S=y<a?Pn:o,p=0,A=0;A<S;A++){const V=P-d;let W=0;const H=V>M?n:V*8-7,Y=H&-8;let et=0,tt=0;for(;W<Y;W+=8)tt=m[d++],C[p++]=tt&128?F:O,C[p++]=tt&64?F:O,C[p++]=tt&32?F:O,C[p++]=tt&16?F:O,C[p++]=tt&8?F:O,C[p++]=tt&4?F:O,C[p++]=tt&2?F:O,C[p++]=tt&1?F:O;for(;W<H;W++)et===0&&(tt=m[d++],et=128),C[p++]=tt&et?F:O,et>>=1}for(;p<R;)C[p++]=0;r.putImageData(c,0,y*Pn)}}else if(t.kind===ip.RGBA_32BPP){for(A=0,_=n*Pn*4,y=0;y<a;y++)v.set(m.subarray(d,d+_)),d+=_,r.putImageData(c,0,A),A+=Pn;y<l&&(_=n*o*4,v.set(m.subarray(d,d+_)),r.putImageData(c,0,A))}else if(t.kind===ip.RGB_24BPP)for(S=Pn,_=n*S,y=0;y<l;y++){for(y>=a&&(S=o,_=n*S),p=0,A=_;A--;)v[p++]=m[d++],v[p++]=m[d++],v[p++]=m[d++],v[p++]=255;r.putImageData(c,0,y*Pn)}else throw new Error(`bad image kind: ${t.kind}`)}function I1(r,t){if(t.bitmap){r.drawImage(t.bitmap,0,0);return}const e=t.height,n=t.width,o=e%Pn,a=(e-o)/Pn,l=o===0?a:a+1,c=r.createImageData(n,Pn);let d=0;const p=t.data,m=c.data;for(let v=0;v<l;v++){const y=v<a?Pn:o;({srcPos:d}=oR({src:p,srcPos:d,dest:m,width:n,height:y,nonBlackColor:0})),r.putImageData(c,0,v*Pn)}}function vc(r,t){const e=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const n of e)r[n]!==void 0&&(t[n]=r[n]);r.setLineDash!==void 0&&(t.setLineDash(r.getLineDash()),t.lineDashOffset=r.lineDashOffset)}function Yf(r){if(r.strokeStyle=r.fillStyle="#000000",r.fillRule="nonzero",r.globalAlpha=1,r.lineWidth=1,r.lineCap="butt",r.lineJoin="miter",r.miterLimit=10,r.globalCompositeOperation="source-over",r.font="10px sans-serif",r.setLineDash!==void 0&&(r.setLineDash([]),r.lineDashOffset=0),!ln){const{filter:t}=r;t!=="none"&&t!==""&&(r.filter="none")}}function F1(r,t){if(t)return!0;const e=ft.singularValueDecompose2dScale(r);e[0]=Math.fround(e[0]),e[1]=Math.fround(e[1]);const n=Math.fround((globalThis.devicePixelRatio||1)*io.PDF_TO_CSS_UNITS);return e[0]<=n&&e[1]<=n}const hR=["butt","round","square"],dR=["miter","round","bevel"],fR={},O1={};var ao,_y,xy;const _w=class _w{constructor(t,e,n,o,a,{optionalContentConfig:l,markedContentStack:c=null},d,p){T(this,ao);this.ctx=t,this.current=new M1(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=e,this.objs=n,this.canvasFactory=o,this.filterFactory=a,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new uR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=d,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=p,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(t,e=null){return typeof t=="string"?t.startsWith("g_")?this.commonObjs.get(t):this.objs.get(t):e}beginDrawing({transform:t,viewport:e,transparency:n=!1,background:o=null}){const a=this.ctx.canvas.width,l=this.ctx.canvas.height,c=this.ctx.fillStyle;if(this.ctx.fillStyle=o||"#ffffff",this.ctx.fillRect(0,0,a,l),this.ctx.fillStyle=c,n){const d=this.cachedCanvases.getCanvas("transparent",a,l);this.compositeCtx=this.ctx,this.transparentCanvas=d.canvas,this.ctx=d.context,this.ctx.save(),this.ctx.transform(...ce(this.compositeCtx))}this.ctx.save(),Yf(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...e.transform),this.viewportScale=e.scale,this.baseTransform=ce(this.ctx)}executeOperatorList(t,e,n,o){const a=t.argsArray,l=t.fnArray;let c=e||0;const d=a.length;if(d===c)return c;const p=d-c>R1&&typeof n=="function",m=p?Date.now()+aR:0;let v=0;const y=this.commonObjs,A=this.objs;let S;for(;;){if(o!==void 0&&c===o.nextBreakPoint)return o.breakIt(c,n),c;if(S=l[c],S!==Si.dependency)this[S].apply(this,a[c]);else for(const _ of a[c]){const P=_.startsWith("g_")?y:A;if(!P.has(_))return P.get(_,n),c}if(c++,c===d)return c;if(p&&++v>R1){if(Date.now()>m)return n(),c;v=0}}}endDrawing(){b(this,ao,_y).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const t of this._cachedBitmapsMap.values()){for(const e of t.values())typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement&&(e.width=e.height=0);t.clear()}this._cachedBitmapsMap.clear(),b(this,ao,xy).call(this)}_scaleImage(t,e){const n=t.width,o=t.height;let a=Math.max(Math.hypot(e[0],e[1]),1),l=Math.max(Math.hypot(e[2],e[3]),1),c=n,d=o,p="prescale1",m,v;for(;a>2&&c>1||l>2&&d>1;){let y=c,A=d;a>2&&c>1&&(y=c>=16384?Math.floor(c/2)-1||1:Math.ceil(c/2),a/=c/y),l>2&&d>1&&(A=d>=16384?Math.floor(d/2)-1||1:Math.ceil(d)/2,l/=d/A),m=this.cachedCanvases.getCanvas(p,y,A),v=m.context,v.clearRect(0,0,y,A),v.drawImage(t,0,0,c,d,0,0,y,A),t=m.canvas,c=y,d=A,p=p==="prescale1"?"prescale2":"prescale1"}return{img:t,paintWidth:c,paintHeight:d}}_createMaskCanvas(t){const e=this.ctx,{width:n,height:o}=t,a=this.current.fillColor,l=this.current.patternFill,c=ce(e);let d,p,m,v;if((t.bitmap||t.data)&&t.count>1){const H=t.bitmap||t.data.buffer;p=JSON.stringify(l?c:[c.slice(0,4),a]),d=this._cachedBitmapsMap.get(H),d||(d=new Map,this._cachedBitmapsMap.set(H,d));const Y=d.get(p);if(Y&&!l){const et=Math.round(Math.min(c[0],c[2])+c[4]),tt=Math.round(Math.min(c[1],c[3])+c[5]);return{canvas:Y,offsetX:et,offsetY:tt}}m=Y}m||(v=this.cachedCanvases.getCanvas("maskCanvas",n,o),I1(v.context,t));let y=ft.transform(c,[1/n,0,0,-1/o,0,0]);y=ft.transform(y,[1,0,0,1,0,-o]);const[A,S,_,P]=ft.getAxialAlignedBoundingBox([0,0,n,o],y),C=Math.round(_-A)||1,R=Math.round(P-S)||1,M=this.cachedCanvases.getCanvas("fillCanvas",C,R),F=M.context,O=A,V=S;F.translate(-O,-V),F.transform(...y),m||(m=this._scaleImage(v.canvas,Es(F)),m=m.img,d&&l&&d.set(p,m)),F.imageSmoothingEnabled=F1(ce(F),t.interpolate),qf(F,m,0,0,m.width,m.height,0,0,n,o),F.globalCompositeOperation="source-in";const W=ft.transform(Es(F),[1,0,0,1,-O,-V]);return F.fillStyle=l?a.getPattern(e,this,W,gn.FILL):a,F.fillRect(0,0,n,o),d&&!l&&(this.cachedCanvases.delete("fillCanvas"),d.set(p,M.canvas)),{canvas:M.canvas,offsetX:Math.round(O),offsetY:Math.round(V)}}setLineWidth(t){t!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=t,this.ctx.lineWidth=t}setLineCap(t){this.ctx.lineCap=hR[t]}setLineJoin(t){this.ctx.lineJoin=dR[t]}setMiterLimit(t){this.ctx.miterLimit=t}setDash(t,e){const n=this.ctx;n.setLineDash!==void 0&&(n.setLineDash(t),n.lineDashOffset=e)}setRenderingIntent(t){}setFlatness(t){}setGState(t){for(const[e,n]of t)switch(e){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n);break}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const t=this.inSMaskMode;this.current.activeSMask&&!t?this.beginSMaskMode():!this.current.activeSMask&&t&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const t=this.ctx.canvas.width,e=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,o=this.cachedCanvases.getCanvas(n,t,e);this.suspendedCtx=this.ctx,this.ctx=o.context;const a=this.ctx;a.setTransform(...ce(this.suspendedCtx)),vc(this.suspendedCtx,a),lR(a,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),vc(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(t){if(!this.current.activeSMask)return;t?(t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.ceil(t[2]),t[3]=Math.ceil(t[3])):t=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const e=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,e,this.ctx,t),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(t,e,n,o){const a=o[0],l=o[1],c=o[2]-a,d=o[3]-l;c===0||d===0||(this.genericComposeSMask(e.context,n,c,d,e.subtype,e.backdrop,e.transferMap,a,l,e.offsetX,e.offsetY),t.save(),t.globalAlpha=1,t.globalCompositeOperation="source-over",t.setTransform(1,0,0,1,0,0),t.drawImage(n.canvas,0,0),t.restore())}genericComposeSMask(t,e,n,o,a,l,c,d,p,m,v){let y=t.canvas,A=d-m,S=p-v;if(l){if(A<0||S<0||A+n>y.width||S+o>y.height){const P=this.cachedCanvases.getCanvas("maskExtension",n,o),C=P.context;C.drawImage(y,-A,-S),l.some(R=>R!==0)&&(C.globalCompositeOperation="destination-atop",C.fillStyle=ft.makeHexColor(...l),C.fillRect(0,0,n,o),C.globalCompositeOperation="source-over"),y=P.canvas,A=S=0}else if(l.some(P=>P!==0)){t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0);const P=new Path2D;P.rect(A,S,n,o),t.clip(P),t.globalCompositeOperation="destination-atop",t.fillStyle=ft.makeHexColor(...l),t.fillRect(A,S,n,o),t.restore()}}e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0),a==="Alpha"&&c?e.filter=this.filterFactory.addAlphaFilter(c):a==="Luminosity"&&(e.filter=this.filterFactory.addLuminosityFilter(c));const _=new Path2D;_.rect(d,p,n,o),e.clip(_),e.globalCompositeOperation="destination-in",e.drawImage(y,A,S,n,o,d,p,n,o),e.restore()}save(){this.inSMaskMode?(vc(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const t=this.current;this.stateStack.push(t),this.current=t.clone()}restore(){this.stateStack.length===0&&this.inSMaskMode&&this.endSMaskMode(),this.stateStack.length!==0&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),vc(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(t,e,n,o,a,l){this.ctx.transform(t,e,n,o,a,l),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(t,e,n){const o=this.ctx,a=this.current;let l=a.x,c=a.y,d,p;const m=ce(o),v=m[0]===0&&m[3]===0||m[1]===0&&m[2]===0,y=v?n.slice(0):null;for(let A=0,S=0,_=t.length;A<_;A++)switch(t[A]|0){case Si.rectangle:l=e[S++],c=e[S++];const P=e[S++],C=e[S++],R=l+P,M=c+C;o.moveTo(l,c),P===0||C===0?o.lineTo(R,M):(o.lineTo(R,c),o.lineTo(R,M),o.lineTo(l,M)),v||a.updateRectMinMax(m,[l,c,R,M]),o.closePath();break;case Si.moveTo:l=e[S++],c=e[S++],o.moveTo(l,c),v||a.updatePathMinMax(m,l,c);break;case Si.lineTo:l=e[S++],c=e[S++],o.lineTo(l,c),v||a.updatePathMinMax(m,l,c);break;case Si.curveTo:d=l,p=c,l=e[S+4],c=e[S+5],o.bezierCurveTo(e[S],e[S+1],e[S+2],e[S+3],l,c),a.updateCurvePathMinMax(m,d,p,e[S],e[S+1],e[S+2],e[S+3],l,c,y),S+=6;break;case Si.curveTo2:d=l,p=c,o.bezierCurveTo(l,c,e[S],e[S+1],e[S+2],e[S+3]),a.updateCurvePathMinMax(m,d,p,l,c,e[S],e[S+1],e[S+2],e[S+3],y),l=e[S+2],c=e[S+3],S+=4;break;case Si.curveTo3:d=l,p=c,l=e[S+2],c=e[S+3],o.bezierCurveTo(e[S],e[S+1],l,c,l,c),a.updateCurvePathMinMax(m,d,p,e[S],e[S+1],l,c,l,c,y),S+=4;break;case Si.closePath:o.closePath();break}v&&a.updateScalingPathMinMax(m,y),a.setCurrentPoint(l,c)}closePath(){this.ctx.closePath()}stroke(t=!0){const e=this.ctx,n=this.current.strokeColor;e.globalAlpha=this.current.strokeAlpha,this.contentVisible&&(typeof n=="object"&&(n!=null&&n.getPattern)?(e.save(),e.strokeStyle=n.getPattern(e,this,Es(e),gn.STROKE),this.rescaleAndStroke(!1),e.restore()):this.rescaleAndStroke(!0)),t&&this.consumePath(this.current.getClippedPathBoundingBox()),e.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(t=!0){const e=this.ctx,n=this.current.fillColor,o=this.current.patternFill;let a=!1;o&&(e.save(),e.fillStyle=n.getPattern(e,this,Es(e),gn.FILL),a=!0);const l=this.current.getClippedPathBoundingBox();this.contentVisible&&l!==null&&(this.pendingEOFill?(e.fill("evenodd"),this.pendingEOFill=!1):e.fill()),a&&e.restore(),t&&this.consumePath(l)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=fR}eoClip(){this.pendingClip=O1}beginText(){this.current.textMatrix=p_,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const t=this.pendingTextPaths,e=this.ctx;if(t===void 0){e.beginPath();return}e.save(),e.beginPath();for(const n of t)e.setTransform(...n.transform),e.translate(n.x,n.y),n.addToPath(e,n.fontSize);e.restore(),e.clip(),e.beginPath(),delete this.pendingTextPaths}setCharSpacing(t){this.current.charSpacing=t}setWordSpacing(t){this.current.wordSpacing=t}setHScale(t){this.current.textHScale=t/100}setLeading(t){this.current.leading=-t}setFont(t,e){var m;const n=this.commonObjs.get(t),o=this.current;if(!n)throw new Error(`Can't find font for ${t}`);if(o.fontMatrix=n.fontMatrix||Kv,(o.fontMatrix[0]===0||o.fontMatrix[3]===0)&&Mt("Invalid font matrix for font "+t),e<0?(e=-e,o.fontDirection=-1):o.fontDirection=1,this.current.font=n,this.current.fontSize=e,n.isType3Font)return;const a=n.loadedName||"sans-serif",l=((m=n.systemFontInfo)==null?void 0:m.css)||`"${a}", ${n.fallbackName}`;let c="normal";n.black?c="900":n.bold&&(c="bold");const d=n.italic?"italic":"normal";let p=e;e<P1?p=P1:e>k1&&(p=k1),this.current.fontSizeScale=e/p,this.ctx.font=`${d} ${c} ${p}px ${l}`}setTextRenderingMode(t){this.current.textRenderingMode=t}setTextRise(t){this.current.textRise=t}moveText(t,e){this.current.x=this.current.lineX+=t,this.current.y=this.current.lineY+=e}setLeadingMoveText(t,e){this.setLeading(-e),this.moveText(t,e)}setTextMatrix(t,e,n,o,a,l){this.current.textMatrix=[t,e,n,o,a,l],this.current.textMatrixScale=Math.hypot(t,e),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(t,e,n,o){const a=this.ctx,l=this.current,c=l.font,d=l.textRenderingMode,p=l.fontSize/l.fontSizeScale,m=d&en.FILL_STROKE_MASK,v=!!(d&en.ADD_TO_PATH_FLAG),y=l.patternFill&&!c.missingFile;let A;(c.disableFontFace||v||y)&&(A=c.getPathGenerator(this.commonObjs,t)),c.disableFontFace||y?(a.save(),a.translate(e,n),a.beginPath(),A(a,p),o&&a.setTransform(...o),(m===en.FILL||m===en.FILL_STROKE)&&a.fill(),(m===en.STROKE||m===en.FILL_STROKE)&&a.stroke(),a.restore()):((m===en.FILL||m===en.FILL_STROKE)&&a.fillText(t,e,n),(m===en.STROKE||m===en.FILL_STROKE)&&a.strokeText(t,e,n)),v&&(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:ce(a),x:e,y:n,fontSize:p,addToPath:A})}get isFontSubpixelAAEnabled(){const{context:t}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);t.scale(1.5,1),t.fillText("I",0,10);const e=t.getImageData(0,0,10,10).data;let n=!1;for(let o=3;o<e.length;o+=4)if(e[o]>0&&e[o]<255){n=!0;break}return Bt(this,"isFontSubpixelAAEnabled",n)}showText(t){const e=this.current,n=e.font;if(n.isType3Font)return this.showType3Text(t);const o=e.fontSize;if(o===0)return;const a=this.ctx,l=e.fontSizeScale,c=e.charSpacing,d=e.wordSpacing,p=e.fontDirection,m=e.textHScale*p,v=t.length,y=n.vertical,A=y?1:-1,S=n.defaultVMetrics,_=o*e.fontMatrix[0],P=e.textRenderingMode===en.FILL&&!n.disableFontFace&&!e.patternFill;a.save(),a.transform(...e.textMatrix),a.translate(e.x,e.y+e.textRise),p>0?a.scale(m,-1):a.scale(m,1);let C;if(e.patternFill){a.save();const V=e.fillColor.getPattern(a,this,Es(a),gn.FILL);C=ce(a),a.restore(),a.fillStyle=V}let R=e.lineWidth;const M=e.textMatrixScale;if(M===0||R===0){const V=e.textRenderingMode&en.FILL_STROKE_MASK;(V===en.STROKE||V===en.FILL_STROKE)&&(R=this.getSinglePixelWidth())}else R/=M;if(l!==1&&(a.scale(l,l),R/=l),a.lineWidth=R,n.isInvalidPDFjsFont){const V=[];let W=0;for(const H of t)V.push(H.unicode),W+=H.width;a.fillText(V.join(""),0,0),e.x+=W*_*m,a.restore(),this.compose();return}let F=0,O;for(O=0;O<v;++O){const V=t[O];if(typeof V=="number"){F+=A*V*o/1e3;continue}let W=!1;const H=(V.isSpace?d:0)+c,Y=V.fontChar,et=V.accent;let tt,_t,pt=V.width;if(y){const xt=V.vmetric||S,St=-(V.vmetric?xt[1]:pt*.5)*_,G=xt[2]*_;pt=xt?-xt[0]:pt,tt=St/l,_t=(F+G)/l}else tt=F/l,_t=0;if(n.remeasure&&pt>0){const xt=a.measureText(Y).width*1e3/o*l;if(pt<xt&&this.isFontSubpixelAAEnabled){const St=pt/xt;W=!0,a.save(),a.scale(St,1),tt/=St}else pt!==xt&&(tt+=(pt-xt)/2e3*o/l)}if(this.contentVisible&&(V.isInFont||n.missingFile)){if(P&&!et)a.fillText(Y,tt,_t);else if(this.paintChar(Y,tt,_t,C),et){const xt=tt+o*et.offset.x/l,St=_t-o*et.offset.y/l;this.paintChar(et.fontChar,xt,St,C)}}const ht=y?pt*_-H*p:pt*_+H*p;F+=ht,W&&a.restore()}y?e.y-=F:e.x+=F*m,a.restore(),this.compose()}showType3Text(t){const e=this.ctx,n=this.current,o=n.font,a=n.fontSize,l=n.fontDirection,c=o.vertical?1:-1,d=n.charSpacing,p=n.wordSpacing,m=n.textHScale*l,v=n.fontMatrix||Kv,y=t.length,A=n.textRenderingMode===en.INVISIBLE;let S,_,P,C;if(!(A||a===0)){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,e.save(),e.transform(...n.textMatrix),e.translate(n.x,n.y),e.scale(m,l),S=0;S<y;++S){if(_=t[S],typeof _=="number"){C=c*_*a/1e3,this.ctx.translate(C,0),n.x+=C*m;continue}const R=(_.isSpace?p:0)+d,M=o.charProcOperatorList[_.operatorListId];if(!M){Mt(`Type3 character "${_.operatorListId}" is not available.`);continue}this.contentVisible&&(this.processingType3=_,this.save(),e.scale(a,a),e.transform(...v),this.executeOperatorList(M),this.restore()),P=ft.applyTransform([_.width,0],v)[0]*a+R,e.translate(P,0),n.x+=P*m}e.restore(),this.processingType3=null}}setCharWidth(t,e){}setCharWidthAndBounds(t,e,n,o,a,l){this.ctx.rect(n,o,a-n,l-o),this.ctx.clip(),this.endPath()}getColorN_Pattern(t){let e;if(t[0]==="TilingPattern"){const n=t[1],o=this.baseTransform||ce(this.ctx),a={createCanvasGraphics:l=>new _w(l,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};e=new Ey(t,n,this.ctx,a,o)}else e=this._getPattern(t[1],t[2]);return e}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(t,e,n){const o=ft.makeHexColor(t,e,n);this.ctx.strokeStyle=o,this.current.strokeColor=o}setFillRGBColor(t,e,n){const o=ft.makeHexColor(t,e,n);this.ctx.fillStyle=o,this.current.fillColor=o,this.current.patternFill=!1}_getPattern(t,e=null){let n;return this.cachedPatterns.has(t)?n=this.cachedPatterns.get(t):(n=rR(this.getObject(t)),this.cachedPatterns.set(t,n)),e&&(n.matrix=e),n}shadingFill(t){if(!this.contentVisible)return;const e=this.ctx;this.save();const n=this._getPattern(t);e.fillStyle=n.getPattern(e,this,Es(e),gn.SHADING);const o=Es(e);if(o){const{width:a,height:l}=e.canvas,[c,d,p,m]=ft.getAxialAlignedBoundingBox([0,0,a,l],o);this.ctx.fillRect(c,d,p-c,m-d)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){Yt("Should not call beginInlineImage")}beginImageData(){Yt("Should not call beginImageData")}paintFormXObjectBegin(t,e){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),t&&this.transform(...t),this.baseTransform=ce(this.ctx),e)){const n=e[2]-e[0],o=e[3]-e[1];this.ctx.rect(e[0],e[1],n,o),this.current.updateRectMinMax(ce(this.ctx),e),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(t){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const e=this.ctx;t.isolated||vm("TODO: Support non-isolated groups."),t.knockout&&Mt("Knockout groups not supported.");const n=ce(e);if(t.matrix&&e.transform(...t.matrix),!t.bbox)throw new Error("Bounding box is required.");let o=ft.getAxialAlignedBoundingBox(t.bbox,ce(e));const a=[0,0,e.canvas.width,e.canvas.height];o=ft.intersect(o,a)||[0,0,0,0];const l=Math.floor(o[0]),c=Math.floor(o[1]),d=Math.max(Math.ceil(o[2])-l,1),p=Math.max(Math.ceil(o[3])-c,1);this.current.startNewPathAndClipBox([0,0,d,p]);let m="groupAt"+this.groupLevel;t.smask&&(m+="_smask_"+this.smaskCounter++%2);const v=this.cachedCanvases.getCanvas(m,d,p),y=v.context;y.translate(-l,-c),y.transform(...n),t.smask?this.smaskStack.push({canvas:v.canvas,context:y,offsetX:l,offsetY:c,subtype:t.smask.subtype,backdrop:t.smask.backdrop,transferMap:t.smask.transferMap||null,startTransformInverse:null}):(e.setTransform(1,0,0,1,0,0),e.translate(l,c),e.save()),vc(e,y),this.ctx=y,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(e),this.groupLevel++}endGroup(t){if(!this.contentVisible)return;this.groupLevel--;const e=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,t.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const o=ce(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...o);const a=ft.getAxialAlignedBoundingBox([0,0,e.canvas.width,e.canvas.height],o);this.ctx.drawImage(e.canvas,0,0),this.ctx.restore(),this.compose(a)}}beginAnnotation(t,e,n,o,a){if(b(this,ao,_y).call(this),Yf(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),e){const l=e[2]-e[0],c=e[3]-e[1];if(a&&this.annotationCanvasMap){n=n.slice(),n[4]-=e[0],n[5]-=e[1],e=e.slice(),e[0]=e[1]=0,e[2]=l,e[3]=c;const[d,p]=ft.singularValueDecompose2dScale(ce(this.ctx)),{viewportScale:m}=this,v=Math.ceil(l*this.outputScaleX*m),y=Math.ceil(c*this.outputScaleY*m);this.annotationCanvas=this.canvasFactory.create(v,y);const{canvas:A,context:S}=this.annotationCanvas;this.annotationCanvasMap.set(t,A),this.annotationCanvas.savedCtx=this.ctx,this.ctx=S,this.ctx.save(),this.ctx.setTransform(d,0,0,-p,0,c*p),Yf(this.ctx)}else Yf(this.ctx),this.ctx.rect(e[0],e[1],l,c),this.ctx.clip(),this.endPath()}this.current=new M1(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...o)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),b(this,ao,xy).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(t){if(!this.contentVisible)return;const e=t.count;t=this.getObject(t.data,t),t.count=e;const n=this.ctx,o=this.processingType3;if(o&&(o.compiled===void 0&&(o.compiled=cR(t)),o.compiled)){o.compiled(n);return}const a=this._createMaskCanvas(t),l=a.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(l,a.offsetX,a.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(t,e,n=0,o=0,a,l){if(!this.contentVisible)return;t=this.getObject(t.data,t);const c=this.ctx;c.save();const d=ce(c);c.transform(e,n,o,a,0,0);const p=this._createMaskCanvas(t);c.setTransform(1,0,0,1,p.offsetX-d[4],p.offsetY-d[5]);for(let m=0,v=l.length;m<v;m+=2){const y=ft.transform(d,[e,n,o,a,l[m],l[m+1]]),[A,S]=ft.applyTransform([0,0],y);c.drawImage(p.canvas,A,S)}c.restore(),this.compose()}paintImageMaskXObjectGroup(t){if(!this.contentVisible)return;const e=this.ctx,n=this.current.fillColor,o=this.current.patternFill;for(const a of t){const{data:l,width:c,height:d,transform:p}=a,m=this.cachedCanvases.getCanvas("maskCanvas",c,d),v=m.context;v.save();const y=this.getObject(l,a);I1(v,y),v.globalCompositeOperation="source-in",v.fillStyle=o?n.getPattern(v,this,Es(e),gn.FILL):n,v.fillRect(0,0,c,d),v.restore(),e.save(),e.transform(...p),e.scale(1,-1),qf(e,m.canvas,0,0,c,d,0,-1,1,1),e.restore()}this.compose()}paintImageXObject(t){if(!this.contentVisible)return;const e=this.getObject(t);if(!e){Mt("Dependent image isn't ready yet");return}this.paintInlineImageXObject(e)}paintImageXObjectRepeat(t,e,n,o){if(!this.contentVisible)return;const a=this.getObject(t);if(!a){Mt("Dependent image isn't ready yet");return}const l=a.width,c=a.height,d=[];for(let p=0,m=o.length;p<m;p+=2)d.push({transform:[e,0,0,n,o[p],o[p+1]],x:0,y:0,w:l,h:c});this.paintInlineImageXObjectGroup(a,d)}applyTransferMapsToCanvas(t){return this.current.transferMaps!=="none"&&(t.filter=this.current.transferMaps,t.drawImage(t.canvas,0,0),t.filter="none"),t.canvas}applyTransferMapsToBitmap(t){if(this.current.transferMaps==="none")return t.bitmap;const{bitmap:e,width:n,height:o}=t,a=this.cachedCanvases.getCanvas("inlineImage",n,o),l=a.context;return l.filter=this.current.transferMaps,l.drawImage(e,0,0),l.filter="none",a.canvas}paintInlineImageXObject(t){if(!this.contentVisible)return;const e=t.width,n=t.height,o=this.ctx;if(this.save(),!ln){const{filter:c}=o;c!=="none"&&c!==""&&(o.filter="none")}o.scale(1/e,-1/n);let a;if(t.bitmap)a=this.applyTransferMapsToBitmap(t);else if(typeof HTMLElement=="function"&&t instanceof HTMLElement||!t.data)a=t;else{const d=this.cachedCanvases.getCanvas("inlineImage",e,n).context;D1(d,t),a=this.applyTransferMapsToCanvas(d)}const l=this._scaleImage(a,Es(o));o.imageSmoothingEnabled=F1(ce(o),t.interpolate),qf(o,l.img,0,0,l.paintWidth,l.paintHeight,0,-n,e,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(t,e){if(!this.contentVisible)return;const n=this.ctx;let o;if(t.bitmap)o=t.bitmap;else{const a=t.width,l=t.height,d=this.cachedCanvases.getCanvas("inlineImage",a,l).context;D1(d,t),o=this.applyTransferMapsToCanvas(d)}for(const a of e)n.save(),n.transform(...a.transform),n.scale(1,-1),qf(n,o,a.x,a.y,a.w,a.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(t){}markPointProps(t,e){}beginMarkedContent(t){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(t,e){t==="OC"?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(e)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(t){const e=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(t);const n=this.ctx;this.pendingClip&&(e||(this.pendingClip===O1?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const t=ce(this.ctx);if(t[1]===0&&t[2]===0)this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(t[0]),Math.abs(t[3]));else{const e=Math.abs(t[0]*t[3]-t[2]*t[1]),n=Math.hypot(t[0],t[2]),o=Math.hypot(t[1],t[3]);this._cachedGetSinglePixelWidth=Math.max(n,o)/e}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(this._cachedScaleForStroking[0]===-1){const{lineWidth:t}=this.current,{a:e,b:n,c:o,d:a}=this.ctx.getTransform();let l,c;if(n===0&&o===0){const d=Math.abs(e),p=Math.abs(a);if(d===p)if(t===0)l=c=1/d;else{const m=d*t;l=c=m<1?1/m:1}else if(t===0)l=1/d,c=1/p;else{const m=d*t,v=p*t;l=m<1?1/m:1,c=v<1?1/v:1}}else{const d=Math.abs(e*a-n*o),p=Math.hypot(e,n),m=Math.hypot(o,a);if(t===0)l=m/d,c=p/d;else{const v=t*d;l=m>v?m/v:1,c=p>v?p/v:1}}this._cachedScaleForStroking[0]=l,this._cachedScaleForStroking[1]=c}return this._cachedScaleForStroking}rescaleAndStroke(t){const{ctx:e}=this,{lineWidth:n}=this.current,[o,a]=this.getScaleForStroking();if(e.lineWidth=n||1,o===1&&a===1){e.stroke();return}const l=e.getLineDash();if(t&&e.save(),e.scale(o,a),l.length>0){const c=Math.max(o,a);e.setLineDash(l.map(d=>d/c)),e.lineDashOffset/=c}e.stroke(),t&&e.restore()}isContentVisible(){for(let t=this.markedContentStack.length-1;t>=0;t--)if(!this.markedContentStack[t].visible)return!1;return!0}};ao=new WeakSet,_y=function(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)},xy=function(){if(this.pageColors){const t=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if(t!=="none"){const e=this.ctx.filter;this.ctx.filter=t,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=e}}};let bl=_w;for(const r in Si)bl.prototype[r]!==void 0&&(bl.prototype[Si[r]]=bl.prototype[r]);var Eh,_h;class Js{static get workerPort(){return h(this,Eh)}static set workerPort(t){if(!(typeof Worker<"u"&&t instanceof Worker)&&t!==null)throw new Error("Invalid `workerPort` type.");x(this,Eh,t)}static get workerSrc(){return h(this,_h)}static set workerSrc(t){if(typeof t!="string")throw new Error("Invalid `workerSrc` type.");x(this,_h,t)}}Eh=new WeakMap,_h=new WeakMap,T(Js,Eh,null),T(Js,_h,"");const Qf={UNKNOWN:0,DATA:1,ERROR:2},Ee={UNKNOWN:0,CANCEL:1,CANCEL_COMPLETE:2,CLOSE:3,ENQUEUE:4,ERROR:5,PULL:6,PULL_COMPLETE:7,START_COMPLETE:8};function Nn(r){switch(r instanceof Error||typeof r=="object"&&r!==null||Yt('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),r.name){case"AbortException":return new Ba(r.message);case"MissingPDFException":return new Va(r.message);case"PasswordException":return new Yv(r.message,r.code);case"UnexpectedResponseException":return new ym(r.message,r.status);case"UnknownErrorException":return new Qv(r.message,r.details);default:return new Qv(r.message,r.toString())}}var ls,Q_,Z_,up;class Cc{constructor(t,e,n){T(this,ls);this.sourceName=t,this.targetName=e,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),this._onComObjOnMessage=o=>{const a=o.data;if(a.targetName!==this.sourceName)return;if(a.stream){b(this,ls,Z_).call(this,a);return}if(a.callback){const c=a.callbackId,d=this.callbackCapabilities[c];if(!d)throw new Error(`Cannot resolve callback ${c}`);if(delete this.callbackCapabilities[c],a.callback===Qf.DATA)d.resolve(a.data);else if(a.callback===Qf.ERROR)d.reject(Nn(a.reason));else throw new Error("Unexpected callback case");return}const l=this.actionHandler[a.action];if(!l)throw new Error(`Unknown action from worker: ${a.action}`);if(a.callbackId){const c=this.sourceName,d=a.sourceName;new Promise(function(p){p(l(a.data))}).then(function(p){n.postMessage({sourceName:c,targetName:d,callback:Qf.DATA,callbackId:a.callbackId,data:p})},function(p){n.postMessage({sourceName:c,targetName:d,callback:Qf.ERROR,callbackId:a.callbackId,reason:Nn(p)})});return}if(a.streamId){b(this,ls,Q_).call(this,a);return}l(a.data)},n.addEventListener("message",this._onComObjOnMessage)}on(t,e){const n=this.actionHandler;if(n[t])throw new Error(`There is already an actionName called "${t}"`);n[t]=e}send(t,e,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,data:e},n)}sendWithPromise(t,e,n){const o=this.callbackId++,a=Promise.withResolvers();this.callbackCapabilities[o]=a;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:t,callbackId:o,data:e},n)}catch(l){a.reject(l)}return a.promise}sendWithStream(t,e,n,o){const a=this.streamId++,l=this.sourceName,c=this.targetName,d=this.comObj;return new ReadableStream({start:p=>{const m=Promise.withResolvers();return this.streamControllers[a]={controller:p,startCall:m,pullCall:null,cancelCall:null,isClosed:!1},d.postMessage({sourceName:l,targetName:c,action:t,streamId:a,data:e,desiredSize:p.desiredSize},o),m.promise},pull:p=>{const m=Promise.withResolvers();return this.streamControllers[a].pullCall=m,d.postMessage({sourceName:l,targetName:c,stream:Ee.PULL,streamId:a,desiredSize:p.desiredSize}),m.promise},cancel:p=>{De(p instanceof Error,"cancel must have a valid reason");const m=Promise.withResolvers();return this.streamControllers[a].cancelCall=m,this.streamControllers[a].isClosed=!0,d.postMessage({sourceName:l,targetName:c,stream:Ee.CANCEL,streamId:a,reason:Nn(p)}),m.promise}},n)}destroy(){this.comObj.removeEventListener("message",this._onComObjOnMessage)}}ls=new WeakSet,Q_=function(t){const e=t.streamId,n=this.sourceName,o=t.sourceName,a=this.comObj,l=this,c=this.actionHandler[t.action],d={enqueue(p,m=1,v){if(this.isCancelled)return;const y=this.desiredSize;this.desiredSize-=m,y>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),a.postMessage({sourceName:n,targetName:o,stream:Ee.ENQUEUE,streamId:e,chunk:p},v)},close(){this.isCancelled||(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:o,stream:Ee.CLOSE,streamId:e}),delete l.streamSinks[e])},error(p){De(p instanceof Error,"error must have a valid reason"),!this.isCancelled&&(this.isCancelled=!0,a.postMessage({sourceName:n,targetName:o,stream:Ee.ERROR,streamId:e,reason:Nn(p)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:t.desiredSize,ready:null};d.sinkCapability.resolve(),d.ready=d.sinkCapability.promise,this.streamSinks[e]=d,new Promise(function(p){p(c(t.data,d))}).then(function(){a.postMessage({sourceName:n,targetName:o,stream:Ee.START_COMPLETE,streamId:e,success:!0})},function(p){a.postMessage({sourceName:n,targetName:o,stream:Ee.START_COMPLETE,streamId:e,reason:Nn(p)})})},Z_=function(t){const e=t.streamId,n=this.sourceName,o=t.sourceName,a=this.comObj,l=this.streamControllers[e],c=this.streamSinks[e];switch(t.stream){case Ee.START_COMPLETE:t.success?l.startCall.resolve():l.startCall.reject(Nn(t.reason));break;case Ee.PULL_COMPLETE:t.success?l.pullCall.resolve():l.pullCall.reject(Nn(t.reason));break;case Ee.PULL:if(!c){a.postMessage({sourceName:n,targetName:o,stream:Ee.PULL_COMPLETE,streamId:e,success:!0});break}c.desiredSize<=0&&t.desiredSize>0&&c.sinkCapability.resolve(),c.desiredSize=t.desiredSize,new Promise(function(d){var p;d((p=c.onPull)==null?void 0:p.call(c))}).then(function(){a.postMessage({sourceName:n,targetName:o,stream:Ee.PULL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:o,stream:Ee.PULL_COMPLETE,streamId:e,reason:Nn(d)})});break;case Ee.ENQUEUE:if(De(l,"enqueue should have stream controller"),l.isClosed)break;l.controller.enqueue(t.chunk);break;case Ee.CLOSE:if(De(l,"close should have stream controller"),l.isClosed)break;l.isClosed=!0,l.controller.close(),b(this,ls,up).call(this,l,e);break;case Ee.ERROR:De(l,"error should have stream controller"),l.controller.error(Nn(t.reason)),b(this,ls,up).call(this,l,e);break;case Ee.CANCEL_COMPLETE:t.success?l.cancelCall.resolve():l.cancelCall.reject(Nn(t.reason)),b(this,ls,up).call(this,l,e);break;case Ee.CANCEL:if(!c)break;new Promise(function(d){var p;d((p=c.onCancel)==null?void 0:p.call(c,Nn(t.reason)))}).then(function(){a.postMessage({sourceName:n,targetName:o,stream:Ee.CANCEL_COMPLETE,streamId:e,success:!0})},function(d){a.postMessage({sourceName:n,targetName:o,stream:Ee.CANCEL_COMPLETE,streamId:e,reason:Nn(d)})}),c.sinkCapability.reject(Nn(t.reason)),c.isCancelled=!0,delete this.streamSinks[e];break;default:throw new Error("Unexpected stream case")}},up=async function(t,e){var n,o,a;await Promise.allSettled([(n=t.startCall)==null?void 0:n.promise,(o=t.pullCall)==null?void 0:o.promise,(a=t.cancelCall)==null?void 0:a.promise]),delete this.streamControllers[e]};var Jo,xh;class pR{constructor({parsedData:t,rawData:e}){T(this,Jo);T(this,xh);x(this,Jo,t),x(this,xh,e)}getRaw(){return h(this,xh)}get(t){return h(this,Jo).get(t)??null}getAll(){return L0(h(this,Jo))}has(t){return h(this,Jo).has(t)}}Jo=new WeakMap,xh=new WeakMap;const Rr=Symbol("INTERNAL");var bh,Ch,Th,Hl;class mR{constructor(t,{name:e,intent:n,usage:o}){T(this,bh,!1);T(this,Ch,!1);T(this,Th,!1);T(this,Hl,!0);x(this,bh,!!(t&li.DISPLAY)),x(this,Ch,!!(t&li.PRINT)),this.name=e,this.intent=n,this.usage=o}get visible(){if(h(this,Th))return h(this,Hl);if(!h(this,Hl))return!1;const{print:t,view:e}=this.usage;return h(this,bh)?(e==null?void 0:e.viewState)!=="OFF":h(this,Ch)?(t==null?void 0:t.printState)!=="OFF":!0}_setVisible(t,e,n=!1){t!==Rr&&Yt("Internal method `_setVisible` called."),x(this,Th,n),x(this,Hl,e)}}bh=new WeakMap,Ch=new WeakMap,Th=new WeakMap,Hl=new WeakMap;var Vr,Kt,Ul,$l,Ph,by;class gR{constructor(t,e=li.DISPLAY){T(this,Ph);T(this,Vr,null);T(this,Kt,new Map);T(this,Ul,null);T(this,$l,null);if(this.renderingIntent=e,this.name=null,this.creator=null,t!==null){this.name=t.name,this.creator=t.creator,x(this,$l,t.order);for(const n of t.groups)h(this,Kt).set(n.id,new mR(e,n));if(t.baseState==="OFF")for(const n of h(this,Kt).values())n._setVisible(Rr,!1);for(const n of t.on)h(this,Kt).get(n)._setVisible(Rr,!0);for(const n of t.off)h(this,Kt).get(n)._setVisible(Rr,!1);x(this,Ul,this.getHash())}}isVisible(t){if(h(this,Kt).size===0)return!0;if(!t)return vm("Optional content group not defined."),!0;if(t.type==="OCG")return h(this,Kt).has(t.id)?h(this,Kt).get(t.id).visible:(Mt(`Optional content group not found: ${t.id}`),!0);if(t.type==="OCMD"){if(t.expression)return b(this,Ph,by).call(this,t.expression);if(!t.policy||t.policy==="AnyOn"){for(const e of t.ids){if(!h(this,Kt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(h(this,Kt).get(e).visible)return!0}return!1}else if(t.policy==="AllOn"){for(const e of t.ids){if(!h(this,Kt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!h(this,Kt).get(e).visible)return!1}return!0}else if(t.policy==="AnyOff"){for(const e of t.ids){if(!h(this,Kt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(!h(this,Kt).get(e).visible)return!0}return!1}else if(t.policy==="AllOff"){for(const e of t.ids){if(!h(this,Kt).has(e))return Mt(`Optional content group not found: ${e}`),!0;if(h(this,Kt).get(e).visible)return!1}return!0}return Mt(`Unknown optional content policy ${t.policy}.`),!0}return Mt(`Unknown group type ${t.type}.`),!0}setVisibility(t,e=!0){const n=h(this,Kt).get(t);if(!n){Mt(`Optional content group not found: ${t}`);return}n._setVisible(Rr,!!e,!0),x(this,Vr,null)}setOCGState({state:t,preserveRB:e}){let n;for(const o of t){switch(o){case"ON":case"OFF":case"Toggle":n=o;continue}const a=h(this,Kt).get(o);if(a)switch(n){case"ON":a._setVisible(Rr,!0);break;case"OFF":a._setVisible(Rr,!1);break;case"Toggle":a._setVisible(Rr,!a.visible);break}}x(this,Vr,null)}get hasInitialVisibility(){return h(this,Ul)===null||this.getHash()===h(this,Ul)}getOrder(){return h(this,Kt).size?h(this,$l)?h(this,$l).slice():[...h(this,Kt).keys()]:null}getGroups(){return h(this,Kt).size>0?L0(h(this,Kt)):null}getGroup(t){return h(this,Kt).get(t)||null}getHash(){if(h(this,Vr)!==null)return h(this,Vr);const t=new X_;for(const[e,n]of h(this,Kt))t.update(`${e}:${n.visible}`);return x(this,Vr,t.hexdigest())}}Vr=new WeakMap,Kt=new WeakMap,Ul=new WeakMap,$l=new WeakMap,Ph=new WeakSet,by=function(t){const e=t.length;if(e<2)return!0;const n=t[0];for(let o=1;o<e;o++){const a=t[o];let l;if(Array.isArray(a))l=b(this,Ph,by).call(this,a);else if(h(this,Kt).has(a))l=h(this,Kt).get(a).visible;else return Mt(`Optional content group not found: ${a}`),!0;switch(n){case"And":if(!l)return!1;break;case"Or":if(l)return!0;break;case"Not":return!l;default:return!0}}return n==="And"};class vR{constructor(t,{disableRange:e=!1,disableStream:n=!1}){De(t,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:o,initialData:a,progressiveDone:l,contentDispositionFilename:c}=t;if(this._queuedChunks=[],this._progressiveDone=l,this._contentDispositionFilename=c,(a==null?void 0:a.length)>0){const d=a instanceof Uint8Array&&a.byteLength===a.buffer.byteLength?a.buffer:new Uint8Array(a).buffer;this._queuedChunks.push(d)}this._pdfDataRangeTransport=t,this._isStreamingSupported=!n,this._isRangeSupported=!e,this._contentLength=o,this._fullRequestReader=null,this._rangeReaders=[],t.addRangeListener((d,p)=>{this._onReceiveData({begin:d,chunk:p})}),t.addProgressListener((d,p)=>{this._onProgress({loaded:d,total:p})}),t.addProgressiveReadListener(d=>{this._onReceiveData({chunk:d})}),t.addProgressiveDoneListener(()=>{this._onProgressiveDone()}),t.transportReady()}_onReceiveData({begin:t,chunk:e}){const n=e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength?e.buffer:new Uint8Array(e).buffer;if(t===void 0)this._fullRequestReader?this._fullRequestReader._enqueue(n):this._queuedChunks.push(n);else{const o=this._rangeReaders.some(function(a){return a._begin!==t?!1:(a._enqueue(n),!0)});De(o,"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}_onProgress(t){var e,n,o,a;t.total===void 0?(n=(e=this._rangeReaders[0])==null?void 0:e.onProgress)==null||n.call(e,{loaded:t.loaded}):(a=(o=this._fullRequestReader)==null?void 0:o.onProgress)==null||a.call(o,{loaded:t.loaded,total:t.total})}_onProgressiveDone(){var t;(t=this._fullRequestReader)==null||t.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(t){const e=this._rangeReaders.indexOf(t);e>=0&&this._rangeReaders.splice(e,1)}getFullReader(){De(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const t=this._queuedChunks;return this._queuedChunks=null,new yR(this,t,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new wR(this,t,e);return this._pdfDataRangeTransport.requestDataRange(t,e),this._rangeReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeReaders.slice(0))n.cancel(t);this._pdfDataRangeTransport.abort()}}class yR{constructor(t,e,n=!1,o=null){this._stream=t,this._done=n||!1,this._filename=O0(o)?o:null,this._queuedChunks=e||[],this._loaded=0;for(const a of this._queuedChunks)this._loaded+=a.byteLength;this._requests=[],this._headersReady=Promise.resolve(),t._fullRequestReader=this,this.onProgress=null}_enqueue(t){this._done||(this._requests.length>0?this._requests.shift().resolve({value:t,done:!1}):this._queuedChunks.push(t),this._loaded+=t.byteLength)}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0)return{value:this._queuedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class wR{constructor(t,e,n){this._stream=t,this._begin=e,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(t){if(!this._done){if(this._requests.length===0)this._queuedChunk=t;else{this._requests.shift().resolve({value:t,done:!1});for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function AR(r){let t=!0,e=n("filename\\*","i").exec(r);if(e){e=e[1];let m=c(e);return m=unescape(m),m=d(m),m=p(m),a(m)}if(e=l(r),e){const m=p(e);return a(m)}if(e=n("filename","i").exec(r),e){e=e[1];let m=c(e);return m=p(m),a(m)}function n(m,v){return new RegExp("(?:^|;)\\s*"+m+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',v)}function o(m,v){if(m){if(!/^[\x00-\xFF]+$/.test(v))return v;try{const y=new TextDecoder(m,{fatal:!0}),A=wm(v);v=y.decode(A),t=!1}catch{}}return v}function a(m){return t&&/[\x80-\xff]/.test(m)&&(m=o("utf-8",m),t&&(m=o("iso-8859-1",m))),m}function l(m){const v=[];let y;const A=n("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;(y=A.exec(m))!==null;){let[,_,P,C]=y;if(_=parseInt(_,10),_ in v){if(_===0)break;continue}v[_]=[P,C]}const S=[];for(let _=0;_<v.length&&_ in v;++_){let[P,C]=v[_];C=c(C),P&&(C=unescape(C),_===0&&(C=d(C))),S.push(C)}return S.join("")}function c(m){if(m.startsWith('"')){const v=m.slice(1).split('\\"');for(let y=0;y<v.length;++y){const A=v[y].indexOf('"');A!==-1&&(v[y]=v[y].slice(0,A),v.length=y+1),v[y]=v[y].replaceAll(/\\(.)/g,"$1")}m=v.join('"')}return m}function d(m){const v=m.indexOf("'");if(v===-1)return m;const y=m.slice(0,v),S=m.slice(v+1).replace(/^[^']*'/,"");return o(y,S)}function p(m){return!m.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(m)?m:m.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,function(v,y,A,S){if(A==="q"||A==="Q")return S=S.replaceAll("_"," "),S=S.replaceAll(/=([0-9a-fA-F]{2})/g,function(_,P){return String.fromCharCode(parseInt(P,16))}),o(y,S);try{S=atob(S)}catch{}return o(y,S)})}return""}function V0({getResponseHeader:r,isHttp:t,rangeChunkSize:e,disableRange:n}){const o={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(r("Content-Length"),10);return!Number.isInteger(a)||(o.suggestedLength=a,a<=2*e)||n||!t||r("Accept-Ranges")!=="bytes"||(r("Content-Encoding")||"identity")!=="identity"||(o.allowRangeRequests=!0),o}function B0(r){const t=r("Content-Disposition");if(t){let e=AR(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch{}if(O0(e))return e}return null}function xm(r,t){return r===404||r===0&&t.startsWith("file:")?new Va('Missing PDF "'+t+'".'):new ym(`Unexpected server response (${r}) while retrieving PDF "${t}".`,r)}function J_(r){return r===200||r===206}function tx(r,t,e){return{method:"GET",headers:r,signal:e.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function ex(r){const t=new Headers;for(const e in r){const n=r[e];n!==void 0&&t.append(e,n)}return t}function nx(r){return r instanceof Uint8Array?r.buffer:r instanceof ArrayBuffer?r:(Mt(`getArrayBuffer - unexpected data format: ${r}`),new Uint8Array(r).buffer)}class N1{constructor(t){this.source=t,this.isHttp=/^https?:/i.test(t.url),this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return De(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new SR(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=new ER(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class SR{constructor(t){this._stream=t,this._reader=null,this._loaded=0,this._filename=null;const e=t.source;this._withCredentials=e.withCredentials||!1,this._contentLength=e.length,this._headersCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._headers=ex(this._stream.httpHeaders);const n=e.url;fetch(n,tx(this._headers,this._withCredentials,this._abortController)).then(o=>{if(!J_(o.status))throw xm(o.status,n);this._reader=o.body.getReader(),this._headersCapability.resolve();const a=d=>o.headers.get(d),{allowRangeRequests:l,suggestedLength:c}=V0({getResponseHeader:a,isHttp:this._stream.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=l,this._contentLength=c||this._contentLength,this._filename=B0(a),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new Ba("Streaming is disabled."))}).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._headersCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:nx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}class ER{constructor(t,e,n){this._stream=t,this._reader=null,this._loaded=0;const o=t.source;this._withCredentials=o.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!o.disableStream,this._abortController=new AbortController,this._headers=ex(this._stream.httpHeaders),this._headers.append("Range",`bytes=${e}-${n-1}`);const a=o.url;fetch(a,tx(this._headers,this._withCredentials,this._abortController)).then(l=>{if(!J_(l.status))throw xm(l.status,a);this._readCapability.resolve(),this._reader=l.body.getReader()}).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;await this._readCapability.promise;const{value:t,done:e}=await this._reader.read();return e?{value:t,done:e}:(this._loaded+=t.byteLength,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:nx(t),done:!1})}cancel(t){var e;(e=this._reader)==null||e.cancel(t),this._abortController.abort()}}const Mv=200,Dv=206;function _R(r){const t=r.response;return typeof t!="string"?t:wm(t).buffer}class xR{constructor(t,e={}){this.url=t,this.isHttp=/^https?:/i.test(t),this.httpHeaders=this.isHttp&&e.httpHeaders||Object.create(null),this.withCredentials=e.withCredentials||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(t,e,n){const o={begin:t,end:e};for(const a in n)o[a]=n[a];return this.request(o)}requestFull(t){return this.request(t)}request(t){const e=new XMLHttpRequest,n=this.currXhrId++,o=this.pendingRequests[n]={xhr:e};e.open("GET",this.url),e.withCredentials=this.withCredentials;for(const a in this.httpHeaders){const l=this.httpHeaders[a];l!==void 0&&e.setRequestHeader(a,l)}return this.isHttp&&"begin"in t&&"end"in t?(e.setRequestHeader("Range",`bytes=${t.begin}-${t.end-1}`),o.expectedStatus=Dv):o.expectedStatus=Mv,e.responseType="arraybuffer",t.onError&&(e.onerror=function(a){t.onError(e.status)}),e.onreadystatechange=this.onStateChange.bind(this,n),e.onprogress=this.onProgress.bind(this,n),o.onHeadersReceived=t.onHeadersReceived,o.onDone=t.onDone,o.onError=t.onError,o.onProgress=t.onProgress,e.send(null),n}onProgress(t,e){var o;const n=this.pendingRequests[t];n&&((o=n.onProgress)==null||o.call(n,e))}onStateChange(t,e){var d,p,m;const n=this.pendingRequests[t];if(!n)return;const o=n.xhr;if(o.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),o.readyState!==4||!(t in this.pendingRequests))return;if(delete this.pendingRequests[t],o.status===0&&this.isHttp){(d=n.onError)==null||d.call(n,o.status);return}const a=o.status||Mv;if(!(a===Mv&&n.expectedStatus===Dv)&&a!==n.expectedStatus){(p=n.onError)==null||p.call(n,o.status);return}const c=_R(o);if(a===Dv){const v=o.getResponseHeader("Content-Range"),y=/bytes (\d+)-(\d+)\/(\d+)/.exec(v);n.onDone({begin:parseInt(y[1],10),chunk:c})}else c?n.onDone({begin:0,chunk:c}):(m=n.onError)==null||m.call(n,o.status)}getRequestXhr(t){return this.pendingRequests[t].xhr}isPendingRequest(t){return t in this.pendingRequests}abortRequest(t){const e=this.pendingRequests[t].xhr;delete this.pendingRequests[t],e.abort()}}class bR{constructor(t){this._source=t,this._manager=new xR(t.url,{httpHeaders:t.httpHeaders,withCredentials:t.withCredentials}),this._rangeChunkSize=t.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(t){const e=this._rangeRequestReaders.indexOf(t);e>=0&&this._rangeRequestReaders.splice(e,1)}getFullReader(){return De(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new CR(this._manager,this._source),this._fullRequestReader}getRangeReader(t,e){const n=new TR(this._manager,t,e);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class CR{constructor(t,e){this._manager=t;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._fullRequestId=t.requestFull(n),this._headersReceivedCapability=Promise.withResolvers(),this._disableRange=e.disableRange||!1,this._contentLength=e.length,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const t=this._fullRequestId,e=this._manager.getRequestXhr(t),n=l=>e.getResponseHeader(l),{allowRangeRequests:o,suggestedLength:a}=V0({getResponseHeader:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});o&&(this._isRangeSupported=!0),this._contentLength=a||this._contentLength,this._filename=B0(n),this._isRangeSupported&&this._manager.abortRequest(t),this._headersReceivedCapability.resolve()}_onDone(t){if(t&&(this._requests.length>0?this._requests.shift().resolve({value:t.chunk,done:!1}):this._cachedChunks.push(t.chunk)),this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(t){this._storedError=xm(t,this._url),this._headersReceivedCapability.reject(this._storedError);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(t){var e;(e=this.onProgress)==null||e.call(this,{loaded:t.loaded,total:t.lengthComputable?t.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersReceivedCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0)return{value:this._cachedChunks.shift(),done:!1};if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0,this._headersReceivedCapability.reject(t);for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class TR{constructor(t,e,n){this._manager=t;const o={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._requestId=t.requestRange(e,n,o),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var t;(t=this.onClosed)==null||t.call(this,this)}_onDone(t){const e=t.chunk;this._requests.length>0?this._requests.shift().resolve({value:e,done:!1}):this._queuedChunk=e,this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(t){this._storedError=xm(t,this._url);for(const e of this._requests)e.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(t){var e;this.isStreamingSupported||(e=this.onProgress)==null||e.call(this,{loaded:t.loaded})}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(this._queuedChunk!==null){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const t=Promise.withResolvers();return this._requests.push(t),t.promise}cancel(t){this._done=!0;for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const ix=/^file:\/\/\/[a-zA-Z]:\//;function PR(r){const t=cs.get("url"),e=t.parse(r);return e.protocol==="file:"||e.host?e:/^[a-z]:[/\\]/i.test(r)?t.parse(`file:///${r}`):(e.host||(e.protocol="file:"),e)}class kR{constructor(t){this.source=t,this.url=PR(t.url),this.isHttp=this.url.protocol==="http:"||this.url.protocol==="https:",this.isFsUrl=this.url.protocol==="file:",this.httpHeaders=this.isHttp&&t.httpHeaders||{},this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var t;return((t=this._fullRequestReader)==null?void 0:t._loaded)??0}getFullReader(){return De(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new MR(this):new RR(this),this._fullRequestReader}getRangeReader(t,e){if(e<=this._progressiveDataLength)return null;const n=this.isFsUrl?new DR(this,t,e):new LR(this,t,e);return this._rangeRequestReaders.push(n),n}cancelAllRequests(t){var e;(e=this._fullRequestReader)==null||e.cancel(t);for(const n of this._rangeRequestReaders.slice(0))n.cancel(t)}}class sx{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null;const e=t.source;this._contentLength=e.length,this._loaded=0,this._filename=null,this._disableRange=e.disableRange||!1,this._rangeChunkSize=e.rangeChunkSize,!this._rangeChunkSize&&!this._disableRange&&(this._disableRange=!0),this._isStreamingSupported=!e.disableStream,this._isRangeSupported=!e.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded,total:this._contentLength}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new Ba("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class rx{constructor(t){this._url=t.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const e=t.source;this._isStreamingSupported=!e.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var n;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();return t===null?(this._readCapability=Promise.withResolvers(),this.read()):(this._loaded+=t.length,(n=this.onProgress)==null||n.call(this,{loaded:this._loaded}),{value:new Uint8Array(t).buffer,done:!1})}cancel(t){if(!this._readableStream){this._error(t);return}this._readableStream.destroy(t)}_error(t){this._storedError=t,this._readCapability.resolve()}_setReadableStream(t){this._readableStream=t,t.on("readable",()=>{this._readCapability.resolve()}),t.on("end",()=>{t.destroy(),this._done=!0,this._readCapability.resolve()}),t.on("error",e=>{this._error(e)}),this._storedError&&this._readableStream.destroy(this._storedError)}}function Np(r,t){return{protocol:r.protocol,auth:r.auth,host:r.hostname,port:r.port,path:r.path,method:"GET",headers:t}}class RR extends sx{constructor(t){super(t);const e=n=>{if(n.statusCode===404){const c=new Va(`Missing PDF "${this._url}".`);this._storedError=c,this._headersCapability.reject(c);return}this._headersCapability.resolve(),this._setReadableStream(n);const o=c=>this._readableStream.headers[c.toLowerCase()],{allowRangeRequests:a,suggestedLength:l}=V0({getResponseHeader:o,isHttp:t.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=a,this._contentLength=l||this._contentLength,this._filename=B0(o)};if(this._request=null,this._url.protocol==="http:"){const n=cs.get("http");this._request=n.request(Np(this._url,t.httpHeaders),e)}else{const n=cs.get("https");this._request=n.request(Np(this._url,t.httpHeaders),e)}this._request.on("error",n=>{this._storedError=n,this._headersCapability.reject(n)}),this._request.end()}}class LR extends rx{constructor(t,e,n){super(t),this._httpHeaders={};for(const a in t.httpHeaders){const l=t.httpHeaders[a];l!==void 0&&(this._httpHeaders[a]=l)}this._httpHeaders.Range=`bytes=${e}-${n-1}`;const o=a=>{if(a.statusCode===404){const l=new Va(`Missing PDF "${this._url}".`);this._storedError=l;return}this._setReadableStream(a)};if(this._request=null,this._url.protocol==="http:"){const a=cs.get("http");this._request=a.request(Np(this._url,this._httpHeaders),o)}else{const a=cs.get("https");this._request=a.request(Np(this._url,this._httpHeaders),o)}this._request.on("error",a=>{this._storedError=a}),this._request.end()}}class MR extends sx{constructor(t){super(t);let e=decodeURIComponent(this._url.path);ix.test(this._url.href)&&(e=e.replace(/^\//,""));const n=cs.get("fs");n.promises.lstat(e).then(o=>{this._contentLength=o.size,this._setReadableStream(n.createReadStream(e)),this._headersCapability.resolve()},o=>{o.code==="ENOENT"&&(o=new Va(`Missing PDF "${e}".`)),this._storedError=o,this._headersCapability.reject(o)})}}class DR extends rx{constructor(t,e,n){super(t);let o=decodeURIComponent(this._url.path);ix.test(this._url.href)&&(o=o.replace(/^\//,""));const a=cs.get("fs");this._setReadableStream(a.createReadStream(o,{start:e,end:n-1}))}}const IR=1e5,bn=30,FR=.8;var u_,Br,Tn,kh,Rh,ta,Os,Lh,Mh,ea,Wl,Gl,zr,Xl,Dh,Kl,na,Ih,Fh,Me,ia,sa,Hr,ql,or,ox,ax,Cy,us,cp,lx,ux;let jp=(Me=class{constructor({textContentSource:t,container:e,viewport:n}){T(this,or);T(this,Br,Promise.withResolvers());T(this,Tn,null);T(this,kh,!1);T(this,Rh,!!((u_=globalThis.FontInspector)!=null&&u_.enabled));T(this,ta,null);T(this,Os,null);T(this,Lh,0);T(this,Mh,0);T(this,ea,null);T(this,Wl,null);T(this,Gl,0);T(this,zr,0);T(this,Xl,Object.create(null));T(this,Dh,[]);T(this,Kl,null);T(this,na,[]);T(this,Ih,new WeakMap);T(this,Fh,null);var d;if(t instanceof ReadableStream)x(this,Kl,t);else if(typeof t=="object")x(this,Kl,new ReadableStream({start(p){p.enqueue(t),p.close()}}));else throw new Error('No "textContentSource" parameter specified.');x(this,Tn,x(this,Wl,e)),x(this,zr,n.scale*(globalThis.devicePixelRatio||1)),x(this,Gl,n.rotation),x(this,Os,{prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:null});const{pageWidth:o,pageHeight:a,pageX:l,pageY:c}=n.rawDims;x(this,Fh,[1,0,0,-1,-l,c+a]),x(this,Mh,o),x(this,Lh,a),b(d=Me,us,lx).call(d),Da(e,n),h(this,Br).promise.catch(()=>{}).then(()=>{h(Me,ql).delete(this),x(this,Os,null),x(this,Xl,null)})}render(){const t=()=>{h(this,ea).read().then(({value:e,done:n})=>{if(n){h(this,Br).resolve();return}h(this,ta)??x(this,ta,e.lang),Object.assign(h(this,Xl),e.styles),b(this,or,ox).call(this,e.items),t()},h(this,Br).reject)};return x(this,ea,h(this,Kl).getReader()),h(Me,ql).add(this),t(),h(this,Br).promise}update({viewport:t,onBefore:e=null}){var a;const n=t.scale*(globalThis.devicePixelRatio||1),o=t.rotation;if(o!==h(this,Gl)&&(e==null||e(),x(this,Gl,o),Da(h(this,Wl),{rotation:o})),n!==h(this,zr)){e==null||e(),x(this,zr,n);const l={prevFontSize:null,prevFontFamily:null,div:null,properties:null,ctx:b(a=Me,us,cp).call(a,h(this,ta))};for(const c of h(this,na))l.properties=h(this,Ih).get(c),l.div=c,b(this,or,Cy).call(this,l)}}cancel(){var e;const t=new Ba("TextLayer task cancelled.");(e=h(this,ea))==null||e.cancel(t).catch(()=>{}),x(this,ea,null),h(this,Br).reject(t)}get textDivs(){return h(this,na)}get textContentItemsStr(){return h(this,Dh)}static cleanup(){if(!(h(this,ql).size>0)){h(this,ia).clear();for(const{canvas:t}of h(this,sa).values())t.remove();h(this,sa).clear()}}},Br=new WeakMap,Tn=new WeakMap,kh=new WeakMap,Rh=new WeakMap,ta=new WeakMap,Os=new WeakMap,Lh=new WeakMap,Mh=new WeakMap,ea=new WeakMap,Wl=new WeakMap,Gl=new WeakMap,zr=new WeakMap,Xl=new WeakMap,Dh=new WeakMap,Kl=new WeakMap,na=new WeakMap,Ih=new WeakMap,Fh=new WeakMap,ia=new WeakMap,sa=new WeakMap,Hr=new WeakMap,ql=new WeakMap,or=new WeakSet,ox=function(t){var o,a;if(h(this,kh))return;(a=h(this,Os)).ctx??(a.ctx=b(o=Me,us,cp).call(o,h(this,ta)));const e=h(this,na),n=h(this,Dh);for(const l of t){if(e.length>IR){Mt("Ignoring additional textDivs for performance reasons."),x(this,kh,!0);return}if(l.str===void 0){if(l.type==="beginMarkedContentProps"||l.type==="beginMarkedContent"){const c=h(this,Tn);x(this,Tn,document.createElement("span")),h(this,Tn).classList.add("markedContent"),l.id!==null&&h(this,Tn).setAttribute("id",`${l.id}`),c.append(h(this,Tn))}else l.type==="endMarkedContent"&&x(this,Tn,h(this,Tn).parentNode);continue}n.push(l.str),b(this,or,ax).call(this,l)}},ax=function(t){var _;const e=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:t.str!=="",hasEOL:t.hasEOL,fontSize:0};h(this,na).push(e);const o=ft.transform(h(this,Fh),t.transform);let a=Math.atan2(o[1],o[0]);const l=h(this,Xl)[t.fontName];l.vertical&&(a+=Math.PI/2);const c=h(this,Rh)&&l.fontSubstitution||l.fontFamily,d=Math.hypot(o[2],o[3]),p=d*b(_=Me,us,ux).call(_,c,h(this,ta));let m,v;a===0?(m=o[4],v=o[5]-p):(m=o[4]+p*Math.sin(a),v=o[5]-p*Math.cos(a));const y="calc(var(--scale-factor)*",A=e.style;h(this,Tn)===h(this,Wl)?(A.left=`${(100*m/h(this,Mh)).toFixed(2)}%`,A.top=`${(100*v/h(this,Lh)).toFixed(2)}%`):(A.left=`${y}${m.toFixed(2)}px)`,A.top=`${y}${v.toFixed(2)}px)`),A.fontSize=`${y}${(h(Me,Hr)*d).toFixed(2)}px)`,A.fontFamily=c,n.fontSize=d,e.setAttribute("role","presentation"),e.textContent=t.str,e.dir=t.dir,h(this,Rh)&&(e.dataset.fontName=l.fontSubstitutionLoadedName||t.fontName),a!==0&&(n.angle=a*(180/Math.PI));let S=!1;if(t.str.length>1)S=!0;else if(t.str!==" "&&t.transform[0]!==t.transform[3]){const P=Math.abs(t.transform[0]),C=Math.abs(t.transform[3]);P!==C&&Math.max(P,C)/Math.min(P,C)>1.5&&(S=!0)}if(S&&(n.canvasWidth=l.vertical?t.height:t.width),h(this,Ih).set(e,n),h(this,Os).div=e,h(this,Os).properties=n,b(this,or,Cy).call(this,h(this,Os)),n.hasText&&h(this,Tn).append(e),n.hasEOL){const P=document.createElement("br");P.setAttribute("role","presentation"),h(this,Tn).append(P)}},Cy=function(t){const{div:e,properties:n,ctx:o,prevFontSize:a,prevFontFamily:l}=t,{style:c}=e;let d="";if(h(Me,Hr)>1&&(d=`scale(${1/h(Me,Hr)})`),n.canvasWidth!==0&&n.hasText){const{fontFamily:p}=c,{canvasWidth:m,fontSize:v}=n;(a!==v||l!==p)&&(o.font=`${v*h(this,zr)}px ${p}`,t.prevFontSize=v,t.prevFontFamily=p);const{width:y}=o.measureText(e.textContent);y>0&&(d=`scaleX(${m*h(this,zr)/y}) ${d}`)}n.angle!==0&&(d=`rotate(${n.angle}deg) ${d}`),d.length>0&&(c.transform=d)},us=new WeakSet,cp=function(t=null){let e=h(this,sa).get(t||(t=""));if(!e){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=t,document.body.append(n),e=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),h(this,sa).set(t,e)}return e},lx=function(){if(h(this,Hr)!==null)return;const t=document.createElement("div");t.style.opacity=0,t.style.lineHeight=1,t.style.fontSize="1px",t.textContent="X",document.body.append(t),x(this,Hr,t.getBoundingClientRect().height),t.remove()},ux=function(t,e){const n=h(this,ia).get(t);if(n)return n;const o=b(this,us,cp).call(this,e),a=o.font;o.canvas.width=o.canvas.height=bn,o.font=`${bn}px ${t}`;const l=o.measureText("");let c=l.fontBoundingBoxAscent,d=Math.abs(l.fontBoundingBoxDescent);if(c){const v=c/(c+d);return h(this,ia).set(t,v),o.canvas.width=o.canvas.height=0,o.font=a,v}o.strokeStyle="red",o.clearRect(0,0,bn,bn),o.strokeText("g",0,0);let p=o.getImageData(0,0,bn,bn).data;d=0;for(let v=p.length-1-3;v>=0;v-=4)if(p[v]>0){d=Math.ceil(v/4/bn);break}o.clearRect(0,0,bn,bn),o.strokeText("A",0,bn),p=o.getImageData(0,0,bn,bn).data,c=0;for(let v=0,y=p.length;v<y;v+=4)if(p[v]>0){c=bn-Math.floor(v/4/bn);break}o.canvas.width=o.canvas.height=0,o.font=a;const m=c?c/(c+d):FR;return h(this,ia).set(t,m),m},T(Me,us),T(Me,ia,new Map),T(Me,sa,new Map),T(Me,Hr,null),T(Me,ql,new Set),Me);function OR(){S_("`renderTextLayer`, please use `TextLayer` instead.");const{textContentSource:r,container:t,viewport:e,...n}=arguments[0],o=Object.keys(n);o.length>0&&Mt("Ignoring `renderTextLayer` parameters: "+o.join(", "));const a=new jp({textContentSource:r,container:t,viewport:e}),{textDivs:l,textContentItemsStr:c}=a;return{promise:a.render(),textDivs:l,textContentItemsStr:c}}function NR(){S_("`updateTextLayer`, please use `TextLayer` instead.")}class Uc{static textContent(t){const e=[],n={items:e,styles:Object.create(null)};function o(a){var d;if(!a)return;let l=null;const c=a.name;if(c==="#text")l=a.value;else if(Uc.shouldBuildText(c))(d=a==null?void 0:a.attributes)!=null&&d.textContent?l=a.attributes.textContent:a.value&&(l=a.value);else return;if(l!==null&&e.push({str:l}),!!a.children)for(const p of a.children)o(p)}return o(t),n}static shouldBuildText(t){return!(t==="textarea"||t==="input"||t==="option"||t==="select")}}const jR=65536,VR=100,BR=5e3,zR=ln?Zk:Vk,HR=ln?Jk:w_,UR=ln?Qk:jk,$R=ln?tR:A_;function WR(r={}){typeof r=="string"||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const t=new Ty,{docId:e}=t,n=r.url?GR(r.url):null,o=r.data?XR(r.data):null,a=r.httpHeaders||null,l=r.withCredentials===!0,c=r.password??null,d=r.range instanceof cx?r.range:null,p=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:jR;let m=r.worker instanceof Cl?r.worker:null;const v=r.verbosity,y=typeof r.docBaseUrl=="string"&&!F0(r.docBaseUrl)?r.docBaseUrl:null,A=typeof r.cMapUrl=="string"?r.cMapUrl:null,S=r.cMapPacked!==!1,_=r.CMapReaderFactory||HR,P=typeof r.standardFontDataUrl=="string"?r.standardFontDataUrl:null,C=r.StandardFontDataFactory||$R,R=r.stopAtErrors!==!0,M=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,F=r.isEvalSupported!==!1,O=typeof r.isOffscreenCanvasSupported=="boolean"?r.isOffscreenCanvasSupported:!ln,V=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,W=typeof r.disableFontFace=="boolean"?r.disableFontFace:ln,H=r.fontExtraProperties===!0,Y=r.enableXfa===!0,et=r.ownerDocument||globalThis.document,tt=r.disableRange===!0,_t=r.disableStream===!0,pt=r.disableAutoFetch===!0,ht=r.pdfBug===!0,xt=r.enableHWA===!0,St=d?d.length:r.length??NaN,G=typeof r.useSystemFonts=="boolean"?r.useSystemFonts:!ln&&!W,z=typeof r.useWorkerFetch=="boolean"?r.useWorkerFetch:_===w_&&C===A_&&A&&P&&_c(A,document.baseURI)&&_c(P,document.baseURI),rt=r.canvasFactory||new zR({ownerDocument:et,enableHWA:xt}),J=r.filterFactory||new UR({docId:e,ownerDocument:et}),I=null;Tk(v);const U={canvasFactory:rt,filterFactory:J};if(z||(U.cMapReaderFactory=new _({baseUrl:A,isCompressed:S}),U.standardFontDataFactory=new C({baseUrl:P})),!m){const Tt={verbosity:v,port:Js.workerPort};m=Tt.port?Cl.fromPort(Tt):new Cl(Tt),t._worker=m}const lt={docId:e,apiVersion:"4.4.168",data:o,password:c,disableAutoFetch:pt,rangeChunkSize:p,length:St,docBaseUrl:y,enableXfa:Y,evaluatorOptions:{maxImageSize:M,disableFontFace:W,ignoreErrors:R,isEvalSupported:F,isOffscreenCanvasSupported:O,canvasMaxAreaInBytes:V,fontExtraProperties:H,useSystemFonts:G,cMapUrl:z?A:null,standardFontDataUrl:z?P:null}},wt={disableFontFace:W,fontExtraProperties:H,ownerDocument:et,pdfBug:ht,styleElement:I,loadingParams:{disableAutoFetch:pt,enableXfa:Y}};return m.promise.then(function(){if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const Tt=m.messageHandler.sendWithPromise("GetDocRequest",lt,o?[o.buffer]:null);let Et;if(d)Et=new vR(d,{disableRange:tt,disableStream:_t});else if(!o){if(!n)throw new Error("getDocument - no `url` parameter provided.");Et=(kt=>ln?function(){return typeof fetch<"u"&&typeof Response<"u"&&"body"in Response.prototype}()&&_c(kt.url)?new N1(kt):new kR(kt):_c(kt.url)?new N1(kt):new bR(kt))({url:n,length:St,httpHeaders:a,withCredentials:l,rangeChunkSize:p,disableRange:tt,disableStream:_t})}return Tt.then(gt=>{if(t.destroyed)throw new Error("Loading aborted");if(m.destroyed)throw new Error("Worker was destroyed");const kt=new Cc(e,gt,m.port),Ot=new QR(kt,t,Et,wt,U);t._transport=Ot,kt.send("Ready",null)})}).catch(t._capability.reject),t}function GR(r){if(r instanceof URL)return r.href;try{return new URL(r,window.location).href}catch{if(ln&&typeof r=="string")return r}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}function XR(r){if(ln&&typeof Buffer<"u"&&r instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(r instanceof Uint8Array&&r.byteLength===r.buffer.byteLength)return r;if(typeof r=="string")return wm(r);if(r instanceof ArrayBuffer||ArrayBuffer.isView(r)||typeof r=="object"&&!isNaN(r==null?void 0:r.length))return new Uint8Array(r);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}function j1(r){return typeof r=="object"&&Number.isInteger(r==null?void 0:r.num)&&r.num>=0&&Number.isInteger(r==null?void 0:r.gen)&&r.gen>=0}var am;const lm=class lm{constructor(){this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId=`d${On(lm,am)._++}`,this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){var t,e,n;this.destroyed=!0;try{(t=this._worker)!=null&&t.port&&(this._worker._pendingDestroy=!0),await((e=this._transport)==null?void 0:e.destroy())}catch(o){throw(n=this._worker)!=null&&n.port&&delete this._worker._pendingDestroy,o}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}};am=new WeakMap,T(lm,am,0);let Ty=lm,cx=class{constructor(t,e,n=!1,o=null){this.length=t,this.initialData=e,this.progressiveDone=n,this.contentDispositionFilename=o,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(t){this._rangeListeners.push(t)}addProgressListener(t){this._progressListeners.push(t)}addProgressiveReadListener(t){this._progressiveReadListeners.push(t)}addProgressiveDoneListener(t){this._progressiveDoneListeners.push(t)}onDataRange(t,e){for(const n of this._rangeListeners)n(t,e)}onDataProgress(t,e){this._readyCapability.promise.then(()=>{for(const n of this._progressListeners)n(t,e)})}onDataProgressiveRead(t){this._readyCapability.promise.then(()=>{for(const e of this._progressiveReadListeners)e(t)})}onDataProgressiveDone(){this._readyCapability.promise.then(()=>{for(const t of this._progressiveDoneListeners)t()})}transportReady(){this._readyCapability.resolve()}requestDataRange(t,e){Yt("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}};class KR{constructor(t,e){this._pdfInfo=t,this._transport=e}get annotationStorage(){return this._transport.annotationStorage}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return Bt(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(t){return this._transport.getPage(t)}getPageIndex(t){return this._transport.getPageIndex(t)}getDestinations(){return this._transport.getDestinations()}getDestination(t){return this._transport.getDestination(t)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getOptionalContentConfig(e)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(t=!1){return this._transport.startCleanup(t||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(t){return this._transport.cachedPageNumber(t)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var Ur,Ns,ui,gl,hp;class qR{constructor(t,e,n,o=!1){T(this,ui);T(this,Ur,null);T(this,Ns,!1);this._pageIndex=t,this._pageInfo=e,this._transport=n,this._stats=o?new x1:null,this._pdfBug=o,this.commonObjs=n.commonObjs,this.objs=new hx,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport({scale:t,rotation:e=this.rotate,offsetX:n=0,offsetY:o=0,dontFlip:a=!1}={}){return new bd({viewBox:this.view,scale:t,rotation:e,offsetX:n,offsetY:o,dontFlip:a})}getAnnotations({intent:t="display"}={}){const{renderingIntent:e}=this._transport.getRenderingIntent(t);return this._transport.getAnnotations(this._pageIndex,e)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return Bt(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var t;return((t=this._transport._htmlForXfa)==null?void 0:t.children[this._pageIndex])||null}render({canvasContext:t,viewport:e,intent:n="display",annotationMode:o=Dr.ENABLE,transform:a=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:d=null,pageColors:p=null,printAnnotationStorage:m=null}){var M,F;(M=this._stats)==null||M.time("Overall");const v=this._transport.getRenderingIntent(n,o,m),{renderingIntent:y,cacheKey:A}=v;x(this,Ns,!1),b(this,ui,hp).call(this),c||(c=this._transport.getOptionalContentConfig(y));let S=this._intentStates.get(A);S||(S=Object.create(null),this._intentStates.set(A,S)),S.streamReaderCancelTimeout&&(clearTimeout(S.streamReaderCancelTimeout),S.streamReaderCancelTimeout=null);const _=!!(y&li.PRINT);S.displayReadyCapability||(S.displayReadyCapability=Promise.withResolvers(),S.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(F=this._stats)==null||F.time("Page Request"),this._pumpOperatorList(v));const P=O=>{var V;S.renderTasks.delete(C),(this._maybeCleanupAfterRender||_)&&x(this,Ns,!0),b(this,ui,gl).call(this,!_),O?(C.capability.reject(O),this._abortOperatorList({intentState:S,reason:O instanceof Error?O:new Error(O)})):C.capability.resolve(),this._stats&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),(V=globalThis.Stats)!=null&&V.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},C=new ky({callback:P,params:{canvasContext:t,viewport:e,transform:a,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:d,operatorList:S.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!_,pdfBug:this._pdfBug,pageColors:p});(S.renderTasks||(S.renderTasks=new Set)).add(C);const R=C.task;return Promise.all([S.displayReadyCapability.promise,c]).then(([O,V])=>{var W;if(this.destroyed){P();return}if((W=this._stats)==null||W.time("Rendering"),!(V.renderingIntent&y))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");C.initializeGraphics({transparency:O,optionalContentConfig:V}),C.operatorListChanged()}).catch(P),R}getOperatorList({intent:t="display",annotationMode:e=Dr.ENABLE,printAnnotationStorage:n=null}={}){var d;function o(){l.operatorList.lastChunk&&(l.opListReadCapability.resolve(l.operatorList),l.renderTasks.delete(c))}const a=this._transport.getRenderingIntent(t,e,n,!0);let l=this._intentStates.get(a.cacheKey);l||(l=Object.create(null),this._intentStates.set(a.cacheKey,l));let c;return l.opListReadCapability||(c=Object.create(null),c.operatorListChanged=o,l.opListReadCapability=Promise.withResolvers(),(l.renderTasks||(l.renderTasks=new Set)).add(c),l.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},(d=this._stats)==null||d.time("Page Request"),this._pumpOperatorList(a)),l.opListReadCapability.promise}streamTextContent({includeMarkedContent:t=!1,disableNormalization:e=!1}={}){return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:t===!0,disableNormalization:e===!0},{highWaterMark:100,size(o){return o.items.length}})}getTextContent(t={}){if(this._transport._htmlForXfa)return this.getXfa().then(n=>Uc.textContent(n));const e=this.streamTextContent(t);return new Promise(function(n,o){function a(){l.read().then(function({value:d,done:p}){if(p){n(c);return}c.lang??(c.lang=d.lang),Object.assign(c.styles,d.styles),c.items.push(...d.items),a()},o)}const l=e.getReader(),c={items:[],styles:Object.create(null),lang:null};a()})}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const t=[];for(const e of this._intentStates.values())if(this._abortOperatorList({intentState:e,reason:new Error("Page was destroyed."),force:!0}),!e.opListReadCapability)for(const n of e.renderTasks)t.push(n.completed),n.cancel();return this.objs.clear(),x(this,Ns,!1),b(this,ui,hp).call(this),Promise.all(t)}cleanup(t=!1){x(this,Ns,!0);const e=b(this,ui,gl).call(this,!1);return t&&e&&this._stats&&(this._stats=new x1),e}_startRenderPage(t,e){var o,a;const n=this._intentStates.get(e);n&&((o=this._stats)==null||o.timeEnd("Page Request"),(a=n.displayReadyCapability)==null||a.resolve(t))}_renderPageChunk(t,e){for(let n=0,o=t.length;n<o;n++)e.operatorList.fnArray.push(t.fnArray[n]),e.operatorList.argsArray.push(t.argsArray[n]);e.operatorList.lastChunk=t.lastChunk,e.operatorList.separateAnnots=t.separateAnnots;for(const n of e.renderTasks)n.operatorListChanged();t.lastChunk&&b(this,ui,gl).call(this,!0)}_pumpOperatorList({renderingIntent:t,cacheKey:e,annotationStorageSerializable:n}){const{map:o,transfer:a}=n,c=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:e,annotationStorage:o},a).getReader(),d=this._intentStates.get(e);d.streamReader=c;const p=()=>{c.read().then(({value:m,done:v})=>{if(v){d.streamReader=null;return}this._transport.destroyed||(this._renderPageChunk(m,d),p())},m=>{if(d.streamReader=null,!this._transport.destroyed){if(d.operatorList){d.operatorList.lastChunk=!0;for(const v of d.renderTasks)v.operatorListChanged();b(this,ui,gl).call(this,!0)}if(d.displayReadyCapability)d.displayReadyCapability.reject(m);else if(d.opListReadCapability)d.opListReadCapability.reject(m);else throw m}})};p()}_abortOperatorList({intentState:t,reason:e,force:n=!1}){if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!n){if(t.renderTasks.size>0)return;if(e instanceof I0){let o=VR;e.extraDelay>0&&e.extraDelay<1e3&&(o+=e.extraDelay),t.streamReaderCancelTimeout=setTimeout(()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:e,force:!0})},o);return}}if(t.streamReader.cancel(new Ba(e.message)).catch(()=>{}),t.streamReader=null,!this._transport.destroyed){for(const[o,a]of this._intentStates)if(a===t){this._intentStates.delete(o);break}this.cleanup()}}}get stats(){return this._stats}}Ur=new WeakMap,Ns=new WeakMap,ui=new WeakSet,gl=function(t=!1){if(b(this,ui,hp).call(this),!h(this,Ns)||this.destroyed)return!1;if(t)return x(this,Ur,setTimeout(()=>{x(this,Ur,null),b(this,ui,gl).call(this,!1)},BR)),!1;for(const{renderTasks:e,operatorList:n}of this._intentStates.values())if(e.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),x(this,Ns,!1),!0},hp=function(){h(this,Ur)&&(clearTimeout(h(this,Ur)),x(this,Ur,null))};var ra,um;class YR{constructor(){T(this,ra,new Set);T(this,um,Promise.resolve())}postMessage(t,e){const n={data:structuredClone(t,e?{transfer:e}:null)};h(this,um).then(()=>{for(const o of h(this,ra))o.call(this,n)})}addEventListener(t,e){h(this,ra).add(e)}removeEventListener(t,e){h(this,ra).delete(e)}terminate(){h(this,ra).clear()}}ra=new WeakMap,um=new WeakMap;const Ts={isWorkerDisabled:!1,fakeWorkerId:0};ln&&(Ts.isWorkerDisabled=!0,Js.workerSrc||(Js.workerSrc="./pdf.worker.mjs")),Ts.isSameOrigin=function(r,t){let e;try{if(e=new URL(r),!e.origin||e.origin==="null")return!1}catch{return!1}const n=new URL(t,e);return e.origin===n.origin},Ts.createCDNWrapper=function(r){const t=`await import("${r}");`;return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var oa,Yl,dp,Ql,fp;const jn=class jn{constructor({name:t=null,port:e=null,verbosity:n=Pk()}={}){T(this,Yl);var o;if(this.name=t,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,e){if((o=h(jn,oa))!=null&&o.has(e))throw new Error("Cannot use more than one PDFWorker per port.");(h(jn,oa)||x(jn,oa,new WeakMap)).set(e,this),this._initializeFromPort(e);return}this._initialize()}get promise(){return ln?Promise.all([cs.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(t){this._port=t,this._messageHandler=new Cc("main","worker",t),this._messageHandler.on("ready",function(){}),b(this,Yl,dp).call(this)}_initialize(){if(Ts.isWorkerDisabled||h(jn,Ql,fp)){this._setupFakeWorker();return}let{workerSrc:t}=jn;try{Ts.isSameOrigin(window.location.href,t)||(t=Ts.createCDNWrapper(new URL(t,window.location).href));const e=new Worker(t,{type:"module"}),n=new Cc("main","worker",e),o=()=>{a.abort(),n.destroy(),e.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},a=new AbortController;e.addEventListener("error",()=>{this._webWorker||o()},{signal:a.signal}),n.on("test",c=>{if(a.abort(),this.destroyed||!c){o();return}this._messageHandler=n,this._port=e,this._webWorker=e,b(this,Yl,dp).call(this)}),n.on("ready",c=>{if(a.abort(),this.destroyed){o();return}try{l()}catch{this._setupFakeWorker()}});const l=()=>{const c=new Uint8Array;n.send("test",c,[c.buffer])};l();return}catch{vm("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){Ts.isWorkerDisabled||(Mt("Setting up fake worker."),Ts.isWorkerDisabled=!0),jn._setupFakeWorkerGlobal.then(t=>{if(this.destroyed){this._readyCapability.reject(new Error("Worker was destroyed"));return}const e=new YR;this._port=e;const n=`fake${Ts.fakeWorkerId++}`,o=new Cc(n+"_worker",n,e);t.setup(o,e),this._messageHandler=new Cc(n,n+"_worker",e),b(this,Yl,dp).call(this)}).catch(t=>{this._readyCapability.reject(new Error(`Setting up fake worker failed: "${t.message}".`))})}destroy(){var t;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),(t=h(jn,oa))==null||t.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(t){var n;if(!(t!=null&&t.port))throw new Error("PDFWorker.fromPort - invalid method signature.");const e=(n=h(this,oa))==null?void 0:n.get(t.port);if(e){if(e._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return e}return new jn(t)}static get workerSrc(){if(Js.workerSrc)return Js.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return Bt(this,"_setupFakeWorkerGlobal",(async()=>h(this,Ql,fp)?h(this,Ql,fp):(await import(this.workerSrc)).WorkerMessageHandler)())}};oa=new WeakMap,Yl=new WeakSet,dp=function(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})},Ql=new WeakSet,fp=function(){var t;try{return((t=globalThis.pdfjsWorker)==null?void 0:t.WorkerMessageHandler)||null}catch{return null}},T(jn,Ql),T(jn,oa);let Cl=jn;var js,Yi,Zl,Jl,Qi,aa,Tc;class QR{constructor(t,e,n,o,a){T(this,aa);T(this,js,new Map);T(this,Yi,new Map);T(this,Zl,new Map);T(this,Jl,new Map);T(this,Qi,null);this.messageHandler=t,this.loadingTask=e,this.commonObjs=new hx,this.fontLoader=new qk({ownerDocument:o.ownerDocument,styleElement:o.styleElement}),this.loadingParams=o.loadingParams,this._params=o,this.canvasFactory=a.canvasFactory,this.filterFactory=a.filterFactory,this.cMapReaderFactory=a.cMapReaderFactory,this.standardFontDataFactory=a.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return Bt(this,"annotationStorage",new j0)}getRenderingIntent(t,e=Dr.ENABLE,n=null,o=!1){let a=li.DISPLAY,l=wy;switch(t){case"any":a=li.ANY;break;case"display":break;case"print":a=li.PRINT;break;default:Mt(`getRenderingIntent - invalid intent: ${t}`)}switch(e){case Dr.DISABLE:a+=li.ANNOTATIONS_DISABLE;break;case Dr.ENABLE:break;case Dr.ENABLE_FORMS:a+=li.ANNOTATIONS_FORMS;break;case Dr.ENABLE_STORAGE:a+=li.ANNOTATIONS_STORAGE,l=(a&li.PRINT&&n instanceof q_?n:this.annotationStorage).serializable;break;default:Mt(`getRenderingIntent - invalid annotationMode: ${e}`)}return o&&(a+=li.OPLIST),{renderingIntent:a,cacheKey:`${a}_${l.hash}`,annotationStorageSerializable:l}}destroy(){var n;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),(n=h(this,Qi))==null||n.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const o of h(this,Yi).values())t.push(o._destroy());h(this,Yi).clear(),h(this,Zl).clear(),h(this,Jl).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const e=this.messageHandler.sendWithPromise("Terminate",null);return t.push(e),Promise.all(t).then(()=>{var o;this.commonObjs.clear(),this.fontLoader.clear(),h(this,js).clear(),this.filterFactory.destroy(),jp.cleanup(),(o=this._networkStream)==null||o.cancelAllRequests(new Ba("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()},this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:t,loadingTask:e}=this;t.on("GetReader",(n,o)=>{De(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=a=>{this._lastProgress={loaded:a.loaded,total:a.total}},o.onPull=()=>{this._fullReader.read().then(function({value:a,done:l}){if(l){o.close();return}De(a instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(a),1,[a])}).catch(a=>{o.error(a)})},o.onCancel=a=>{this._fullReader.cancel(a),o.ready.catch(l=>{if(!this.destroyed)throw l})}}),t.on("ReaderHeadersReady",n=>{const o=Promise.withResolvers(),a=this._fullReader;return a.headersReady.then(()=>{var l;(!a.isStreamingSupported||!a.isRangeSupported)&&(this._lastProgress&&((l=e.onProgress)==null||l.call(e,this._lastProgress)),a.onProgress=c=>{var d;(d=e.onProgress)==null||d.call(e,{loaded:c.loaded,total:c.total})}),o.resolve({isStreamingSupported:a.isStreamingSupported,isRangeSupported:a.isRangeSupported,contentLength:a.contentLength})},o.reject),o.promise}),t.on("GetRangeReader",(n,o)=>{De(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const a=this._networkStream.getRangeReader(n.begin,n.end);if(!a){o.close();return}o.onPull=()=>{a.read().then(function({value:l,done:c}){if(c){o.close();return}De(l instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),o.enqueue(new Uint8Array(l),1,[l])}).catch(l=>{o.error(l)})},o.onCancel=l=>{a.cancel(l),o.ready.catch(c=>{if(!this.destroyed)throw c})}}),t.on("GetDoc",({pdfInfo:n})=>{this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,e._capability.resolve(new KR(n,this))}),t.on("DocException",function(n){let o;switch(n.name){case"PasswordException":o=new Yv(n.message,n.code);break;case"InvalidPDFException":o=new m_(n.message);break;case"MissingPDFException":o=new Va(n.message);break;case"UnexpectedResponseException":o=new ym(n.message,n.status);break;case"UnknownErrorException":o=new Qv(n.message,n.details);break;default:Yt("DocException - expected a valid Error.")}e._capability.reject(o)}),t.on("PasswordRequest",n=>{if(x(this,Qi,Promise.withResolvers()),e.onPassword){const o=a=>{a instanceof Error?h(this,Qi).reject(a):h(this,Qi).resolve({password:a})};try{e.onPassword(o,n.code)}catch(a){h(this,Qi).reject(a)}}else h(this,Qi).reject(new Yv(n.message,n.code));return h(this,Qi).promise}),t.on("DataLoaded",n=>{var o;(o=e.onProgress)==null||o.call(e,{loaded:n.length,total:n.length}),this.downloadInfoCapability.resolve(n)}),t.on("StartRenderPage",n=>{if(this.destroyed)return;h(this,Yi).get(n.pageIndex)._startRenderPage(n.transparency,n.cacheKey)}),t.on("commonobj",([n,o,a])=>{var l;if(this.destroyed||this.commonObjs.has(n))return null;switch(o){case"Font":const{disableFontFace:c,fontExtraProperties:d,pdfBug:p}=this._params;if("error"in a){const A=a.error;Mt(`Error during font loading: ${A}`),this.commonObjs.resolve(n,A);break}const m=p&&((l=globalThis.FontInspector)!=null&&l.enabled)?(A,S)=>globalThis.FontInspector.fontAdded(A,S):null,v=new Yk(a,{disableFontFace:c,inspectFont:m});this.fontLoader.bind(v).catch(()=>t.sendWithPromise("FontFallback",{id:n})).finally(()=>{!d&&v.data&&(v.data=null),this.commonObjs.resolve(n,v)});break;case"CopyLocalImage":const{imageRef:y}=a;De(y,"The imageRef must be defined.");for(const A of h(this,Yi).values())for(const[,S]of A.objs)if((S==null?void 0:S.ref)===y)return S.dataLen?(this.commonObjs.resolve(n,structuredClone(S)),S.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(n,a);break;default:throw new Error(`Got unknown common object type ${o}`)}return null}),t.on("obj",([n,o,a,l])=>{var d;if(this.destroyed)return;const c=h(this,Yi).get(o);if(!c.objs.has(n)){if(c._intentStates.size===0){(d=l==null?void 0:l.bitmap)==null||d.close();return}switch(a){case"Image":c.objs.resolve(n,l),(l==null?void 0:l.dataLen)>_k&&(c._maybeCleanupAfterRender=!0);break;case"Pattern":c.objs.resolve(n,l);break;default:throw new Error(`Got unknown object type ${a}`)}}}),t.on("DocProgress",n=>{var o;this.destroyed||(o=e.onProgress)==null||o.call(e,{loaded:n.loaded,total:n.total})}),t.on("FetchBuiltInCMap",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.cMapReaderFactory?this.cMapReaderFactory.fetch(n):Promise.reject(new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter."))),t.on("FetchStandardFontData",n=>this.destroyed?Promise.reject(new Error("Worker was destroyed.")):this.standardFontDataFactory?this.standardFontDataFactory.fetch(n):Promise.reject(new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.")))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var n;this.annotationStorage.size<=0&&Mt("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:t,transfer:e}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:t,filename:((n=this._fullReader)==null?void 0:n.filename)??null},e).finally(()=>{this.annotationStorage.resetModified()})}getPage(t){if(!Number.isInteger(t)||t<=0||t>this._numPages)return Promise.reject(new Error("Invalid page request."));const e=t-1,n=h(this,Zl).get(e);if(n)return n;const o=this.messageHandler.sendWithPromise("GetPage",{pageIndex:e}).then(a=>{if(this.destroyed)throw new Error("Transport destroyed");a.refStr&&h(this,Jl).set(a.refStr,t);const l=new qR(e,a,this,this._params.pdfBug);return h(this,Yi).set(e,l),l});return h(this,Zl).set(e,o),o}getPageIndex(t){return j1(t)?this.messageHandler.sendWithPromise("GetPageIndex",{num:t.num,gen:t.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(t,e){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:t,intent:e})}getFieldObjects(){return b(this,aa,Tc).call(this,"GetFieldObjects")}hasJSActions(){return b(this,aa,Tc).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(t){return typeof t!="string"?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:t})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return b(this,aa,Tc).call(this,"GetDocJSActions")}getPageJSActions(t){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:t})}getStructTree(t){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:t})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(t){return b(this,aa,Tc).call(this,"GetOptionalContentConfig").then(e=>new gR(e,t))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const t="GetMetadata",e=h(this,js).get(t);if(e)return e;const n=this.messageHandler.sendWithPromise(t,null).then(o=>{var a,l;return{info:o[0],metadata:o[1]?new pR(o[1]):null,contentDispositionFilename:((a=this._fullReader)==null?void 0:a.filename)??null,contentLength:((l=this._fullReader)==null?void 0:l.contentLength)??null}});return h(this,js).set(t,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(t=!1){if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of h(this,Yi).values())if(!e.cleanup())throw new Error(`startCleanup: Page ${e.pageNumber} is currently rendering.`);this.commonObjs.clear(),t||this.fontLoader.clear(),h(this,js).clear(),this.filterFactory.destroy(!0),jp.cleanup()}}cachedPageNumber(t){if(!j1(t))return null;const e=t.gen===0?`${t.num}R`:`${t.num}R${t.gen}`;return h(this,Jl).get(e)??null}}js=new WeakMap,Yi=new WeakMap,Zl=new WeakMap,Jl=new WeakMap,Qi=new WeakMap,aa=new WeakSet,Tc=function(t,e=null){const n=h(this,js).get(t);if(n)return n;const o=this.messageHandler.sendWithPromise(t,e);return h(this,js).set(t,o),o};const Zf=Symbol("INITIAL_DATA");var Ti,Oh,Py;class hx{constructor(){T(this,Oh);T(this,Ti,Object.create(null))}get(t,e=null){if(e){const o=b(this,Oh,Py).call(this,t);return o.promise.then(()=>e(o.data)),null}const n=h(this,Ti)[t];if(!n||n.data===Zf)throw new Error(`Requesting object that isn't resolved yet ${t}.`);return n.data}has(t){const e=h(this,Ti)[t];return!!e&&e.data!==Zf}resolve(t,e=null){const n=b(this,Oh,Py).call(this,t);n.data=e,n.resolve()}clear(){var t;for(const e in h(this,Ti)){const{data:n}=h(this,Ti)[e];(t=n==null?void 0:n.bitmap)==null||t.close()}x(this,Ti,Object.create(null))}*[Symbol.iterator](){for(const t in h(this,Ti)){const{data:e}=h(this,Ti)[t];e!==Zf&&(yield[t,e])}}}Ti=new WeakMap,Oh=new WeakSet,Py=function(t){var e;return(e=h(this,Ti))[t]||(e[t]={...Promise.withResolvers(),data:Zf})};var $r;class ZR{constructor(t){T(this,$r,null);x(this,$r,t),this.onContinue=null}get promise(){return h(this,$r).capability.promise}cancel(t=0){h(this,$r).cancel(null,t)}get separateAnnots(){const{separateAnnots:t}=h(this,$r).operatorList;if(!t)return!1;const{annotationCanvasMap:e}=h(this,$r);return t.form||t.canvas&&(e==null?void 0:e.size)>0}}$r=new WeakMap;var Wr,la;const Io=class Io{constructor({callback:t,params:e,objs:n,commonObjs:o,annotationCanvasMap:a,operatorList:l,pageIndex:c,canvasFactory:d,filterFactory:p,useRequestAnimationFrame:m=!1,pdfBug:v=!1,pageColors:y=null}){T(this,Wr,null);this.callback=t,this.params=e,this.objs=n,this.commonObjs=o,this.annotationCanvasMap=a,this.operatorListIdx=null,this.operatorList=l,this._pageIndex=c,this.canvasFactory=d,this.filterFactory=p,this._pdfBug=v,this.pageColors=y,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=m===!0&&typeof window<"u",this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new ZR(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=e.canvasContext.canvas}get completed(){return this.capability.promise.catch(function(){})}initializeGraphics({transparency:t=!1,optionalContentConfig:e}){var c,d;if(this.cancelled)return;if(this._canvas){if(h(Io,la).has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");h(Io,la).add(this._canvas)}this._pdfBug&&((c=globalThis.StepperManager)!=null&&c.enabled)&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:n,viewport:o,transform:a,background:l}=this.params;this.gfx=new bl(n,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:e},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:a,viewport:o,transparency:t,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,(d=this.graphicsReadyCallback)==null||d.call(this)}cancel(t=null,e=0){var n;this.running=!1,this.cancelled=!0,(n=this.gfx)==null||n.endDrawing(),h(this,Wr)&&(window.cancelAnimationFrame(h(this,Wr)),x(this,Wr,null)),h(Io,la).delete(this._canvas),this.callback(t||new I0(`Rendering cancelled, page ${this._pageIndex+1}`,e))}operatorListChanged(){var t;if(!this.graphicsReady){this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound);return}(t=this.stepper)==null||t.updateOperatorList(this.operatorList),!this.running&&this._continue()}_continue(){this.running=!0,!this.cancelled&&(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?x(this,Wr,window.requestAnimationFrame(()=>{x(this,Wr,null),this._nextBound().catch(this._cancelBound)})):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),h(Io,la).delete(this._canvas),this.callback())))}};Wr=new WeakMap,la=new WeakMap,T(Io,la,new WeakSet);let ky=Io;const JR="4.4.168",tL="19fbc8998";function V1(r){return Math.floor(Math.max(0,Math.min(1,r))*255).toString(16).padStart(2,"0")}function yc(r){return Math.max(0,Math.min(255,255*r))}class B1{static CMYK_G([t,e,n,o]){return["G",1-Math.min(1,.3*t+.59*n+.11*e+o)]}static G_CMYK([t]){return["CMYK",0,0,0,1-t]}static G_RGB([t]){return["RGB",t,t,t]}static G_rgb([t]){return t=yc(t),[t,t,t]}static G_HTML([t]){const e=V1(t);return`#${e}${e}${e}`}static RGB_G([t,e,n]){return["G",.3*t+.59*e+.11*n]}static RGB_rgb(t){return t.map(yc)}static RGB_HTML(t){return`#${t.map(V1).join("")}`}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB([t,e,n,o]){return["RGB",1-Math.min(1,t+o),1-Math.min(1,n+o),1-Math.min(1,e+o)]}static CMYK_rgb([t,e,n,o]){return[yc(1-Math.min(1,t+o)),yc(1-Math.min(1,n+o)),yc(1-Math.min(1,e+o))]}static CMYK_HTML(t){const e=this.CMYK_RGB(t).slice(1);return this.RGB_HTML(e)}static RGB_CMYK([t,e,n]){const o=1-t,a=1-e,l=1-n,c=Math.min(o,a,l);return["CMYK",o,a,l,c]}}class dx{static setupStorage(t,e,n,o,a){const l=o.getValue(e,{value:null});switch(n.name){case"textarea":if(l.value!==null&&(t.textContent=l.value),a==="print")break;t.addEventListener("input",c=>{o.setValue(e,{value:c.target.value})});break;case"input":if(n.attributes.type==="radio"||n.attributes.type==="checkbox"){if(l.value===n.attributes.xfaOn?t.setAttribute("checked",!0):l.value===n.attributes.xfaOff&&t.removeAttribute("checked"),a==="print")break;t.addEventListener("change",c=>{o.setValue(e,{value:c.target.checked?c.target.getAttribute("xfaOn"):c.target.getAttribute("xfaOff")})})}else{if(l.value!==null&&t.setAttribute("value",l.value),a==="print")break;t.addEventListener("input",c=>{o.setValue(e,{value:c.target.value})})}break;case"select":if(l.value!==null){t.setAttribute("value",l.value);for(const c of n.children)c.attributes.value===l.value?c.attributes.selected=!0:c.attributes.hasOwnProperty("selected")&&delete c.attributes.selected}t.addEventListener("input",c=>{const d=c.target.options,p=d.selectedIndex===-1?"":d[d.selectedIndex].value;o.setValue(e,{value:p})});break}}static setAttributes({html:t,element:e,storage:n=null,intent:o,linkService:a}){const{attributes:l}=e,c=t instanceof HTMLAnchorElement;l.type==="radio"&&(l.name=`${l.name}-${o}`);for(const[d,p]of Object.entries(l))if(p!=null)switch(d){case"class":p.length&&t.setAttribute(d,p.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",p);break;case"style":Object.assign(t.style,p);break;case"textContent":t.textContent=p;break;default:(!c||d!=="href"&&d!=="newWindow")&&t.setAttribute(d,p)}c&&a.addLinkAttributes(t,l.href,l.newWindow),n&&l.dataId&&this.setupStorage(t,l.dataId,e,n)}static render(t){var v,y;const e=t.annotationStorage,n=t.linkService,o=t.xfaHtml,a=t.intent||"display",l=document.createElement(o.name);o.attributes&&this.setAttributes({html:l,element:o,intent:a,linkService:n});const c=a!=="richText",d=t.div;if(d.append(l),t.viewport){const A=`matrix(${t.viewport.transform.join(",")})`;d.style.transform=A}c&&d.setAttribute("class","xfaLayer xfaFont");const p=[];if(o.children.length===0){if(o.value){const A=document.createTextNode(o.value);l.append(A),c&&Uc.shouldBuildText(o.name)&&p.push(A)}return{textDivs:p}}const m=[[o,-1,l]];for(;m.length>0;){const[A,S,_]=m.at(-1);if(S+1===A.children.length){m.pop();continue}const P=A.children[++m.at(-1)[1]];if(P===null)continue;const{name:C}=P;if(C==="#text"){const M=document.createTextNode(P.value);p.push(M),_.append(M);continue}const R=(v=P==null?void 0:P.attributes)!=null&&v.xmlns?document.createElementNS(P.attributes.xmlns,C):document.createElement(C);if(_.append(R),P.attributes&&this.setAttributes({html:R,element:P,storage:e,intent:a,linkService:n}),((y=P.children)==null?void 0:y.length)>0)m.push([P,-1,R]);else if(P.value){const M=document.createTextNode(P.value);c&&Uc.shouldBuildText(C)&&p.push(M),R.append(M)}}for(const A of d.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))A.setAttribute("readOnly",!0);return{textDivs:p}}static update(t){const e=`matrix(${t.viewport.transform.join(",")})`;t.div.style.transform=e,t.div.hidden=!1}}const Pd=1e3,eL=9,Fa=new WeakSet;function tr(r){return{width:r[2]-r[0],height:r[3]-r[1]}}class nL{static create(t){switch(t.data.annotationType){case Te.LINK:return new fx(t);case Te.TEXT:return new iL(t);case Te.WIDGET:switch(t.data.fieldType){case"Tx":return new sL(t);case"Btn":return t.data.radioButton?new gx(t):t.data.checkBox?new oL(t):new aL(t);case"Ch":return new lL(t);case"Sig":return new rL(t)}return new za(t);case Te.POPUP:return new Ly(t);case Te.FREETEXT:return new Sx(t);case Te.LINE:return new cL(t);case Te.SQUARE:return new hL(t);case Te.CIRCLE:return new dL(t);case Te.POLYLINE:return new Ex(t);case Te.CARET:return new pL(t);case Te.INK:return new _x(t);case Te.POLYGON:return new fL(t);case Te.HIGHLIGHT:return new mL(t);case Te.UNDERLINE:return new gL(t);case Te.SQUIGGLY:return new vL(t);case Te.STRIKEOUT:return new yL(t);case Te.STAMP:return new xx(t);case Te.FILEATTACHMENT:return new wL(t);default:return new Ae(t)}}}var ua,tu,eu,Nh,Ry;const xw=class xw{constructor(t,{isRenderable:e=!1,ignoreBorder:n=!1,createQuadrilaterals:o=!1}={}){T(this,Nh);T(this,ua,null);T(this,tu,!1);T(this,eu,null);this.isRenderable=e,this.data=t.data,this.layer=t.layer,this.linkService=t.linkService,this.downloadManager=t.downloadManager,this.imageResourcesPath=t.imageResourcesPath,this.renderForms=t.renderForms,this.svgFactory=t.svgFactory,this.annotationStorage=t.annotationStorage,this.enableScripting=t.enableScripting,this.hasJSActions=t.hasJSActions,this._fieldObjects=t.fieldObjects,this.parent=t.parent,e&&(this.container=this._createContainer(n)),o&&this._createQuadrilaterals()}static _hasPopupData({titleObj:t,contentsObj:e,richText:n}){return!!(t!=null&&t.str||e!=null&&e.str||n!=null&&n.str)}get hasPopupData(){return xw._hasPopupData(this.data)}updateEdited(t){var n;if(!this.container)return;h(this,ua)||x(this,ua,{rect:this.data.rect.slice(0)});const{rect:e}=t;e&&b(this,Nh,Ry).call(this,e),(n=h(this,eu))==null||n.popup.updateEdited(t)}resetEdited(){var t;h(this,ua)&&(b(this,Nh,Ry).call(this,h(this,ua).rect),(t=h(this,eu))==null||t.popup.resetEdited(),x(this,ua,null))}_createContainer(t){const{data:e,parent:{page:n,viewport:o}}=this,a=document.createElement("section");a.setAttribute("data-annotation-id",e.id),this instanceof za||(a.tabIndex=Pd);const{style:l}=a;if(l.zIndex=this.parent.zIndex++,e.popupRef&&a.setAttribute("aria-haspopup","dialog"),e.alternativeText&&(a.title=e.alternativeText),e.noRotate&&a.classList.add("norotate"),!e.rect||this instanceof Ly){const{rotation:_}=e;return!e.hasOwnCanvas&&_!==0&&this.setRotation(_,a),a}const{width:c,height:d}=tr(e.rect);if(!t&&e.borderStyle.width>0){l.borderWidth=`${e.borderStyle.width}px`;const _=e.borderStyle.horizontalCornerRadius,P=e.borderStyle.verticalCornerRadius;if(_>0||P>0){const R=`calc(${_}px * var(--scale-factor)) / calc(${P}px * var(--scale-factor))`;l.borderRadius=R}else if(this instanceof gx){const R=`calc(${c}px * var(--scale-factor)) / calc(${d}px * var(--scale-factor))`;l.borderRadius=R}switch(e.borderStyle.style){case gc.SOLID:l.borderStyle="solid";break;case gc.DASHED:l.borderStyle="dashed";break;case gc.BEVELED:Mt("Unimplemented border style: beveled");break;case gc.INSET:Mt("Unimplemented border style: inset");break;case gc.UNDERLINE:l.borderBottomStyle="solid";break}const C=e.borderColor||null;C?(x(this,tu,!0),l.borderColor=ft.makeHexColor(C[0]|0,C[1]|0,C[2]|0)):l.borderWidth=0}const p=ft.normalizeRect([e.rect[0],n.view[3]-e.rect[1]+n.view[1],e.rect[2],n.view[3]-e.rect[3]+n.view[1]]),{pageWidth:m,pageHeight:v,pageX:y,pageY:A}=o.rawDims;l.left=`${100*(p[0]-y)/m}%`,l.top=`${100*(p[1]-A)/v}%`;const{rotation:S}=e;return e.hasOwnCanvas||S===0?(l.width=`${100*c/m}%`,l.height=`${100*d/v}%`):this.setRotation(S,a),a}setRotation(t,e=this.container){if(!this.data.rect)return;const{pageWidth:n,pageHeight:o}=this.parent.viewport.rawDims,{width:a,height:l}=tr(this.data.rect);let c,d;t%180===0?(c=100*a/n,d=100*l/o):(c=100*l/n,d=100*a/o),e.style.width=`${c}%`,e.style.height=`${d}%`,e.setAttribute("data-main-rotation",(360-t)%360)}get _commonActions(){const t=(e,n,o)=>{const a=o.detail[e],l=a[0],c=a.slice(1);o.target.style[n]=B1[`${l}_HTML`](c),this.annotationStorage.setValue(this.data.id,{[n]:B1[`${l}_rgb`](c)})};return Bt(this,"_commonActions",{display:e=>{const{display:n}=e.detail,o=n%2===1;this.container.style.visibility=o?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:o,noPrint:n===1||n===2})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:n}=e.detail;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:n,noView:n})},focus:e=>{setTimeout(()=>e.target.focus({preventScroll:!1}),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:e=>{t("bgColor","backgroundColor",e)},fillColor:e=>{t("fillColor","backgroundColor",e)},fgColor:e=>{t("fgColor","color",e)},textColor:e=>{t("textColor","color",e)},borderColor:e=>{t("borderColor","borderColor",e)},strokeColor:e=>{t("strokeColor","borderColor",e)},rotation:e=>{const n=e.detail.rotation;this.setRotation(n),this.annotationStorage.setValue(this.data.id,{rotation:n})}})}_dispatchEventFromSandbox(t,e){const n=this._commonActions;for(const o of Object.keys(e.detail)){const a=t[o]||n[o];a==null||a(e)}}_setDefaultPropertiesFromJS(t){if(!this.enableScripting)return;const e=this.annotationStorage.getRawValue(this.data.id);if(!e)return;const n=this._commonActions;for(const[o,a]of Object.entries(e)){const l=n[o];if(l){const c={detail:{[o]:a},target:t};l(c),delete e[o]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:t}=this.data;if(!t)return;const[e,n,o,a]=this.data.rect.map(_=>Math.fround(_));if(t.length===8){const[_,P,C,R]=t.subarray(2,6);if(o===_&&a===P&&e===C&&n===R)return}const{style:l}=this.container;let c;if(h(this,tu)){const{borderColor:_,borderWidth:P}=l;l.borderWidth=0,c=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">',`<g fill="transparent" stroke="${_}" stroke-width="${P}">`],this.container.classList.add("hasBorder")}const d=o-e,p=a-n,{svgFactory:m}=this,v=m.createElement("svg");v.classList.add("quadrilateralsContainer"),v.setAttribute("width",0),v.setAttribute("height",0);const y=m.createElement("defs");v.append(y);const A=m.createElement("clipPath"),S=`clippath_${this.data.id}`;A.setAttribute("id",S),A.setAttribute("clipPathUnits","objectBoundingBox"),y.append(A);for(let _=2,P=t.length;_<P;_+=8){const C=t[_],R=t[_+1],M=t[_+2],F=t[_+3],O=m.createElement("rect"),V=(M-e)/d,W=(a-R)/p,H=(C-M)/d,Y=(R-F)/p;O.setAttribute("x",V),O.setAttribute("y",W),O.setAttribute("width",H),O.setAttribute("height",Y),A.append(O),c==null||c.push(`<rect vector-effect="non-scaling-stroke" x="${V}" y="${W}" width="${H}" height="${Y}"/>`)}h(this,tu)&&(c.push("</g></svg>')"),l.backgroundImage=c.join("")),this.container.append(v),this.container.style.clipPath=`url(#${S})`}_createPopup(){const{container:t,data:e}=this;t.setAttribute("aria-haspopup","dialog");const n=x(this,eu,new Ly({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:`popup_${e.id}`,rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(n.render())}render(){Yt("Abstract method `AnnotationElement.render` called")}_getElementsByName(t,e=null){const n=[];if(this._fieldObjects){const o=this._fieldObjects[t];if(o)for(const{page:a,id:l,exportValues:c}of o){if(a===-1||l===e)continue;const d=typeof c=="string"?c:null,p=document.querySelector(`[data-element-id="${l}"]`);if(p&&!Fa.has(p)){Mt(`_getElementsByName - element not allowed: ${l}`);continue}n.push({id:l,exportValue:d,domElement:p})}return n}for(const o of document.getElementsByName(t)){const{exportValue:a}=o,l=o.getAttribute("data-element-id");l!==e&&Fa.has(o)&&n.push({id:l,exportValue:a,domElement:o})}return n}show(){var t;this.container&&(this.container.hidden=!1),(t=this.popup)==null||t.maybeShow()}hide(){var t;this.container&&(this.container.hidden=!0),(t=this.popup)==null||t.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const t=this.getElementsToTriggerPopup();if(Array.isArray(t))for(const e of t)e.classList.add("highlightArea");else t.classList.add("highlightArea")}get _isEditable(){return!1}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:t,data:{id:e}}=this;this.container.addEventListener("dblclick",()=>{var n;(n=this.linkService.eventBus)==null||n.dispatch("switchannotationeditormode",{source:this,mode:t,editId:e})})}};ua=new WeakMap,tu=new WeakMap,eu=new WeakMap,Nh=new WeakSet,Ry=function(t){const{container:{style:e},data:{rect:n,rotation:o},parent:{viewport:{rawDims:{pageWidth:a,pageHeight:l,pageX:c,pageY:d}}}}=this;n==null||n.splice(0,4,...t);const{width:p,height:m}=tr(t);e.left=`${100*(t[0]-c)/a}%`,e.top=`${100*(l-t[3]+d)/l}%`,o===0?(e.width=`${100*p/a}%`,e.height=`${100*m/l}%`):this.setRotation(o)};let Ae=xw;var Xn,Po,px,mx;class fx extends Ae{constructor(e,n=null){super(e,{isRenderable:!0,ignoreBorder:!!(n!=null&&n.ignoreBorder),createQuadrilaterals:!0});T(this,Xn);this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:n}=this,o=document.createElement("a");o.setAttribute("data-element-id",e.id);let a=!1;return e.url?(n.addLinkAttributes(o,e.url,e.newWindow),a=!0):e.action?(this._bindNamedAction(o,e.action),a=!0):e.attachment?(b(this,Xn,px).call(this,o,e.attachment,e.attachmentDest),a=!0):e.setOCGState?(b(this,Xn,mx).call(this,o,e.setOCGState),a=!0):e.dest?(this._bindLink(o,e.dest),a=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(o,e),a=!0),e.resetForm?(this._bindResetFormAction(o,e.resetForm),a=!0):this.isTooltipOnly&&!a&&(this._bindLink(o,""),a=!0)),this.container.classList.add("linkAnnotation"),a&&this.container.append(o),this.container}_bindLink(e,n){e.href=this.linkService.getDestinationHash(n),e.onclick=()=>(n&&this.linkService.goToDestination(n),!1),(n||n==="")&&b(this,Xn,Po).call(this)}_bindNamedAction(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(n),!1),b(this,Xn,Po).call(this)}_bindJSAction(e,n){e.href=this.linkService.getAnchorUrl("");const o=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const a of Object.keys(n.actions)){const l=o.get(a);l&&(e[l]=()=>{var c;return(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:n.id,name:a}}),!1})}e.onclick||(e.onclick=()=>!1),b(this,Xn,Po).call(this)}_bindResetFormAction(e,n){const o=e.onclick;if(o||(e.href=this.linkService.getAnchorUrl("")),b(this,Xn,Po).call(this),!this._fieldObjects){Mt('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),o||(e.onclick=()=>!1);return}e.onclick=()=>{var v;o==null||o();const{fields:a,refs:l,include:c}=n,d=[];if(a.length!==0||l.length!==0){const y=new Set(l);for(const A of a){const S=this._fieldObjects[A]||[];for(const{id:_}of S)y.add(_)}for(const A of Object.values(this._fieldObjects))for(const S of A)y.has(S.id)===c&&d.push(S)}else for(const y of Object.values(this._fieldObjects))d.push(...y);const p=this.annotationStorage,m=[];for(const y of d){const{id:A}=y;switch(m.push(A),y.type){case"text":{const _=y.defaultValue||"";p.setValue(A,{value:_});break}case"checkbox":case"radiobutton":{const _=y.defaultValue===y.exportValues;p.setValue(A,{value:_});break}case"combobox":case"listbox":{const _=y.defaultValue||"";p.setValue(A,{value:_});break}default:continue}const S=document.querySelector(`[data-element-id="${A}"]`);if(S){if(!Fa.has(S)){Mt(`_bindResetFormAction - element not allowed: ${A}`);continue}}else continue;S.dispatchEvent(new Event("resetform"))}return this.enableScripting&&((v=this.linkService.eventBus)==null||v.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:m,name:"ResetForm"}})),!1}}}Xn=new WeakSet,Po=function(){this.container.setAttribute("data-internal-link","")},px=function(e,n,o=null){e.href=this.linkService.getAnchorUrl(""),n.description&&(e.title=n.description),e.onclick=()=>{var a;return(a=this.downloadManager)==null||a.openOrDownloadData(n.content,n.filename,o),!1},b(this,Xn,Po).call(this)},mx=function(e,n){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(n),!1),b(this,Xn,Po).call(this)};class iL extends Ae{constructor(t){super(t,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const t=document.createElement("img");return t.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",t.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),t.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(t),this.container}}class za extends Ae{render(){return this.container}showElementAndHideCanvas(t){var e;this.data.hasOwnCanvas&&(((e=t.previousSibling)==null?void 0:e.nodeName)==="CANVAS"&&(t.previousSibling.hidden=!0),t.hidden=!1)}_getKeyModifier(t){return kn.platform.isMac?t.metaKey:t.ctrlKey}_setEventListener(t,e,n,o,a){n.includes("mouse")?t.addEventListener(n,l=>{var c;(c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(l),shift:l.shiftKey,modifier:this._getKeyModifier(l)}})}):t.addEventListener(n,l=>{var c;if(n==="blur"){if(!e.focused||!l.relatedTarget)return;e.focused=!1}else if(n==="focus"){if(e.focused)return;e.focused=!0}a&&((c=this.linkService.eventBus)==null||c.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:o,value:a(l)}}))})}_setEventListeners(t,e,n,o){var a,l,c;for(const[d,p]of n)(p==="Action"||(a=this.data.actions)!=null&&a[p])&&((p==="Focus"||p==="Blur")&&(e||(e={focused:!1})),this._setEventListener(t,e,d,p,o),p==="Focus"&&!((l=this.data.actions)!=null&&l.Blur)?this._setEventListener(t,e,"blur","Blur",null):p==="Blur"&&!((c=this.data.actions)!=null&&c.Focus)&&this._setEventListener(t,e,"focus","Focus",null))}_setBackgroundColor(t){const e=this.data.backgroundColor||null;t.style.backgroundColor=e===null?"transparent":ft.makeHexColor(e[0],e[1],e[2])}_setTextStyle(t){const e=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,o=this.data.defaultAppearanceData.fontSize||eL,a=t.style;let l;const c=2,d=p=>Math.round(10*p)/10;if(this.data.multiLine){const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c),m=Math.round(p/(Pv*o))||1,v=p/m;l=Math.min(o,d(v/Pv))}else{const p=Math.abs(this.data.rect[3]-this.data.rect[1]-c);l=Math.min(o,d(p/Pv))}a.fontSize=`calc(${l}px * var(--scale-factor))`,a.color=ft.makeHexColor(n[0],n[1],n[2]),this.data.textAlignment!==null&&(a.textAlign=e[this.data.textAlignment])}_setRequired(t,e){e?t.setAttribute("required",!0):t.removeAttribute("required"),t.setAttribute("aria-required",e)}}class sL extends za{constructor(t){const e=t.renderForms||t.data.hasOwnCanvas||!t.data.hasAppearance&&!!t.data.fieldValue;super(t,{isRenderable:e})}setPropertyOnSiblings(t,e,n,o){const a=this.annotationStorage;for(const l of this._getElementsByName(t.name,t.id))l.domElement&&(l.domElement[e]=n),a.setValue(l.id,{[o]:n})}render(){var o,a;const t=this.annotationStorage,e=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){const l=t.getValue(e,{value:this.data.fieldValue});let c=l.value||"";const d=t.getValue(e,{charLimit:this.data.maxLen}).charLimit;d&&c.length>d&&(c=c.slice(0,d));let p=l.formattedValue||((o=this.data.textContent)==null?void 0:o.join(`
`))||null;p&&this.data.comb&&(p=p.replaceAll(/\s+/g,""));const m={userValue:c,formattedValue:p,lastCommittedValue:null,commitKey:1,focused:!1};this.data.multiLine?(n=document.createElement("textarea"),n.textContent=p??c,this.data.doNotScroll&&(n.style.overflowY="hidden")):(n=document.createElement("input"),n.type="text",n.setAttribute("value",p??c),this.data.doNotScroll&&(n.style.overflowX="hidden")),this.data.hasOwnCanvas&&(n.hidden=!0),Fa.add(n),n.setAttribute("data-element-id",e),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=Pd,this._setRequired(n,this.data.required),d&&(n.maxLength=d),n.addEventListener("input",y=>{t.setValue(e,{value:y.target.value}),this.setPropertyOnSiblings(n,"value",y.target.value,"value"),m.formattedValue=null}),n.addEventListener("resetform",y=>{const A=this.data.defaultFieldValue??"";n.value=m.userValue=A,m.formattedValue=null});let v=y=>{const{formattedValue:A}=m;A!=null&&(y.target.value=A),y.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){n.addEventListener("focus",A=>{var _;if(m.focused)return;const{target:S}=A;m.userValue&&(S.value=m.userValue),m.lastCommittedValue=S.value,m.commitKey=1,(_=this.data.actions)!=null&&_.Focus||(m.focused=!0)}),n.addEventListener("updatefromsandbox",A=>{this.showElementAndHideCanvas(A.target);const S={value(_){m.userValue=_.detail.value??"",t.setValue(e,{value:m.userValue.toString()}),_.target.value=m.userValue},formattedValue(_){const{formattedValue:P}=_.detail;m.formattedValue=P,P!=null&&_.target!==document.activeElement&&(_.target.value=P),t.setValue(e,{formattedValue:P})},selRange(_){_.target.setSelectionRange(..._.detail.selRange)},charLimit:_=>{var M;const{charLimit:P}=_.detail,{target:C}=_;if(P===0){C.removeAttribute("maxLength");return}C.setAttribute("maxLength",P);let R=m.userValue;!R||R.length<=P||(R=R.slice(0,P),C.value=m.userValue=R,t.setValue(e,{value:R}),(M=this.linkService.eventBus)==null||M.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:R,willCommit:!0,commitKey:1,selStart:C.selectionStart,selEnd:C.selectionEnd}}))}};this._dispatchEventFromSandbox(S,A)}),n.addEventListener("keydown",A=>{var P;m.commitKey=1;let S=-1;if(A.key==="Escape"?S=0:A.key==="Enter"&&!this.data.multiLine?S=2:A.key==="Tab"&&(m.commitKey=3),S===-1)return;const{value:_}=A.target;m.lastCommittedValue!==_&&(m.lastCommittedValue=_,m.userValue=_,(P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:_,willCommit:!0,commitKey:S,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}}))});const y=v;v=null,n.addEventListener("blur",A=>{var _,P;if(!m.focused||!A.relatedTarget)return;(_=this.data.actions)!=null&&_.Blur||(m.focused=!1);const{value:S}=A.target;m.userValue=S,m.lastCommittedValue!==S&&((P=this.linkService.eventBus)==null||P.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:S,willCommit:!0,commitKey:m.commitKey,selStart:A.target.selectionStart,selEnd:A.target.selectionEnd}})),y(A)}),(a=this.data.actions)!=null&&a.Keystroke&&n.addEventListener("beforeinput",A=>{var O;m.lastCommittedValue=null;const{data:S,target:_}=A,{value:P,selectionStart:C,selectionEnd:R}=_;let M=C,F=R;switch(A.inputType){case"deleteWordBackward":{const V=P.substring(0,C).match(/\w*[^\w]*$/);V&&(M-=V[0].length);break}case"deleteWordForward":{const V=P.substring(C).match(/^[^\w]*\w*/);V&&(F+=V[0].length);break}case"deleteContentBackward":C===R&&(M-=1);break;case"deleteContentForward":C===R&&(F+=1);break}A.preventDefault(),(O=this.linkService.eventBus)==null||O.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:P,change:S||"",willCommit:!1,selStart:M,selEnd:F}})}),this._setEventListeners(n,m,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],A=>A.target.value)}if(v&&n.addEventListener("blur",v),this.data.comb){const A=(this.data.rect[2]-this.data.rect[0])/d;n.classList.add("comb"),n.style.letterSpacing=`calc(${A}px * var(--scale-factor) - 1ch)`}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class rL extends za{constructor(t){super(t,{isRenderable:!!t.data.hasOwnCanvas})}}class oL extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){const t=this.annotationStorage,e=this.data,n=e.id;let o=t.getValue(n,{value:e.exportValue===e.fieldValue}).value;typeof o=="string"&&(o=o!=="Off",t.setValue(n,{value:o})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const a=document.createElement("input");return Fa.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="checkbox",a.name=e.fieldName,o&&a.setAttribute("checked",!0),a.setAttribute("exportValue",e.exportValue),a.tabIndex=Pd,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const p of this._getElementsByName(c,n)){const m=d&&p.exportValue===e.exportValue;p.domElement&&(p.domElement.checked=m),t.setValue(p.id,{value:m})}t.setValue(n,{value:d})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue||"Off";l.target.checked=c===e.exportValue}),this.enableScripting&&this.hasJSActions&&(a.addEventListener("updatefromsandbox",l=>{const c={value(d){d.target.checked=d.detail.value!=="Off",t.setValue(n,{value:d.target.checked})}};this._dispatchEventFromSandbox(c,l)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],l=>l.target.checked)),this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class gx extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const t=this.annotationStorage,e=this.data,n=e.id;let o=t.getValue(n,{value:e.fieldValue===e.buttonValue}).value;if(typeof o=="string"&&(o=o!==e.buttonValue,t.setValue(n,{value:o})),o)for(const l of this._getElementsByName(e.fieldName,n))t.setValue(l.id,{value:!1});const a=document.createElement("input");if(Fa.add(a),a.setAttribute("data-element-id",n),a.disabled=e.readOnly,this._setRequired(a,this.data.required),a.type="radio",a.name=e.fieldName,o&&a.setAttribute("checked",!0),a.tabIndex=Pd,a.addEventListener("change",l=>{const{name:c,checked:d}=l.target;for(const p of this._getElementsByName(c,n))t.setValue(p.id,{value:!1});t.setValue(n,{value:d})}),a.addEventListener("resetform",l=>{const c=e.defaultFieldValue;l.target.checked=c!=null&&c===e.buttonValue}),this.enableScripting&&this.hasJSActions){const l=e.buttonValue;a.addEventListener("updatefromsandbox",c=>{const d={value:p=>{const m=l===p.detail.value;for(const v of this._getElementsByName(p.target.name)){const y=m&&v.id===n;v.domElement&&(v.domElement.checked=y),t.setValue(v.id,{value:y})}}};this._dispatchEventFromSandbox(d,c)}),this._setEventListeners(a,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],c=>c.target.checked)}return this._setBackgroundColor(a),this._setDefaultPropertiesFromJS(a),this.container.append(a),this.container}}class aL extends fx{constructor(t){super(t,{ignoreBorder:t.data.hasAppearance})}render(){const t=super.render();t.classList.add("buttonWidgetAnnotation","pushButton");const e=t.lastChild;return this.enableScripting&&this.hasJSActions&&e&&(this._setDefaultPropertiesFromJS(e),e.addEventListener("updatefromsandbox",n=>{this._dispatchEventFromSandbox({},n)})),t}}class lL extends za{constructor(t){super(t,{isRenderable:t.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const t=this.annotationStorage,e=this.data.id,n=t.getValue(e,{value:this.data.fieldValue}),o=document.createElement("select");Fa.add(o),o.setAttribute("data-element-id",e),o.disabled=this.data.readOnly,this._setRequired(o,this.data.required),o.name=this.data.fieldName,o.tabIndex=Pd;let a=this.data.combo&&this.data.options.length>0;this.data.combo||(o.size=this.data.options.length,this.data.multiSelect&&(o.multiple=!0)),o.addEventListener("resetform",m=>{const v=this.data.defaultFieldValue;for(const y of o.options)y.selected=y.value===v});for(const m of this.data.options){const v=document.createElement("option");v.textContent=m.displayValue,v.value=m.exportValue,n.value.includes(m.exportValue)&&(v.setAttribute("selected",!0),a=!1),o.append(v)}let l=null;if(a){const m=document.createElement("option");m.value=" ",m.setAttribute("hidden",!0),m.setAttribute("selected",!0),o.prepend(m),l=()=>{m.remove(),o.removeEventListener("input",l),l=null},o.addEventListener("input",l)}const c=m=>{const v=m?"value":"textContent",{options:y,multiple:A}=o;return A?Array.prototype.filter.call(y,S=>S.selected).map(S=>S[v]):y.selectedIndex===-1?null:y[y.selectedIndex][v]};let d=c(!1);const p=m=>{const v=m.target.options;return Array.prototype.map.call(v,y=>({displayValue:y.textContent,exportValue:y.value}))};return this.enableScripting&&this.hasJSActions?(o.addEventListener("updatefromsandbox",m=>{const v={value(y){l==null||l();const A=y.detail.value,S=new Set(Array.isArray(A)?A:[A]);for(const _ of o.options)_.selected=S.has(_.value);t.setValue(e,{value:c(!0)}),d=c(!1)},multipleSelection(y){o.multiple=!0},remove(y){const A=o.options,S=y.detail.remove;A[S].selected=!1,o.remove(S),A.length>0&&Array.prototype.findIndex.call(A,P=>P.selected)===-1&&(A[0].selected=!0),t.setValue(e,{value:c(!0),items:p(y)}),d=c(!1)},clear(y){for(;o.length!==0;)o.remove(0);t.setValue(e,{value:null,items:[]}),d=c(!1)},insert(y){const{index:A,displayValue:S,exportValue:_}=y.detail.insert,P=o.children[A],C=document.createElement("option");C.textContent=S,C.value=_,P?P.before(C):o.append(C),t.setValue(e,{value:c(!0),items:p(y)}),d=c(!1)},items(y){const{items:A}=y.detail;for(;o.length!==0;)o.remove(0);for(const S of A){const{displayValue:_,exportValue:P}=S,C=document.createElement("option");C.textContent=_,C.value=P,o.append(C)}o.options.length>0&&(o.options[0].selected=!0),t.setValue(e,{value:c(!0),items:p(y)}),d=c(!1)},indices(y){const A=new Set(y.detail.indices);for(const S of y.target.options)S.selected=A.has(S.index);t.setValue(e,{value:c(!0)}),d=c(!1)},editable(y){y.target.disabled=!y.detail.editable}};this._dispatchEventFromSandbox(v,m)}),o.addEventListener("input",m=>{var A;const v=c(!0),y=c(!1);t.setValue(e,{value:v}),m.preventDefault(),(A=this.linkService.eventBus)==null||A.dispatch("dispatcheventinsandbox",{source:this,detail:{id:e,name:"Keystroke",value:d,change:y,changeEx:v,willCommit:!1,commitKey:1,keyDown:!1}})}),this._setEventListeners(o,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],m=>m.target.value)):o.addEventListener("input",function(m){t.setValue(e,{value:c(!0)})}),this.data.combo&&this._setTextStyle(o),this._setBackgroundColor(o),this._setDefaultPropertiesFromJS(o),this.container.append(o),this.container}}class Ly extends Ae{constructor(t){const{data:e,elements:n}=t;super(t,{isRenderable:Ae._hasPopupData(e)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const t=this.popup=new uL({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),e=[];for(const n of this.elements)n.popup=t,e.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",e.map(n=>`${v_}${n}`).join(",")),this.container}}var nu,cm,hm,iu,ca,fe,Vs,ha,jh,Vh,su,Bs,Pi,zs,Bh,Hs,zh,da,fa,Qt,pp,My,vx,yx,wx,Ax,mp,gp,Dy;class uL{constructor({container:t,color:e,elements:n,titleObj:o,modificationDate:a,contentsObj:l,richText:c,parent:d,rect:p,parentRect:m,open:v}){T(this,Qt);T(this,nu,b(this,Qt,wx).bind(this));T(this,cm,b(this,Qt,Dy).bind(this));T(this,hm,b(this,Qt,gp).bind(this));T(this,iu,b(this,Qt,mp).bind(this));T(this,ca,null);T(this,fe,null);T(this,Vs,null);T(this,ha,null);T(this,jh,null);T(this,Vh,null);T(this,su,null);T(this,Bs,!1);T(this,Pi,null);T(this,zs,null);T(this,Bh,null);T(this,Hs,null);T(this,zh,null);T(this,da,null);T(this,fa,!1);var y;x(this,fe,t),x(this,zh,o),x(this,Vs,l),x(this,Hs,c),x(this,Vh,d),x(this,ca,e),x(this,Bh,p),x(this,su,m),x(this,jh,n),x(this,ha,E_.toDateObject(a)),this.trigger=n.flatMap(A=>A.getElementsToTriggerPopup());for(const A of this.trigger)A.addEventListener("click",h(this,iu)),A.addEventListener("mouseenter",h(this,hm)),A.addEventListener("mouseleave",h(this,cm)),A.classList.add("popupTriggerArea");for(const A of n)(y=A.container)==null||y.addEventListener("keydown",h(this,nu));h(this,fe).hidden=!0,v&&b(this,Qt,mp).call(this)}render(){if(h(this,Pi))return;const t=x(this,Pi,document.createElement("div"));if(t.className="popup",h(this,ca)){const a=t.style.outlineColor=ft.makeHexColor(...h(this,ca));CSS.supports("background-color","color-mix(in srgb, red 30%, white)")?t.style.backgroundColor=`color-mix(in srgb, ${a} 30%, white)`:t.style.backgroundColor=ft.makeHexColor(...h(this,ca).map(c=>Math.floor(.7*(255-c)+c)))}const e=document.createElement("span");e.className="header";const n=document.createElement("h1");if(e.append(n),{dir:n.dir,str:n.textContent}=h(this,zh),t.append(e),h(this,ha)){const a=document.createElement("span");a.classList.add("popupDate"),a.setAttribute("data-l10n-id","pdfjs-annotation-date-string"),a.setAttribute("data-l10n-args",JSON.stringify({date:h(this,ha).toLocaleDateString(),time:h(this,ha).toLocaleTimeString()})),e.append(a)}const o=h(this,Qt,pp);if(o)dx.render({xfaHtml:o,intent:"richText",div:t}),t.lastChild.classList.add("richText","popupContent");else{const a=this._formatContents(h(this,Vs));t.append(a)}h(this,fe).append(t)}_formatContents({str:t,dir:e}){const n=document.createElement("p");n.classList.add("popupContent"),n.dir=e;const o=t.split(/(?:\r\n?|\n)/);for(let a=0,l=o.length;a<l;++a){const c=o[a];n.append(document.createTextNode(c)),a<l-1&&n.append(document.createElement("br"))}return n}updateEdited({rect:t,popupContent:e}){var n;h(this,da)||x(this,da,{contentsObj:h(this,Vs),richText:h(this,Hs)}),t&&x(this,zs,null),e&&(x(this,Hs,b(this,Qt,yx).call(this,e)),x(this,Vs,null)),(n=h(this,Pi))==null||n.remove(),x(this,Pi,null)}resetEdited(){var t;h(this,da)&&({contentsObj:On(this,Vs)._,richText:On(this,Hs)._}=h(this,da),x(this,da,null),(t=h(this,Pi))==null||t.remove(),x(this,Pi,null),x(this,zs,null))}forceHide(){x(this,fa,this.isVisible),h(this,fa)&&(h(this,fe).hidden=!0)}maybeShow(){h(this,fa)&&(h(this,Pi)||b(this,Qt,gp).call(this),x(this,fa,!1),h(this,fe).hidden=!1)}get isVisible(){return h(this,fe).hidden===!1}}nu=new WeakMap,cm=new WeakMap,hm=new WeakMap,iu=new WeakMap,ca=new WeakMap,fe=new WeakMap,Vs=new WeakMap,ha=new WeakMap,jh=new WeakMap,Vh=new WeakMap,su=new WeakMap,Bs=new WeakMap,Pi=new WeakMap,zs=new WeakMap,Bh=new WeakMap,Hs=new WeakMap,zh=new WeakMap,da=new WeakMap,fa=new WeakMap,Qt=new WeakSet,pp=function(){const t=h(this,Hs),e=h(this,Vs);return t!=null&&t.str&&(!(e!=null&&e.str)||e.str===t.str)&&h(this,Hs).html||null},My=function(){var t,e,n;return((n=(e=(t=h(this,Qt,pp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.fontSize)||0},vx=function(){var t,e,n;return((n=(e=(t=h(this,Qt,pp))==null?void 0:t.attributes)==null?void 0:e.style)==null?void 0:n.color)||null},yx=function(t){const e=[],n={str:t,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:e}]}},o={style:{color:h(this,Qt,vx),fontSize:h(this,Qt,My)?`calc(${h(this,Qt,My)}px * var(--scale-factor))`:""}};for(const a of t.split(`
`))e.push({name:"span",value:a,attributes:o});return n},wx=function(t){t.altKey||t.shiftKey||t.ctrlKey||t.metaKey||(t.key==="Enter"||t.key==="Escape"&&h(this,Bs))&&b(this,Qt,mp).call(this)},Ax=function(){if(h(this,zs)!==null)return;const{page:{view:t},viewport:{rawDims:{pageWidth:e,pageHeight:n,pageX:o,pageY:a}}}=h(this,Vh);let l=!!h(this,su),c=l?h(this,su):h(this,Bh);for(const S of h(this,jh))if(!c||ft.intersect(S.data.rect,c)!==null){c=S.data.rect,l=!0;break}const d=ft.normalizeRect([c[0],t[3]-c[1]+t[1],c[2],t[3]-c[3]+t[1]]),m=l?c[2]-c[0]+5:0,v=d[0]+m,y=d[1];x(this,zs,[100*(v-o)/e,100*(y-a)/n]);const{style:A}=h(this,fe);A.left=`${h(this,zs)[0]}%`,A.top=`${h(this,zs)[1]}%`},mp=function(){x(this,Bs,!h(this,Bs)),h(this,Bs)?(b(this,Qt,gp).call(this),h(this,fe).addEventListener("click",h(this,iu)),h(this,fe).addEventListener("keydown",h(this,nu))):(b(this,Qt,Dy).call(this),h(this,fe).removeEventListener("click",h(this,iu)),h(this,fe).removeEventListener("keydown",h(this,nu)))},gp=function(){h(this,Pi)||this.render(),this.isVisible?h(this,Bs)&&h(this,fe).classList.add("focused"):(b(this,Qt,Ax).call(this),h(this,fe).hidden=!1,h(this,fe).style.zIndex=parseInt(h(this,fe).style.zIndex)+1e3)},Dy=function(){h(this,fe).classList.remove("focused"),!(h(this,Bs)||!this.isVisible)&&(h(this,fe).hidden=!0,h(this,fe).style.zIndex=parseInt(h(this,fe).style.zIndex)-1e3)};class Sx extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0}),this.textContent=t.data.textContent,this.textPosition=t.data.textPosition,this.annotationEditorType=jt.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const t=document.createElement("div");t.classList.add("annotationTextContent"),t.setAttribute("role","comment");for(const e of this.textContent){const n=document.createElement("span");n.textContent=e,t.append(n)}this.container.append(t)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}get _isEditable(){return this.data.hasOwnCanvas}}var Hh;class cL extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Hh,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:n,height:o}=tr(e.rect),a=this.svgFactory.create(n,o,!0),l=x(this,Hh,this.svgFactory.createElement("svg:line"));return l.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),l.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),l.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),l.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),l.setAttribute("stroke-width",e.borderStyle.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Hh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Hh=new WeakMap;var Uh;class hL extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Uh,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:n,height:o}=tr(e.rect),a=this.svgFactory.create(n,o,!0),l=e.borderStyle.width,c=x(this,Uh,this.svgFactory.createElement("svg:rect"));return c.setAttribute("x",l/2),c.setAttribute("y",l/2),c.setAttribute("width",n-l),c.setAttribute("height",o-l),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Uh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Uh=new WeakMap;var $h;class dL extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,$h,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:n,height:o}=tr(e.rect),a=this.svgFactory.create(n,o,!0),l=e.borderStyle.width,c=x(this,$h,this.svgFactory.createElement("svg:ellipse"));return c.setAttribute("cx",n/2),c.setAttribute("cy",o/2),c.setAttribute("rx",n/2-l/2),c.setAttribute("ry",o/2-l/2),c.setAttribute("stroke-width",l||1),c.setAttribute("stroke","transparent"),c.setAttribute("fill","transparent"),a.append(c),this.container.append(a),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,$h)}addHighlightArea(){this.container.classList.add("highlightArea")}}$h=new WeakMap;var Wh;class Ex extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Wh,null);this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:n,borderStyle:o,popupRef:a}}=this;if(!n)return this.container;const{width:l,height:c}=tr(e),d=this.svgFactory.create(l,c,!0);let p=[];for(let v=0,y=n.length;v<y;v+=2){const A=n[v]-e[0],S=e[3]-n[v+1];p.push(`${A},${S}`)}p=p.join(" ");const m=x(this,Wh,this.svgFactory.createElement(this.svgElementName));return m.setAttribute("points",p),m.setAttribute("stroke-width",o.width||1),m.setAttribute("stroke","transparent"),m.setAttribute("fill","transparent"),d.append(m),this.container.append(d),!a&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return h(this,Wh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Wh=new WeakMap;class fL extends Ex{constructor(t){super(t),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class pL extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Gh;class _x extends Ae{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0});T(this,Gh,[]);this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType=jt.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:n,borderStyle:o,popupRef:a}}=this,{width:l,height:c}=tr(e),d=this.svgFactory.create(l,c,!0);for(const p of n){let m=[];for(let y=0,A=p.length;y<A;y+=2){const S=p[y]-e[0],_=e[3]-p[y+1];m.push(`${S},${_}`)}m=m.join(" ");const v=this.svgFactory.createElement(this.svgElementName);h(this,Gh).push(v),v.setAttribute("points",m),v.setAttribute("stroke-width",o.width||1),v.setAttribute("stroke","transparent"),v.setAttribute("fill","transparent"),!a&&this.hasPopupData&&this._createPopup(),d.append(v)}return this.container.append(d),this.container}getElementsToTriggerPopup(){return h(this,Gh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Gh=new WeakMap;class mL extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this.container}}class gL extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class vL extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class yL extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xx extends Ae{constructor(t){super(t,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("stampAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var Xh,Kh,Iy;class wL extends Ae{constructor(e){var o;super(e,{isRenderable:!0});T(this,Kh);T(this,Xh,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,(o=this.linkService.eventBus)==null||o.dispatch("fileattachmentannotation",{source:this,...n})}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:n}=this;let o;n.hasAppearance||n.fillAlpha===0?o=document.createElement("div"):(o=document.createElement("img"),o.src=`${this.imageResourcesPath}annotation-${/paperclip/i.test(n.name)?"paperclip":"pushpin"}.svg`,n.fillAlpha&&n.fillAlpha<1&&(o.style=`filter: opacity(${Math.round(n.fillAlpha*100)}%);`)),o.addEventListener("dblclick",b(this,Kh,Iy).bind(this)),x(this,Xh,o);const{isMac:a}=kn.platform;return e.addEventListener("keydown",l=>{l.key==="Enter"&&(a?l.metaKey:l.ctrlKey)&&b(this,Kh,Iy).call(this)}),!n.popupRef&&this.hasPopupData?this._createPopup():o.classList.add("popupTriggerArea"),e.append(o),e}getElementsToTriggerPopup(){return h(this,Xh)}addHighlightArea(){this.container.classList.add("highlightArea")}}Xh=new WeakMap,Kh=new WeakSet,Iy=function(){var e;(e=this.downloadManager)==null||e.openOrDownloadData(this.content,this.filename)};var qh,pa,ru,Na,bx,Fy,c_;let AL=(c_=class{constructor({div:t,accessibilityManager:e,annotationCanvasMap:n,annotationEditorUIManager:o,page:a,viewport:l}){T(this,Na);T(this,qh,null);T(this,pa,null);T(this,ru,new Map);this.div=t,x(this,qh,e),x(this,pa,n),this.page=a,this.viewport=l,this.zIndex=0,this._annotationEditorUIManager=o}async render(t){var l;const{annotations:e}=t,n=this.div;Da(n,this.viewport);const o=new Map,a={data:null,layer:n,linkService:t.linkService,downloadManager:t.downloadManager,imageResourcesPath:t.imageResourcesPath||"",renderForms:t.renderForms!==!1,svgFactory:new D0,annotationStorage:t.annotationStorage||new j0,enableScripting:t.enableScripting===!0,hasJSActions:t.hasJSActions,fieldObjects:t.fieldObjects,parent:this,elements:null};for(const c of e){if(c.noHTML)continue;const d=c.annotationType===Te.POPUP;if(d){const v=o.get(c.id);if(!v)continue;a.elements=v}else{const{width:v,height:y}=tr(c.rect);if(v<=0||y<=0)continue}a.data=c;const p=nL.create(a);if(!p.isRenderable)continue;if(!d&&c.popupRef){const v=o.get(c.popupRef);v?v.push(p):o.set(c.popupRef,[p])}const m=p.render();c.hidden&&(m.style.visibility="hidden"),b(this,Na,bx).call(this,m,c.id),p.annotationEditorType>0&&(h(this,ru).set(p.data.id,p),(l=this._annotationEditorUIManager)==null||l.renderAnnotationElement(p))}b(this,Na,Fy).call(this)}update({viewport:t}){const e=this.div;this.viewport=t,Da(e,{rotation:t.rotation}),b(this,Na,Fy).call(this),e.hidden=!1}getEditableAnnotations(){return Array.from(h(this,ru).values())}getEditableAnnotation(t){return h(this,ru).get(t)}},qh=new WeakMap,pa=new WeakMap,ru=new WeakMap,Na=new WeakSet,bx=function(t,e){var o;const n=t.firstChild||t;n.id=`${v_}${e}`,this.div.append(t),(o=h(this,qh))==null||o.moveElementInDOM(this.div,t,n,!1)},Fy=function(){if(!h(this,pa))return;const t=this.div;for(const[e,n]of h(this,pa)){const o=t.querySelector(`[data-annotation-id="${e}"]`);if(!o)continue;n.className="annotationContent";const{firstChild:a}=o;a?a.nodeName==="CANVAS"?a.replaceWith(n):a.classList.contains("annotationContent")?a.after(n):a.before(n):o.append(n)}h(this,pa).clear()},c_);const Jf=/\r\n?|\n/g;var Yh,Qh,Zh,Jh,td,ki,Hn,ed,Un,ou,_e,Cx,Tx,Px,vp,sr,yp,wp,kx,Ny,Rx;const ne=class ne extends Xt{constructor(e){super({...e,name:"freeTextEditor"});T(this,_e);T(this,Yh,this.editorDivBlur.bind(this));T(this,Qh,this.editorDivFocus.bind(this));T(this,Zh,this.editorDivInput.bind(this));T(this,Jh,this.editorDivKeydown.bind(this));T(this,td,this.editorDivPaste.bind(this));T(this,ki);T(this,Hn,"");T(this,ed,`${this.id}-editor`);T(this,Un);T(this,ou,null);x(this,ki,e.color||ne._defaultColor||Xt._defaultLineColor),x(this,Un,e.fontSize||ne._defaultFontSize)}static get _keyboardManager(){const e=ne.prototype,n=l=>l.isEmpty(),o=Ia.TRANSLATE_SMALL,a=Ia.TRANSLATE_BIG;return Bt(this,"_keyboardManager",new Cd([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-o,0],checker:n}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-a,0],checker:n}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[o,0],checker:n}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[a,0],checker:n}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-o],checker:n}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-a],checker:n}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,o],checker:n}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,a],checker:n}]]))}static initialize(e,n){Xt.initialize(e,n,{strings:["pdfjs-free-text-default-content"]});const o=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(o.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,n){switch(e){case Pt.FREETEXT_SIZE:ne._defaultFontSize=n;break;case Pt.FREETEXT_COLOR:ne._defaultColor=n;break}}updateParams(e,n){switch(e){case Pt.FREETEXT_SIZE:b(this,_e,Cx).call(this,n);break;case Pt.FREETEXT_COLOR:b(this,_e,Tx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pt.FREETEXT_SIZE,ne._defaultFontSize],[Pt.FREETEXT_COLOR,ne._defaultColor||Xt._defaultLineColor]]}get propertiesToUpdate(){return[[Pt.FREETEXT_SIZE,h(this,Un)],[Pt.FREETEXT_COLOR,h(this,ki)]]}_translateEmpty(e,n){this._uiManager.translateSelectedEditors(e,n,!0)}getInitialTranslation(){const e=this.parentScale;return[-ne._internalPadding*e,-(ne._internalPadding+h(this,Un))*e]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(jt.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant");const e=this._uiManager._signal;this.editorDiv.addEventListener("keydown",h(this,Jh),{signal:e}),this.editorDiv.addEventListener("focus",h(this,Qh),{signal:e}),this.editorDiv.addEventListener("blur",h(this,Yh),{signal:e}),this.editorDiv.addEventListener("input",h(this,Zh),{signal:e}),this.editorDiv.addEventListener("paste",h(this,td),{signal:e})}disableEditMode(){this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",h(this,ed)),this._isDraggable=!0,this.editorDiv.removeEventListener("keydown",h(this,Jh)),this.editorDiv.removeEventListener("focus",h(this,Qh)),this.editorDiv.removeEventListener("blur",h(this,Yh)),this.editorDiv.removeEventListener("input",h(this,Zh)),this.editorDiv.removeEventListener("paste",h(this,td)),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),(e=this._initialOptions)!=null&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||this.editorDiv.innerText.trim()===""}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=h(this,Hn),n=x(this,Hn,b(this,_e,Px).call(this).trimEnd());if(e===n)return;const o=a=>{if(x(this,Hn,a),!a){this.remove();return}b(this,_e,wp).call(this),this._uiManager.rebuild(this),b(this,_e,vp).call(this)};this.addCommands({cmd:()=>{o(n)},undo:()=>{o(e)},mustExec:!1}),b(this,_e,vp).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&e.key==="Enter"&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){ne._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",h(this,ed)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text"),this.enableEditing(),Xt._l10nPromise.get("pdfjs-free-text-default-content").then(a=>{var l;return(l=this.editorDiv)==null?void 0:l.setAttribute("default-content",a)}),this.editorDiv.contentEditable=!0;const{style:o}=this.editorDiv;if(o.fontSize=`calc(${h(this,Un)}px * var(--scale-factor))`,o.color=h(this,ki),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Fp(this,this.div,["dblclick","keydown"]),this.width){const[a,l]=this.parentDimensions;if(this.annotationElementId){const{position:c}=h(this,ou);let[d,p]=this.getInitialTranslation();[d,p]=this.pageTranslationToScreen(d,p);const[m,v]=this.pageDimensions,[y,A]=this.pageTranslation;let S,_;switch(this.rotation){case 0:S=e+(c[0]-y)/m,_=n+this.height-(c[1]-A)/v;break;case 90:S=e+(c[0]-y)/m,_=n-(c[1]-A)/v,[d,p]=[p,-d];break;case 180:S=e-this.width+(c[0]-y)/m,_=n-(c[1]-A)/v,[d,p]=[-d,-p];break;case 270:S=e+(c[0]-y-this.height*v)/m,_=n+(c[1]-A-this.width*m)/v,[d,p]=[-p,d];break}this.setAt(S*a,_*l,d,p)}else this.setAt(e*a,n*l,this.width*a,this.height*l);b(this,_e,wp).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){var S,_,P;const n=e.clipboardData||window.clipboardData,{types:o}=n;if(o.length===1&&o[0]==="text/plain")return;e.preventDefault();const a=b(S=ne,sr,Ny).call(S,n.getData("text")||"").replaceAll(Jf,`
`);if(!a)return;const l=window.getSelection();if(!l.rangeCount)return;this.editorDiv.normalize(),l.deleteFromDocument();const c=l.getRangeAt(0);if(!a.includes(`
`)){c.insertNode(document.createTextNode(a)),this.editorDiv.normalize(),l.collapseToStart();return}const{startContainer:d,startOffset:p}=c,m=[],v=[];if(d.nodeType===Node.TEXT_NODE){const C=d.parentElement;if(v.push(d.nodeValue.slice(p).replaceAll(Jf,"")),C!==this.editorDiv){let R=m;for(const M of this.editorDiv.childNodes){if(M===C){R=v;continue}R.push(b(_=ne,sr,yp).call(_,M))}}m.push(d.nodeValue.slice(0,p).replaceAll(Jf,""))}else if(d===this.editorDiv){let C=m,R=0;for(const M of this.editorDiv.childNodes)R++===p&&(C=v),C.push(b(P=ne,sr,yp).call(P,M))}x(this,Hn,`${m.join(`
`)}${a}${v.join(`
`)}`),b(this,_e,wp).call(this);const y=new Range;let A=m.reduce((C,R)=>C+R.length,0);for(const{firstChild:C}of this.editorDiv.childNodes)if(C.nodeType===Node.TEXT_NODE){const R=C.nodeValue.length;if(A<=R){y.setStart(C,A),y.setEnd(C,A);break}A-=R}l.removeAllRanges(),l.addRange(y)}get contentDiv(){return this.editorDiv}static deserialize(e,n,o){var c;let a=null;if(e instanceof Sx){const{data:{defaultAppearanceData:{fontSize:d,fontColor:p},rect:m,rotation:v,id:y},textContent:A,textPosition:S,parent:{page:{pageNumber:_}}}=e;if(!A||A.length===0)return null;a=e={annotationType:jt.FREETEXT,color:Array.from(p),fontSize:d,value:A.join(`
`),position:S,pageIndex:_-1,rect:m.slice(0),rotation:v,id:y,deleted:!1}}const l=super.deserialize(e,n,o);return x(l,Un,e.fontSize),x(l,ki,ft.makeHexColor(...e.color)),x(l,Hn,b(c=ne,sr,Ny).call(c,e.value)),l.annotationElementId=e.id||null,x(l,ou,a),l}serialize(e=!1){if(this.isEmpty())return null;if(this.deleted)return{pageIndex:this.pageIndex,id:this.annotationElementId,deleted:!0};const n=ne._internalPadding*this.parentScale,o=this.getRect(n,n),a=Xt._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:h(this,ki)),l={annotationType:jt.FREETEXT,color:a,fontSize:h(this,Un),value:b(this,_e,kx).call(this),pageIndex:this.pageIndex,rect:o,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?l:this.annotationElementId&&!b(this,_e,Rx).call(this,l)?null:(l.id=this.annotationElementId,l)}renderAnnotationElement(e){const n=super.renderAnnotationElement(e);if(this.deleted)return n;const{style:o}=n;o.fontSize=`calc(${h(this,Un)}px * var(--scale-factor))`,o.color=h(this,ki),n.replaceChildren();for(const l of h(this,Hn).split(`
`)){const c=document.createElement("div");c.append(l?document.createTextNode(l):document.createElement("br")),n.append(c)}const a=ne._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(a,a),popupContent:h(this,Hn)}),n}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}};Yh=new WeakMap,Qh=new WeakMap,Zh=new WeakMap,Jh=new WeakMap,td=new WeakMap,ki=new WeakMap,Hn=new WeakMap,ed=new WeakMap,Un=new WeakMap,ou=new WeakMap,_e=new WeakSet,Cx=function(e){const n=a=>{this.editorDiv.style.fontSize=`calc(${a}px * var(--scale-factor))`,this.translate(0,-(a-h(this,Un))*this.parentScale),x(this,Un,a),b(this,_e,vp).call(this)},o=h(this,Un);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})},Tx=function(e){const n=a=>{x(this,ki,this.editorDiv.style.color=a)},o=h(this,ki);this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Px=function(){var n;const e=[];this.editorDiv.normalize();for(const o of this.editorDiv.childNodes)e.push(b(n=ne,sr,yp).call(n,o));return e.join(`
`)},vp=function(){const[e,n]=this.parentDimensions;let o;if(this.isAttachedToDOM)o=this.div.getBoundingClientRect();else{const{currentLayer:a,div:l}=this,c=l.style.display,d=l.classList.contains("hidden");l.classList.remove("hidden"),l.style.display="hidden",a.div.append(this.div),o=l.getBoundingClientRect(),l.remove(),l.style.display=c,l.classList.toggle("hidden",d)}this.rotation%180===this.parentRotation%180?(this.width=o.width/e,this.height=o.height/n):(this.width=o.height/e,this.height=o.width/n),this.fixAndSetPosition()},sr=new WeakSet,yp=function(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(Jf,"")},wp=function(){if(this.editorDiv.replaceChildren(),!!h(this,Hn))for(const e of h(this,Hn).split(`
`)){const n=document.createElement("div");n.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(n)}},kx=function(){return h(this,Hn).replaceAll(" "," ")},Ny=function(e){return e.replaceAll(" "," ")},Rx=function(e){const{value:n,fontSize:o,color:a,pageIndex:l}=h(this,ou);return this._hasBeenMoved||e.value!==n||e.fontSize!==o||e.color.some((c,d)=>c!==a[d])||e.pageIndex!==l},T(ne,sr),Rt(ne,"_freeTextDefaultContent",""),Rt(ne,"_internalPadding",0),Rt(ne,"_defaultColor",null),Rt(ne,"_defaultFontSize",10),Rt(ne,"_type","freetext"),Rt(ne,"_editorType",jt.FREETEXT);let Oy=ne;var nd,Gr,Ri,yn,Lx,Ap,Mx,Dx,Vy;class jy{constructor(t,e=0,n=0,o=!0){T(this,yn);T(this,nd);T(this,Gr,[]);T(this,Ri,[]);let a=1/0,l=-1/0,c=1/0,d=-1/0;const m=10**-4;for(const{x:C,y:R,width:M,height:F}of t){const O=Math.floor((C-e)/m)*m,V=Math.ceil((C+M+e)/m)*m,W=Math.floor((R-e)/m)*m,H=Math.ceil((R+F+e)/m)*m,Y=[O,W,H,!0],et=[V,W,H,!1];h(this,Gr).push(Y,et),a=Math.min(a,O),l=Math.max(l,V),c=Math.min(c,W),d=Math.max(d,H)}const v=l-a+2*n,y=d-c+2*n,A=a-n,S=c-n,_=h(this,Gr).at(o?-1:-2),P=[_[0],_[2]];for(const C of h(this,Gr)){const[R,M,F]=C;C[0]=(R-A)/v,C[1]=(M-S)/y,C[2]=(F-S)/y}x(this,nd,{x:A,y:S,width:v,height:y,lastPoint:P})}getOutlines(){h(this,Gr).sort((e,n)=>e[0]-n[0]||e[1]-n[1]||e[2]-n[2]);const t=[];for(const e of h(this,Gr))e[3]?(t.push(...b(this,yn,Vy).call(this,e)),b(this,yn,Mx).call(this,e)):(b(this,yn,Dx).call(this,e),t.push(...b(this,yn,Vy).call(this,e)));return b(this,yn,Lx).call(this,t)}}nd=new WeakMap,Gr=new WeakMap,Ri=new WeakMap,yn=new WeakSet,Lx=function(t){const e=[],n=new Set;for(const l of t){const[c,d,p]=l;e.push([c,d,l],[c,p,l])}e.sort((l,c)=>l[1]-c[1]||l[0]-c[0]);for(let l=0,c=e.length;l<c;l+=2){const d=e[l][2],p=e[l+1][2];d.push(p),p.push(d),n.add(d),n.add(p)}const o=[];let a;for(;n.size>0;){const l=n.values().next().value;let[c,d,p,m,v]=l;n.delete(l);let y=c,A=d;for(a=[c,p],o.push(a);;){let S;if(n.has(m))S=m;else if(n.has(v))S=v;else break;n.delete(S),[c,d,p,m,v]=S,y!==c&&(a.push(y,A,c,A===d?d:p),y=c),A=A===d?p:d}a.push(y,A)}return new SL(o,h(this,nd))},Ap=function(t){const e=h(this,Ri);let n=0,o=e.length-1;for(;n<=o;){const a=n+o>>1,l=e[a][0];if(l===t)return a;l<t?n=a+1:o=a-1}return o+1},Mx=function([,t,e]){const n=b(this,yn,Ap).call(this,t);h(this,Ri).splice(n,0,[t,e])},Dx=function([,t,e]){const n=b(this,yn,Ap).call(this,t);for(let o=n;o<h(this,Ri).length;o++){const[a,l]=h(this,Ri)[o];if(a!==t)break;if(a===t&&l===e){h(this,Ri).splice(o,1);return}}for(let o=n-1;o>=0;o--){const[a,l]=h(this,Ri)[o];if(a!==t)break;if(a===t&&l===e){h(this,Ri).splice(o,1);return}}},Vy=function(t){const[e,n,o]=t,a=[[e,n,o]],l=b(this,yn,Ap).call(this,o);for(let c=0;c<l;c++){const[d,p]=h(this,Ri)[c];for(let m=0,v=a.length;m<v;m++){const[,y,A]=a[m];if(!(p<=y||A<=d)){if(y>=d){if(A>p)a[m][1]=p;else{if(v===1)return[];a.splice(m,1),m--,v--}continue}a[m][2]=d,A>p&&a.push([e,p,A])}}}return a};class Ix{toSVGPath(){throw new Error("Abstract method `toSVGPath` must be implemented.")}get box(){throw new Error("Abstract getter `box` must be implemented.")}serialize(t,e){throw new Error("Abstract method `serialize` must be implemented.")}get free(){return this instanceof zy}}var id,au;class SL extends Ix{constructor(e,n){super();T(this,id);T(this,au);x(this,au,e),x(this,id,n)}toSVGPath(){const e=[];for(const n of h(this,au)){let[o,a]=n;e.push(`M${o} ${a}`);for(let l=2;l<n.length;l+=2){const c=n[l],d=n[l+1];c===o?(e.push(`V${d}`),a=d):d===a&&(e.push(`H${c}`),o=c)}e.push("Z")}return e.join(" ")}serialize([e,n,o,a],l){const c=[],d=o-e,p=a-n;for(const m of h(this,au)){const v=new Array(m.length);for(let y=0;y<m.length;y+=2)v[y]=e+m[y]*d,v[y+1]=a-m[y+1]*p;c.push(v)}return c}get box(){return h(this,id)}}id=new WeakMap,au=new WeakMap;var Zi,Us,lu,uu,Ji,Nt,ma,ga,sd,rd,cu,hu,Xr,od,dm,fm,ad,By;const bs=class bs{constructor({x:t,y:e},n,o,a,l,c=0){T(this,ad);T(this,Zi);T(this,Us,[]);T(this,lu);T(this,uu);T(this,Ji,[]);T(this,Nt,new Float64Array(18));T(this,ma);T(this,ga);T(this,sd);T(this,rd);T(this,cu);T(this,hu);T(this,Xr,[]);x(this,Zi,n),x(this,hu,a*o),x(this,uu,l),h(this,Nt).set([NaN,NaN,NaN,NaN,t,e],6),x(this,lu,c),x(this,rd,h(bs,od)*o),x(this,sd,h(bs,fm)*o),x(this,cu,o),h(this,Xr).push(t,e)}get free(){return!0}isEmpty(){return isNaN(h(this,Nt)[8])}add({x:t,y:e}){var Y;x(this,ma,t),x(this,ga,e);const[n,o,a,l]=h(this,Zi);let[c,d,p,m]=h(this,Nt).subarray(8,12);const v=t-p,y=e-m,A=Math.hypot(v,y);if(A<h(this,sd))return!1;const S=A-h(this,rd),_=S/A,P=_*v,C=_*y;let R=c,M=d;c=p,d=m,p+=P,m+=C,(Y=h(this,Xr))==null||Y.push(t,e);const F=-C/S,O=P/S,V=F*h(this,hu),W=O*h(this,hu);return h(this,Nt).set(h(this,Nt).subarray(2,8),0),h(this,Nt).set([p+V,m+W],4),h(this,Nt).set(h(this,Nt).subarray(14,18),12),h(this,Nt).set([p-V,m-W],16),isNaN(h(this,Nt)[6])?(h(this,Ji).length===0&&(h(this,Nt).set([c+V,d+W],2),h(this,Ji).push(NaN,NaN,NaN,NaN,(c+V-n)/a,(d+W-o)/l),h(this,Nt).set([c-V,d-W],14),h(this,Us).push(NaN,NaN,NaN,NaN,(c-V-n)/a,(d-W-o)/l)),h(this,Nt).set([R,M,c,d,p,m],6),!this.isEmpty()):(h(this,Nt).set([R,M,c,d,p,m],6),Math.abs(Math.atan2(M-d,R-c)-Math.atan2(C,P))<Math.PI/2?([c,d,p,m]=h(this,Nt).subarray(2,6),h(this,Ji).push(NaN,NaN,NaN,NaN,((c+p)/2-n)/a,((d+m)/2-o)/l),[c,d,R,M]=h(this,Nt).subarray(14,18),h(this,Us).push(NaN,NaN,NaN,NaN,((R+c)/2-n)/a,((M+d)/2-o)/l),!0):([R,M,c,d,p,m]=h(this,Nt).subarray(0,6),h(this,Ji).push(((R+5*c)/6-n)/a,((M+5*d)/6-o)/l,((5*c+p)/6-n)/a,((5*d+m)/6-o)/l,((c+p)/2-n)/a,((d+m)/2-o)/l),[p,m,c,d,R,M]=h(this,Nt).subarray(12,18),h(this,Us).push(((R+5*c)/6-n)/a,((M+5*d)/6-o)/l,((5*c+p)/6-n)/a,((5*d+m)/6-o)/l,((c+p)/2-n)/a,((d+m)/2-o)/l),!0))}toSVGPath(){if(this.isEmpty())return"";const t=h(this,Ji),e=h(this,Us),n=h(this,Nt).subarray(4,6),o=h(this,Nt).subarray(16,18),[a,l,c,d]=h(this,Zi),[p,m,v,y]=b(this,ad,By).call(this);if(isNaN(h(this,Nt)[6])&&!this.isEmpty())return`M${(h(this,Nt)[2]-a)/c} ${(h(this,Nt)[3]-l)/d} L${(h(this,Nt)[4]-a)/c} ${(h(this,Nt)[5]-l)/d} L${p} ${m} L${v} ${y} L${(h(this,Nt)[16]-a)/c} ${(h(this,Nt)[17]-l)/d} L${(h(this,Nt)[14]-a)/c} ${(h(this,Nt)[15]-l)/d} Z`;const A=[];A.push(`M${t[4]} ${t[5]}`);for(let S=6;S<t.length;S+=6)isNaN(t[S])?A.push(`L${t[S+4]} ${t[S+5]}`):A.push(`C${t[S]} ${t[S+1]} ${t[S+2]} ${t[S+3]} ${t[S+4]} ${t[S+5]}`);A.push(`L${(n[0]-a)/c} ${(n[1]-l)/d} L${p} ${m} L${v} ${y} L${(o[0]-a)/c} ${(o[1]-l)/d}`);for(let S=e.length-6;S>=6;S-=6)isNaN(e[S])?A.push(`L${e[S+4]} ${e[S+5]}`):A.push(`C${e[S]} ${e[S+1]} ${e[S+2]} ${e[S+3]} ${e[S+4]} ${e[S+5]}`);return A.push(`L${e[4]} ${e[5]} Z`),A.join(" ")}getOutlines(){var C;const t=h(this,Ji),e=h(this,Us),n=h(this,Nt),o=n.subarray(4,6),a=n.subarray(16,18),[l,c,d,p]=h(this,Zi),m=new Float64Array((((C=h(this,Xr))==null?void 0:C.length)??0)+2);for(let R=0,M=m.length-2;R<M;R+=2)m[R]=(h(this,Xr)[R]-l)/d,m[R+1]=(h(this,Xr)[R+1]-c)/p;m[m.length-2]=(h(this,ma)-l)/d,m[m.length-1]=(h(this,ga)-c)/p;const[v,y,A,S]=b(this,ad,By).call(this);if(isNaN(n[6])&&!this.isEmpty()){const R=new Float64Array(36);return R.set([NaN,NaN,NaN,NaN,(n[2]-l)/d,(n[3]-c)/p,NaN,NaN,NaN,NaN,(n[4]-l)/d,(n[5]-c)/p,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,A,S,NaN,NaN,NaN,NaN,(n[16]-l)/d,(n[17]-c)/p,NaN,NaN,NaN,NaN,(n[14]-l)/d,(n[15]-c)/p],0),new zy(R,m,h(this,Zi),h(this,cu),h(this,lu),h(this,uu))}const _=new Float64Array(h(this,Ji).length+24+h(this,Us).length);let P=t.length;for(let R=0;R<P;R+=2){if(isNaN(t[R])){_[R]=_[R+1]=NaN;continue}_[R]=t[R],_[R+1]=t[R+1]}_.set([NaN,NaN,NaN,NaN,(o[0]-l)/d,(o[1]-c)/p,NaN,NaN,NaN,NaN,v,y,NaN,NaN,NaN,NaN,A,S,NaN,NaN,NaN,NaN,(a[0]-l)/d,(a[1]-c)/p],P),P+=24;for(let R=e.length-6;R>=6;R-=6)for(let M=0;M<6;M+=2){if(isNaN(e[R+M])){_[P]=_[P+1]=NaN,P+=2;continue}_[P]=e[R+M],_[P+1]=e[R+M+1],P+=2}return _.set([NaN,NaN,NaN,NaN,e[4],e[5]],P),new zy(_,m,h(this,Zi),h(this,cu),h(this,lu),h(this,uu))}};Zi=new WeakMap,Us=new WeakMap,lu=new WeakMap,uu=new WeakMap,Ji=new WeakMap,Nt=new WeakMap,ma=new WeakMap,ga=new WeakMap,sd=new WeakMap,rd=new WeakMap,cu=new WeakMap,hu=new WeakMap,Xr=new WeakMap,od=new WeakMap,dm=new WeakMap,fm=new WeakMap,ad=new WeakSet,By=function(){const t=h(this,Nt).subarray(4,6),e=h(this,Nt).subarray(16,18),[n,o,a,l]=h(this,Zi);return[(h(this,ma)+(t[0]-e[0])/2-n)/a,(h(this,ga)+(t[1]-e[1])/2-o)/l,(h(this,ma)+(e[0]-t[0])/2-n)/a,(h(this,ga)+(e[1]-t[1])/2-o)/l]},T(bs,od,8),T(bs,dm,2),T(bs,fm,h(bs,od)+h(bs,dm));let Vp=bs;var du,va,$s,ld,$n,ud,ye,Rn,Pc,kc,Fx;class zy extends Ix{constructor(e,n,o,a,l,c){super();T(this,Rn);T(this,du);T(this,va,null);T(this,$s);T(this,ld);T(this,$n);T(this,ud);T(this,ye);x(this,ye,e),x(this,$n,n),x(this,du,o),x(this,ud,a),x(this,$s,l),x(this,ld,c),b(this,Rn,Fx).call(this,c);const{x:d,y:p,width:m,height:v}=h(this,va);for(let y=0,A=e.length;y<A;y+=2)e[y]=(e[y]-d)/m,e[y+1]=(e[y+1]-p)/v;for(let y=0,A=n.length;y<A;y+=2)n[y]=(n[y]-d)/m,n[y+1]=(n[y+1]-p)/v}toSVGPath(){const e=[`M${h(this,ye)[4]} ${h(this,ye)[5]}`];for(let n=6,o=h(this,ye).length;n<o;n+=6){if(isNaN(h(this,ye)[n])){e.push(`L${h(this,ye)[n+4]} ${h(this,ye)[n+5]}`);continue}e.push(`C${h(this,ye)[n]} ${h(this,ye)[n+1]} ${h(this,ye)[n+2]} ${h(this,ye)[n+3]} ${h(this,ye)[n+4]} ${h(this,ye)[n+5]}`)}return e.push("Z"),e.join(" ")}serialize([e,n,o,a],l){const c=o-e,d=a-n;let p,m;switch(l){case 0:p=b(this,Rn,Pc).call(this,h(this,ye),e,a,c,-d),m=b(this,Rn,Pc).call(this,h(this,$n),e,a,c,-d);break;case 90:p=b(this,Rn,kc).call(this,h(this,ye),e,n,c,d),m=b(this,Rn,kc).call(this,h(this,$n),e,n,c,d);break;case 180:p=b(this,Rn,Pc).call(this,h(this,ye),o,n,-c,d),m=b(this,Rn,Pc).call(this,h(this,$n),o,n,-c,d);break;case 270:p=b(this,Rn,kc).call(this,h(this,ye),o,a,-c,-d),m=b(this,Rn,kc).call(this,h(this,$n),o,a,-c,-d);break}return{outline:Array.from(p),points:[Array.from(m)]}}get box(){return h(this,va)}getNewOutline(e,n){const{x:o,y:a,width:l,height:c}=h(this,va),[d,p,m,v]=h(this,du),y=l*m,A=c*v,S=o*m+d,_=a*v+p,P=new Vp({x:h(this,$n)[0]*y+S,y:h(this,$n)[1]*A+_},h(this,du),h(this,ud),e,h(this,ld),n??h(this,$s));for(let C=2;C<h(this,$n).length;C+=2)P.add({x:h(this,$n)[C]*y+S,y:h(this,$n)[C+1]*A+_});return P.getOutlines()}}du=new WeakMap,va=new WeakMap,$s=new WeakMap,ld=new WeakMap,$n=new WeakMap,ud=new WeakMap,ye=new WeakMap,Rn=new WeakSet,Pc=function(e,n,o,a,l){const c=new Float64Array(e.length);for(let d=0,p=e.length;d<p;d+=2)c[d]=n+e[d]*a,c[d+1]=o+e[d+1]*l;return c},kc=function(e,n,o,a,l){const c=new Float64Array(e.length);for(let d=0,p=e.length;d<p;d+=2)c[d]=n+e[d+1]*a,c[d+1]=o+e[d]*l;return c},Fx=function(e){const n=h(this,ye);let o=n[4],a=n[5],l=o,c=a,d=o,p=a,m=o,v=a;const y=e?Math.max:Math.min;for(let C=6,R=n.length;C<R;C+=6){if(isNaN(n[C]))l=Math.min(l,n[C+4]),c=Math.min(c,n[C+5]),d=Math.max(d,n[C+4]),p=Math.max(p,n[C+5]),v<n[C+5]?(m=n[C+4],v=n[C+5]):v===n[C+5]&&(m=y(m,n[C+4]));else{const M=ft.bezierBoundingBox(o,a,...n.slice(C,C+6));l=Math.min(l,M[0]),c=Math.min(c,M[1]),d=Math.max(d,M[2]),p=Math.max(p,M[3]),v<M[3]?(m=M[2],v=M[3]):v===M[3]&&(m=y(m,M[2]))}o=n[C+4],a=n[C+5]}const A=l-h(this,$s),S=c-h(this,$s),_=d-l+2*h(this,$s),P=p-c+2*h(this,$s);x(this,va,{x:A,y:S,width:_,height:P,lastPoint:[m,v]})};var cd,hd,Li,ya,fu,ke,dd,pu,fd,pd,Mi,mu,te,Hy,Uy,Ox,ko,Nx,Lr;const Cs=class Cs{constructor({editor:t=null,uiManager:e=null}){T(this,te);T(this,cd,b(this,te,Ox).bind(this));T(this,hd,b(this,te,Nx).bind(this));T(this,Li,null);T(this,ya,null);T(this,fu);T(this,ke,null);T(this,dd,!1);T(this,pu,!1);T(this,fd,null);T(this,pd);T(this,Mi,null);T(this,mu);var n;t?(x(this,pu,!1),x(this,mu,Pt.HIGHLIGHT_COLOR),x(this,fd,t)):(x(this,pu,!0),x(this,mu,Pt.HIGHLIGHT_DEFAULT_COLOR)),x(this,Mi,(t==null?void 0:t._uiManager)||e),x(this,pd,h(this,Mi)._eventBus),x(this,fu,(t==null?void 0:t.color)||((n=h(this,Mi))==null?void 0:n.highlightColors.values().next().value)||"#FFFF98")}static get _keyboardManager(){return Bt(this,"_keyboardManager",new Cd([[["Escape","mac+Escape"],Cs.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],Cs.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],Cs.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],Cs.prototype._moveToPrevious],[["Home","mac+Home"],Cs.prototype._moveToBeginning],[["End","mac+End"],Cs.prototype._moveToEnd]]))}renderButton(){const t=x(this,Li,document.createElement("button"));t.className="colorPicker",t.tabIndex="0",t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),t.setAttribute("aria-haspopup",!0);const e=h(this,Mi)._signal;t.addEventListener("click",b(this,te,ko).bind(this),{signal:e}),t.addEventListener("keydown",h(this,cd),{signal:e});const n=x(this,ya,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=h(this,fu),t.append(n),t}renderMainDropdown(){const t=x(this,ke,b(this,te,Hy).call(this));return t.setAttribute("aria-orientation","horizontal"),t.setAttribute("aria-labelledby","highlightColorPickerLabel"),t}_colorSelectFromKeyboard(t){if(t.target===h(this,Li)){b(this,te,ko).call(this,t);return}const e=t.target.getAttribute("data-color");e&&b(this,te,Uy).call(this,e,t)}_moveToNext(t){var e,n;if(!h(this,te,Lr)){b(this,te,ko).call(this,t);return}if(t.target===h(this,Li)){(e=h(this,ke).firstChild)==null||e.focus();return}(n=t.target.nextSibling)==null||n.focus()}_moveToPrevious(t){var e,n;if(t.target===((e=h(this,ke))==null?void 0:e.firstChild)||t.target===h(this,Li)){h(this,te,Lr)&&this._hideDropdownFromKeyboard();return}h(this,te,Lr)||b(this,te,ko).call(this,t),(n=t.target.previousSibling)==null||n.focus()}_moveToBeginning(t){var e;if(!h(this,te,Lr)){b(this,te,ko).call(this,t);return}(e=h(this,ke).firstChild)==null||e.focus()}_moveToEnd(t){var e;if(!h(this,te,Lr)){b(this,te,ko).call(this,t);return}(e=h(this,ke).lastChild)==null||e.focus()}hideDropdown(){var t;(t=h(this,ke))==null||t.classList.add("hidden"),window.removeEventListener("pointerdown",h(this,hd))}_hideDropdownFromKeyboard(){var t;if(!h(this,pu)){if(!h(this,te,Lr)){(t=h(this,fd))==null||t.unselect();return}this.hideDropdown(),h(this,Li).focus({preventScroll:!0,focusVisible:h(this,dd)})}}updateColor(t){if(h(this,ya)&&(h(this,ya).style.backgroundColor=t),!h(this,ke))return;const e=h(this,Mi).highlightColors.values();for(const n of h(this,ke).children)n.setAttribute("aria-selected",e.next().value===t)}destroy(){var t,e;(t=h(this,Li))==null||t.remove(),x(this,Li,null),x(this,ya,null),(e=h(this,ke))==null||e.remove(),x(this,ke,null)}};cd=new WeakMap,hd=new WeakMap,Li=new WeakMap,ya=new WeakMap,fu=new WeakMap,ke=new WeakMap,dd=new WeakMap,pu=new WeakMap,fd=new WeakMap,pd=new WeakMap,Mi=new WeakMap,mu=new WeakMap,te=new WeakSet,Hy=function(){const t=document.createElement("div"),e=h(this,Mi)._signal;t.addEventListener("contextmenu",Ln,{signal:e}),t.className="dropdown",t.role="listbox",t.setAttribute("aria-multiselectable",!1),t.setAttribute("aria-orientation","vertical"),t.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,o]of h(this,Mi).highlightColors){const a=document.createElement("button");a.tabIndex="0",a.role="option",a.setAttribute("data-color",o),a.title=n,a.setAttribute("data-l10n-id",`pdfjs-editor-colorpicker-${n}`);const l=document.createElement("span");a.append(l),l.className="swatch",l.style.backgroundColor=o,a.setAttribute("aria-selected",o===h(this,fu)),a.addEventListener("click",b(this,te,Uy).bind(this,o),{signal:e}),t.append(a)}return t.addEventListener("keydown",h(this,cd),{signal:e}),t},Uy=function(t,e){e.stopPropagation(),h(this,pd).dispatch("switchannotationeditorparams",{source:this,type:h(this,mu),value:t})},Ox=function(t){Cs._keyboardManager.exec(this,t)},ko=function(t){if(h(this,te,Lr)){this.hideDropdown();return}if(x(this,dd,t.detail===0),window.addEventListener("pointerdown",h(this,hd),{signal:h(this,Mi)._signal}),h(this,ke)){h(this,ke).classList.remove("hidden");return}const e=x(this,ke,b(this,te,Hy).call(this));h(this,Li).append(e)},Nx=function(t){var e;(e=h(this,ke))!=null&&e.contains(t.target)||this.hideDropdown()},Lr=function(){return h(this,ke)&&!h(this,ke).classList.contains("hidden")};let Bp=Cs;var gu,md,Kr,wa,vu,oi,gd,vd,Aa,Di,pn,Wn,pm,yu,Sa,Re,wu,ts,yd,It,$y,Wy,jx,Vx,Bx,Gy,Rc,ci,vl,zx,Sp,Lc,Hx,Ux,$x,Wx;const $t=class $t extends Xt{constructor(e){super({...e,name:"highlightEditor"});T(this,It);T(this,gu,null);T(this,md,0);T(this,Kr);T(this,wa,null);T(this,vu,null);T(this,oi,null);T(this,gd,null);T(this,vd,0);T(this,Aa,null);T(this,Di,null);T(this,pn,null);T(this,Wn,!1);T(this,pm,b(this,It,zx).bind(this));T(this,yu,null);T(this,Sa);T(this,Re,null);T(this,wu,"");T(this,ts);T(this,yd,"");this.color=e.color||$t._defaultColor,x(this,ts,e.thickness||$t._defaultThickness),x(this,Sa,e.opacity||$t._defaultOpacity),x(this,Kr,e.boxes||null),x(this,yd,e.methodOfCreation||""),x(this,wu,e.text||""),this._isDraggable=!1,e.highlightId>-1?(x(this,Wn,!0),b(this,It,Wy).call(this,e),b(this,It,Rc).call(this)):(x(this,gu,e.anchorNode),x(this,md,e.anchorOffset),x(this,gd,e.focusNode),x(this,vd,e.focusOffset),b(this,It,$y).call(this),b(this,It,Rc).call(this),this.rotate(this.rotation))}static get _keyboardManager(){const e=$t.prototype;return Bt(this,"_keyboardManager",new Cd([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}get telemetryInitialData(){return{action:"added",type:h(this,Wn)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:h(this,ts),methodOfCreation:h(this,yd)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,n){var o;Xt.initialize(e,n),$t._defaultColor||($t._defaultColor=((o=n.highlightColors)==null?void 0:o.values().next().value)||"#fff066")}static updateDefaultParams(e,n){switch(e){case Pt.HIGHLIGHT_DEFAULT_COLOR:$t._defaultColor=n;break;case Pt.HIGHLIGHT_THICKNESS:$t._defaultThickness=n;break}}translateInPage(e,n){}get toolbarPosition(){return h(this,yu)}updateParams(e,n){switch(e){case Pt.HIGHLIGHT_COLOR:b(this,It,jx).call(this,n);break;case Pt.HIGHLIGHT_THICKNESS:b(this,It,Vx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pt.HIGHLIGHT_DEFAULT_COLOR,$t._defaultColor],[Pt.HIGHLIGHT_THICKNESS,$t._defaultThickness]]}get propertiesToUpdate(){return[[Pt.HIGHLIGHT_COLOR,this.color||$t._defaultColor],[Pt.HIGHLIGHT_THICKNESS,h(this,ts)||$t._defaultThickness],[Pt.HIGHLIGHT_FREE,h(this,Wn)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(x(this,vu,new Bp({editor:this})),e.addColorPicker(h(this,vu))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(b(this,It,Lc).call(this))}getBaseTranslation(){return[0,0]}getRect(e,n){return super.getRect(e,n,b(this,It,Lc).call(this))}onceAdded(){this.parent.addUndoableEditor(this),this.div.focus()}remove(){b(this,It,Gy).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(b(this,It,Rc).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){var o;let n=!1;this.parent&&!e?b(this,It,Gy).call(this):e&&(b(this,It,Rc).call(this,e),n=!this.parent&&((o=this.div)==null?void 0:o.classList.contains("selectedEditor"))),super.setParent(e),this.show(this._isVisible),n&&this.select()}rotate(e){var a,l,c;const{drawLayer:n}=this.parent;let o;h(this,Wn)?(e=(e-this.rotation+360)%360,o=b(a=$t,ci,vl).call(a,h(this,Di).box,e)):o=b(l=$t,ci,vl).call(l,this,e),n.rotate(h(this,pn),e),n.rotate(h(this,Re),e),n.updateBox(h(this,pn),o),n.updateBox(h(this,Re),b(c=$t,ci,vl).call(c,h(this,oi).box,e))}render(){if(this.div)return this.div;const e=super.render();h(this,wu)&&(e.setAttribute("aria-label",h(this,wu)),e.setAttribute("role","mark")),h(this,Wn)?e.classList.add("free"):this.div.addEventListener("keydown",h(this,pm),{signal:this._uiManager._signal});const n=x(this,Aa,document.createElement("div"));e.append(n),n.setAttribute("aria-hidden","true"),n.className="internal",n.style.clipPath=h(this,wa);const[o,a]=this.parentDimensions;return this.setDims(this.width*o,this.height*a),Fp(this,h(this,Aa),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.parent.drawLayer.addClass(h(this,Re),"hovered")}pointerleave(){this.parent.drawLayer.removeClass(h(this,Re),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:b(this,It,Sp).call(this,!0);break;case 1:case 3:b(this,It,Sp).call(this,!1);break}}select(){var e,n;super.select(),h(this,Re)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Re),"hovered"),(n=this.parent)==null||n.drawLayer.addClass(h(this,Re),"selected"))}unselect(){var e;super.unselect(),h(this,Re)&&((e=this.parent)==null||e.drawLayer.removeClass(h(this,Re),"selected"),h(this,Wn)||b(this,It,Sp).call(this,!1))}get _mustFixPosition(){return!h(this,Wn)}show(e=this._isVisible){super.show(e),this.parent&&(this.parent.drawLayer.show(h(this,pn),e),this.parent.drawLayer.show(h(this,Re),e))}static startHighlighting(e,n,{target:o,x:a,y:l}){const{x:c,y:d,width:p,height:m}=o.getBoundingClientRect(),v=P=>{b(this,ci,$x).call(this,e,P)},y=e._signal,A={capture:!0,passive:!1,signal:y},S=P=>{P.preventDefault(),P.stopPropagation()},_=P=>{o.removeEventListener("pointermove",v),window.removeEventListener("blur",_),window.removeEventListener("pointerup",_),window.removeEventListener("pointerdown",S,A),window.removeEventListener("contextmenu",Ln),b(this,ci,Wx).call(this,e,P)};window.addEventListener("blur",_,{signal:y}),window.addEventListener("pointerup",_,{signal:y}),window.addEventListener("pointerdown",S,A),window.addEventListener("contextmenu",Ln,{signal:y}),o.addEventListener("pointermove",v,{signal:y}),this._freeHighlight=new Vp({x:a,y:l},[c,d,p,m],e.scale,this._defaultThickness/2,n,.001),{id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.highlight(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0)}static deserialize(e,n,o){var _;const a=super.deserialize(e,n,o),{rect:[l,c,d,p],color:m,quadPoints:v}=e;a.color=ft.makeHexColor(...m),x(a,Sa,e.opacity);const[y,A]=a.pageDimensions;a.width=(d-l)/y,a.height=(p-c)/A;const S=x(a,Kr,[]);for(let P=0;P<v.length;P+=8)S.push({x:(v[4]-d)/y,y:(p-(1-v[P+5]))/A,width:(v[P+2]-v[P])/y,height:(v[P+5]-v[P+1])/A});return b(_=a,It,$y).call(_),a}serialize(e=!1){if(this.isEmpty()||e)return null;const n=this.getRect(0,0),o=Xt._colorManager.convert(this.color);return{annotationType:jt.HIGHLIGHT,color:o,opacity:h(this,Sa),thickness:h(this,ts),quadPoints:b(this,It,Hx).call(this),outlines:b(this,It,Ux).call(this,n),pageIndex:this.pageIndex,rect:n,rotation:b(this,It,Lc).call(this),structTreeParentId:this._structTreeParentId}}static canCreateNewEmptyEditor(){return!1}};gu=new WeakMap,md=new WeakMap,Kr=new WeakMap,wa=new WeakMap,vu=new WeakMap,oi=new WeakMap,gd=new WeakMap,vd=new WeakMap,Aa=new WeakMap,Di=new WeakMap,pn=new WeakMap,Wn=new WeakMap,pm=new WeakMap,yu=new WeakMap,Sa=new WeakMap,Re=new WeakMap,wu=new WeakMap,ts=new WeakMap,yd=new WeakMap,It=new WeakSet,$y=function(){const e=new jy(h(this,Kr),.001);x(this,Di,e.getOutlines()),{x:this.x,y:this.y,width:this.width,height:this.height}=h(this,Di).box;const n=new jy(h(this,Kr),.0025,.001,this._uiManager.direction==="ltr");x(this,oi,n.getOutlines());const{lastPoint:o}=h(this,oi).box;x(this,yu,[(o[0]-this.x)/this.width,(o[1]-this.y)/this.height])},Wy=function({highlightOutlines:e,highlightId:n,clipPathId:o}){var v,y;if(x(this,Di,e),x(this,oi,e.getNewOutline(h(this,ts)/2+1.5,.0025)),n>=0)x(this,pn,n),x(this,wa,o),this.parent.drawLayer.finalizeLine(n,e),x(this,Re,this.parent.drawLayer.highlightOutline(h(this,oi)));else if(this.parent){const A=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(h(this,pn),e),this.parent.drawLayer.updateBox(h(this,pn),b(v=$t,ci,vl).call(v,h(this,Di).box,(A-this.rotation+360)%360)),this.parent.drawLayer.updateLine(h(this,Re),h(this,oi)),this.parent.drawLayer.updateBox(h(this,Re),b(y=$t,ci,vl).call(y,h(this,oi).box,A))}const{x:l,y:c,width:d,height:p}=e.box;switch(this.rotation){case 0:this.x=l,this.y=c,this.width=d,this.height=p;break;case 90:{const[A,S]=this.parentDimensions;this.x=c,this.y=1-l,this.width=d*S/A,this.height=p*A/S;break}case 180:this.x=1-l,this.y=1-c,this.width=d,this.height=p;break;case 270:{const[A,S]=this.parentDimensions;this.x=1-c,this.y=l,this.width=d*S/A,this.height=p*A/S;break}}const{lastPoint:m}=h(this,oi).box;x(this,yu,[(m[0]-l)/d,(m[1]-c)/p])},jx=function(e){const n=a=>{var l,c;this.color=a,(l=this.parent)==null||l.drawLayer.changeColor(h(this,pn),a),(c=h(this,vu))==null||c.updateColor(a)},o=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)},Vx=function(e){const n=h(this,ts),o=a=>{x(this,ts,a),b(this,It,Bx).call(this,a)};this.addCommands({cmd:o.bind(this,e),undo:o.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)},Bx=function(e){if(!h(this,Wn))return;b(this,It,Wy).call(this,{highlightOutlines:h(this,Di).getNewOutline(e/2)}),this.fixAndSetPosition();const[n,o]=this.parentDimensions;this.setDims(this.width*n,this.height*o)},Gy=function(){h(this,pn)===null||!this.parent||(this.parent.drawLayer.remove(h(this,pn)),x(this,pn,null),this.parent.drawLayer.remove(h(this,Re)),x(this,Re,null))},Rc=function(e=this.parent){h(this,pn)===null&&({id:On(this,pn)._,clipPathId:On(this,wa)._}=e.drawLayer.highlight(h(this,Di),this.color,h(this,Sa)),x(this,Re,e.drawLayer.highlightOutline(h(this,oi))),h(this,Aa)&&(h(this,Aa).style.clipPath=h(this,wa)))},ci=new WeakSet,vl=function({x:e,y:n,width:o,height:a},l){switch(l){case 90:return{x:1-n-a,y:e,width:a,height:o};case 180:return{x:1-e-o,y:1-n-a,width:o,height:a};case 270:return{x:n,y:1-e-o,width:a,height:o}}return{x:e,y:n,width:o,height:a}},zx=function(e){$t._keyboardManager.exec(this,e)},Sp=function(e){if(!h(this,gu))return;const n=window.getSelection();e?n.setPosition(h(this,gu),h(this,md)):n.setPosition(h(this,gd),h(this,vd))},Lc=function(){return h(this,Wn)?this.rotation:0},Hx=function(){if(h(this,Wn))return null;const[e,n]=this.pageDimensions,o=h(this,Kr),a=new Float32Array(o.length*8);let l=0;for(const{x:c,y:d,width:p,height:m}of o){const v=c*e,y=(1-d-m)*n;a[l]=a[l+4]=v,a[l+1]=a[l+3]=y,a[l+2]=a[l+6]=v+p*e,a[l+5]=a[l+7]=y+m*n,l+=8}return a},Ux=function(e){return h(this,Di).serialize(e,b(this,It,Lc).call(this))},$x=function(e,n){this._freeHighlight.add(n)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)},Wx=function(e,n){this._freeHighlight.isEmpty()?e.drawLayer.removeFreeHighlight(this._freeHighlightId):e.createAndAddNewEditor(n,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""},T($t,ci),Rt($t,"_defaultColor",null),Rt($t,"_defaultOpacity",1),Rt($t,"_defaultThickness",12),Rt($t,"_l10nPromise"),Rt($t,"_type","highlight"),Rt($t,"_editorType",jt.HIGHLIGHT),Rt($t,"_freeHighlightId",-1),Rt($t,"_freeHighlight",null),Rt($t,"_freeHighlightClipId","");let zp=$t;var Ea,_a,wd,Ad,Sd,xa,es,Ws,ai,ba,Ca,Gs,Ta,Pa,qr,it,Gx,Xx,Kx,qx,Ky,Yx,qy,Qx,Zx,Jx,tb,eb,Ro,Yy,Ep,_p,yl,Qy,xp,ar,nb,Zy,ib,sb,Jy,bp,Mc;const ue=class ue extends Xt{constructor(e){super({...e,name:"inkEditor"});T(this,it);T(this,Ea,0);T(this,_a,0);T(this,wd,this.canvasPointermove.bind(this));T(this,Ad,this.canvasPointerleave.bind(this));T(this,Sd,this.canvasPointerup.bind(this));T(this,xa,this.canvasPointerdown.bind(this));T(this,es,null);T(this,Ws,new Path2D);T(this,ai,!1);T(this,ba,!1);T(this,Ca,!1);T(this,Gs,null);T(this,Ta,0);T(this,Pa,0);T(this,qr,null);this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,n){Xt.initialize(e,n)}static updateDefaultParams(e,n){switch(e){case Pt.INK_THICKNESS:ue._defaultThickness=n;break;case Pt.INK_COLOR:ue._defaultColor=n;break;case Pt.INK_OPACITY:ue._defaultOpacity=n/100;break}}updateParams(e,n){switch(e){case Pt.INK_THICKNESS:b(this,it,Gx).call(this,n);break;case Pt.INK_COLOR:b(this,it,Xx).call(this,n);break;case Pt.INK_OPACITY:b(this,it,Kx).call(this,n);break}}static get defaultPropertiesToUpdate(){return[[Pt.INK_THICKNESS,ue._defaultThickness],[Pt.INK_COLOR,ue._defaultColor||Xt._defaultLineColor],[Pt.INK_OPACITY,Math.round(ue._defaultOpacity*100)]]}get propertiesToUpdate(){return[[Pt.INK_THICKNESS,this.thickness||ue._defaultThickness],[Pt.INK_COLOR,this.color||ue._defaultColor||Xt._defaultLineColor],[Pt.INK_OPACITY,Math.round(100*(this.opacity??ue._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),this.div!==null&&(this.canvas||(b(this,it,Ep).call(this),b(this,it,_p).call(this)),this.isAttachedToDOM||(this.parent.add(this),b(this,it,yl).call(this)),b(this,it,Mc).call(this)))}remove(){var e;this.canvas!==null&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,h(this,es)&&(clearTimeout(h(this,es)),x(this,es,null)),(e=h(this,Gs))==null||e.disconnect(),x(this,Gs,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&e===null&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,n]=this.parentDimensions,o=this.width*e,a=this.height*n;this.setDimensions(o,a)}enableEditMode(){h(this,ai)||this.canvas===null||(super.enableEditMode(),this._isDraggable=!1,this.canvas.addEventListener("pointerdown",h(this,xa),{signal:this._uiManager._signal}))}disableEditMode(){!this.isInEditMode()||this.canvas===null||(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),this.canvas.removeEventListener("pointerdown",h(this,xa)))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return this.paths.length===0||this.paths.length===1&&this.paths[0].length===0}commit(){h(this,ai)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),x(this,ai,!0),this.div.classList.add("disabled"),b(this,it,Mc).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){e.button!==0||!this.isInEditMode()||h(this,ai)||(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),b(this,it,Yx).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),b(this,it,qy).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),b(this,it,Yy).call(this,e)}canvasPointerleave(e){b(this,it,Yy).call(this,e)}get isResizable(){return!this.isEmpty()&&h(this,ai)}render(){if(this.div)return this.div;let e,n;this.width&&(e=this.x,n=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[o,a,l,c]=b(this,it,qx).call(this);if(this.setAt(o,a,0,0),this.setDims(l,c),b(this,it,Ep).call(this),this.width){const[d,p]=this.parentDimensions;this.setAspectRatio(this.width*d,this.height*p),this.setAt(e*d,n*p,this.width*d,this.height*p),x(this,Ca,!0),b(this,it,yl).call(this),this.setDims(this.width*d,this.height*p),b(this,it,Ro).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return b(this,it,_p).call(this),this.div}setDimensions(e,n){const o=Math.round(e),a=Math.round(n);if(h(this,Ta)===o&&h(this,Pa)===a)return;x(this,Ta,o),x(this,Pa,a),this.canvas.style.visibility="hidden";const[l,c]=this.parentDimensions;this.width=e/l,this.height=n/c,this.fixAndSetPosition(),h(this,ai)&&b(this,it,Qy).call(this,e,n),b(this,it,yl).call(this),b(this,it,Ro).call(this),this.canvas.style.visibility="visible",this.fixDims()}static deserialize(e,n,o){var P,C,R;if(e instanceof _x)return null;const a=super.deserialize(e,n,o);a.thickness=e.thickness,a.color=ft.makeHexColor(...e.color),a.opacity=e.opacity;const[l,c]=a.pageDimensions,d=a.width*l,p=a.height*c,m=a.parentScale,v=e.thickness/2;x(a,ai,!0),x(a,Ta,Math.round(d)),x(a,Pa,Math.round(p));const{paths:y,rect:A,rotation:S}=e;for(let{bezier:M}of y){M=b(P=ue,ar,ib).call(P,M,A,S);const F=[];a.paths.push(F);let O=m*(M[0]-v),V=m*(M[1]-v);for(let H=2,Y=M.length;H<Y;H+=6){const et=m*(M[H]-v),tt=m*(M[H+1]-v),_t=m*(M[H+2]-v),pt=m*(M[H+3]-v),ht=m*(M[H+4]-v),xt=m*(M[H+5]-v);F.push([[O,V],[et,tt],[_t,pt],[ht,xt]]),O=ht,V=xt}const W=b(this,ar,nb).call(this,F);a.bezierPath2D.push(W)}const _=b(C=a,it,Jy).call(C);return x(a,_a,Math.max(Xt.MIN_SIZE,_[2]-_[0])),x(a,Ea,Math.max(Xt.MIN_SIZE,_[3]-_[1])),b(R=a,it,Qy).call(R,d,p),a}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),n=Xt._colorManager.convert(this.ctx.strokeStyle);return{annotationType:jt.INK,color:n,thickness:this.thickness,opacity:this.opacity,paths:b(this,it,sb).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}};Ea=new WeakMap,_a=new WeakMap,wd=new WeakMap,Ad=new WeakMap,Sd=new WeakMap,xa=new WeakMap,es=new WeakMap,Ws=new WeakMap,ai=new WeakMap,ba=new WeakMap,Ca=new WeakMap,Gs=new WeakMap,Ta=new WeakMap,Pa=new WeakMap,qr=new WeakMap,it=new WeakSet,Gx=function(e){const n=a=>{this.thickness=a,b(this,it,Mc).call(this)},o=this.thickness;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})},Xx=function(e){const n=a=>{this.color=a,b(this,it,Ro).call(this)},o=this.color;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})},Kx=function(e){const n=a=>{this.opacity=a,b(this,it,Ro).call(this)};e/=100;const o=this.opacity;this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,o),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:Pt.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})},qx=function(){const{parentRotation:e,parentDimensions:[n,o]}=this;switch(e){case 90:return[0,o,o,n];case 180:return[n,o,n,o];case 270:return[n,0,o,n];default:return[0,0,n,o]}},Ky=function(){const{ctx:e,color:n,opacity:o,thickness:a,parentScale:l,scaleFactor:c}=this;e.lineWidth=a*l/c,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle=`${n}${Wk(o)}`},Yx=function(e,n){const o=this._uiManager._signal;this.canvas.addEventListener("contextmenu",Ln,{signal:o}),this.canvas.addEventListener("pointerleave",h(this,Ad),{signal:o}),this.canvas.addEventListener("pointermove",h(this,wd),{signal:o}),this.canvas.addEventListener("pointerup",h(this,Sd),{signal:o}),this.canvas.removeEventListener("pointerdown",h(this,xa)),this.isEditing=!0,h(this,Ca)||(x(this,Ca,!0),b(this,it,yl).call(this),this.thickness||(this.thickness=ue._defaultThickness),this.color||(this.color=ue._defaultColor||Xt._defaultLineColor),this.opacity??(this.opacity=ue._defaultOpacity)),this.currentPath.push([e,n]),x(this,ba,!1),b(this,it,Ky).call(this),x(this,qr,()=>{b(this,it,Jx).call(this),h(this,qr)&&window.requestAnimationFrame(h(this,qr))}),window.requestAnimationFrame(h(this,qr))},qy=function(e,n){const[o,a]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===o&&n===a)return;const l=this.currentPath;let c=h(this,Ws);if(l.push([e,n]),x(this,ba,!0),l.length<=2){c.moveTo(...l[0]),c.lineTo(e,n);return}l.length===3&&(x(this,Ws,c=new Path2D),c.moveTo(...l[0])),b(this,it,tb).call(this,c,...l.at(-3),...l.at(-2),e,n)},Qx=function(){if(this.currentPath.length===0)return;const e=this.currentPath.at(-1);h(this,Ws).lineTo(...e)},Zx=function(e,n){x(this,qr,null),e=Math.min(Math.max(e,0),this.canvas.width),n=Math.min(Math.max(n,0),this.canvas.height),b(this,it,qy).call(this,e,n),b(this,it,Qx).call(this);let o;if(this.currentPath.length!==1)o=b(this,it,eb).call(this);else{const p=[e,n];o=[[p,p.slice(),p.slice(),p]]}const a=h(this,Ws),l=this.currentPath;this.currentPath=[],x(this,Ws,new Path2D);const c=()=>{this.allRawPaths.push(l),this.paths.push(o),this.bezierPath2D.push(a),this._uiManager.rebuild(this)},d=()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),this.paths.length===0?this.remove():(this.canvas||(b(this,it,Ep).call(this),b(this,it,_p).call(this)),b(this,it,Mc).call(this))};this.addCommands({cmd:c,undo:d,mustExec:!0})},Jx=function(){if(!h(this,ba))return;x(this,ba,!1);const e=Math.ceil(this.thickness*this.parentScale),n=this.currentPath.slice(-3),o=n.map(c=>c[0]),a=n.map(c=>c[1]);Math.min(...o)-e,Math.max(...o)+e,Math.min(...a)-e,Math.max(...a)+e;const{ctx:l}=this;l.save(),l.clearRect(0,0,this.canvas.width,this.canvas.height);for(const c of this.bezierPath2D)l.stroke(c);l.stroke(h(this,Ws)),l.restore()},tb=function(e,n,o,a,l,c,d){const p=(n+a)/2,m=(o+l)/2,v=(a+c)/2,y=(l+d)/2;e.bezierCurveTo(p+2*(a-p)/3,m+2*(l-m)/3,v+2*(a-v)/3,y+2*(l-y)/3,v,y)},eb=function(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const n=[];let o,[a,l]=e[0];for(o=1;o<e.length-2;o++){const[A,S]=e[o],[_,P]=e[o+1],C=(A+_)/2,R=(S+P)/2,M=[a+2*(A-a)/3,l+2*(S-l)/3],F=[C+2*(A-C)/3,R+2*(S-R)/3];n.push([[a,l],M,F,[C,R]]),[a,l]=[C,R]}const[c,d]=e[o],[p,m]=e[o+1],v=[a+2*(c-a)/3,l+2*(d-l)/3],y=[p+2*(c-p)/3,m+2*(d-m)/3];return n.push([[a,l],v,y,[p,m]]),n},Ro=function(){if(this.isEmpty()){b(this,it,xp).call(this);return}b(this,it,Ky).call(this);const{canvas:e,ctx:n}=this;n.setTransform(1,0,0,1,0,0),n.clearRect(0,0,e.width,e.height),b(this,it,xp).call(this);for(const o of this.bezierPath2D)n.stroke(o)},Yy=function(e){this.canvas.removeEventListener("pointerleave",h(this,Ad)),this.canvas.removeEventListener("pointermove",h(this,wd)),this.canvas.removeEventListener("pointerup",h(this,Sd)),this.canvas.addEventListener("pointerdown",h(this,xa),{signal:this._uiManager._signal}),h(this,es)&&clearTimeout(h(this,es)),x(this,es,setTimeout(()=>{x(this,es,null),this.canvas.removeEventListener("contextmenu",Ln)},10)),b(this,it,Zx).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()},Ep=function(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")},_p=function(){x(this,Gs,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&this.setDimensions(n.width,n.height)})),h(this,Gs).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Gs))==null||e.disconnect(),x(this,Gs,null)},{once:!0})},yl=function(){if(!h(this,Ca))return;const[e,n]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*n),b(this,it,xp).call(this)},Qy=function(e,n){const o=b(this,it,bp).call(this),a=(e-o)/h(this,_a),l=(n-o)/h(this,Ea);this.scaleFactor=Math.min(a,l)},xp=function(){const e=b(this,it,bp).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)},ar=new WeakSet,nb=function(e){const n=new Path2D;for(let o=0,a=e.length;o<a;o++){const[l,c,d,p]=e[o];o===0&&n.moveTo(...l),n.bezierCurveTo(c[0],c[1],d[0],d[1],p[0],p[1])}return n},Zy=function(e,n,o){const[a,l,c,d]=n;switch(o){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]+=a,e[p+1]=d-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]+a,e[p+1]=v+l}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=c-e[p],e[p+1]+=l;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=c-e[p+1],e[p+1]=d-v}break;default:throw new Error("Invalid rotation")}return e},ib=function(e,n,o){const[a,l,c,d]=n;switch(o){case 0:for(let p=0,m=e.length;p<m;p+=2)e[p]-=a,e[p+1]=d-e[p+1];break;case 90:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=e[p+1]-l,e[p+1]=v-a}break;case 180:for(let p=0,m=e.length;p<m;p+=2)e[p]=c-e[p],e[p+1]-=l;break;case 270:for(let p=0,m=e.length;p<m;p+=2){const v=e[p];e[p]=d-e[p+1],e[p+1]=c-v}break;default:throw new Error("Invalid rotation")}return e},sb=function(e,n,o,a){var m,v;const l=[],c=this.thickness/2,d=e*n+c,p=e*o+c;for(const y of this.paths){const A=[],S=[];for(let _=0,P=y.length;_<P;_++){const[C,R,M,F]=y[_];if(C[0]===F[0]&&C[1]===F[1]&&P===1){const pt=e*C[0]+d,ht=e*C[1]+p;A.push(pt,ht),S.push(pt,ht);break}const O=e*C[0]+d,V=e*C[1]+p,W=e*R[0]+d,H=e*R[1]+p,Y=e*M[0]+d,et=e*M[1]+p,tt=e*F[0]+d,_t=e*F[1]+p;_===0&&(A.push(O,V),S.push(O,V)),A.push(W,H,Y,et,tt,_t),S.push(W,H),_===P-1&&S.push(tt,_t)}l.push({bezier:b(m=ue,ar,Zy).call(m,A,a,this.rotation),points:b(v=ue,ar,Zy).call(v,S,a,this.rotation)})}return l},Jy=function(){let e=1/0,n=-1/0,o=1/0,a=-1/0;for(const l of this.paths)for(const[c,d,p,m]of l){const v=ft.bezierBoundingBox(...c,...d,...p,...m);e=Math.min(e,v[0]),o=Math.min(o,v[1]),n=Math.max(n,v[2]),a=Math.max(a,v[3])}return[e,o,n,a]},bp=function(){return h(this,ai)?Math.ceil(this.thickness*this.parentScale):0},Mc=function(e=!1){if(this.isEmpty())return;if(!h(this,ai)){b(this,it,Ro).call(this);return}const n=b(this,it,Jy).call(this),o=b(this,it,bp).call(this);x(this,_a,Math.max(Xt.MIN_SIZE,n[2]-n[0])),x(this,Ea,Math.max(Xt.MIN_SIZE,n[3]-n[1]));const a=Math.ceil(o+h(this,_a)*this.scaleFactor),l=Math.ceil(o+h(this,Ea)*this.scaleFactor),[c,d]=this.parentDimensions;this.width=a/c,this.height=l/d,this.setAspectRatio(a,l);const p=this.translationX,m=this.translationY;this.translationX=-n[0],this.translationY=-n[1],b(this,it,yl).call(this),b(this,it,Ro).call(this),x(this,Ta,a),x(this,Pa,l),this.setDims(a,l);const v=e?o/this.scaleFactor/2:0;this.translate(p-this.translationX-v,m-this.translationY-v)},T(ue,ar),Rt(ue,"_defaultColor",null),Rt(ue,"_defaultOpacity",1),Rt(ue,"_defaultThickness",1),Rt(ue,"_type","ink"),Rt(ue,"_editorType",jt.INK);let Xy=ue;var Xe,Ke,Yr,Xs,Qr,Au,ns,Ks,is,Ii,Ed,Ht,Dc,Ic,Cp,e0,rb,ob,n0,Tp,ab;const Hc=class Hc extends Xt{constructor(e){super({...e,name:"stampEditor"});T(this,Ht);T(this,Xe,null);T(this,Ke,null);T(this,Yr,null);T(this,Xs,null);T(this,Qr,null);T(this,Au,"");T(this,ns,null);T(this,Ks,null);T(this,is,null);T(this,Ii,!1);T(this,Ed,!1);x(this,Xs,e.bitmapUrl),x(this,Qr,e.bitmapFile)}static initialize(e,n){Xt.initialize(e,n)}static get supportedTypes(){return Bt(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map(n=>`image/${n}`))}static get supportedTypesStr(){return Bt(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,n){n.pasteEditor(jt.STAMP,{bitmapFile:e.getAsFile()})}remove(){var e,n;h(this,Ke)&&(x(this,Xe,null),this._uiManager.imageManager.deleteId(h(this,Ke)),(e=h(this,ns))==null||e.remove(),x(this,ns,null),(n=h(this,Ks))==null||n.disconnect(),x(this,Ks,null),h(this,is)&&(clearTimeout(h(this,is)),x(this,is,null))),super.remove()}rebuild(){if(!this.parent){h(this,Ke)&&b(this,Ht,Cp).call(this);return}super.rebuild(),this.div!==null&&(h(this,Ke)&&h(this,ns)===null&&b(this,Ht,Cp).call(this),this.isAttachedToDOM||this.parent.add(this))}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(h(this,Yr)||h(this,Xe)||h(this,Xs)||h(this,Qr)||h(this,Ke))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,n;if(this.width&&(e=this.x,n=this.y),super.render(),this.div.hidden=!0,this.addAltTextButton(),h(this,Xe)?b(this,Ht,e0).call(this):b(this,Ht,Cp).call(this),this.width){const[o,a]=this.parentDimensions;this.setAt(e*o,n*a,this.width*o,this.height*a)}return this.div}getImageForAltText(){return h(this,ns)}static deserialize(e,n,o){if(e instanceof xx)return null;const a=super.deserialize(e,n,o),{rect:l,bitmapUrl:c,bitmapId:d,isSvg:p,accessibilityData:m}=e;d&&o.imageManager.isValidId(d)?x(a,Ke,d):x(a,Xs,c),x(a,Ii,p);const[v,y]=a.pageDimensions;return a.width=(l[2]-l[0])/v,a.height=(l[3]-l[1])/y,m&&(a.altTextData=m),a}serialize(e=!1,n=null){if(this.isEmpty())return null;const o={annotationType:jt.STAMP,bitmapId:h(this,Ke),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:h(this,Ii),structTreeParentId:this._structTreeParentId};if(e)return o.bitmapUrl=b(this,Ht,Tp).call(this,!0),o.accessibilityData=this.altTextData,o;const{decorative:a,altText:l}=this.altTextData;if(!a&&l&&(o.accessibilityData={type:"Figure",alt:l}),n===null)return o;n.stamps||(n.stamps=new Map);const c=h(this,Ii)?(o.rect[2]-o.rect[0])*(o.rect[3]-o.rect[1]):null;if(!n.stamps.has(h(this,Ke)))n.stamps.set(h(this,Ke),{area:c,serialized:o}),o.bitmap=b(this,Ht,Tp).call(this,!1);else if(h(this,Ii)){const d=n.stamps.get(h(this,Ke));c>d.area&&(d.area=c,d.serialized.bitmap.close(),d.serialized.bitmap=b(this,Ht,Tp).call(this,!1))}return o}};Xe=new WeakMap,Ke=new WeakMap,Yr=new WeakMap,Xs=new WeakMap,Qr=new WeakMap,Au=new WeakMap,ns=new WeakMap,Ks=new WeakMap,is=new WeakMap,Ii=new WeakMap,Ed=new WeakMap,Ht=new WeakSet,Dc=function(e,n=!1){if(!e){this.remove();return}x(this,Xe,e.bitmap),n||(x(this,Ke,e.id),x(this,Ii,e.isSvg)),e.file&&x(this,Au,e.file.name),b(this,Ht,e0).call(this)},Ic=function(){x(this,Yr,null),this._uiManager.enableWaiting(!1),h(this,ns)&&this.div.focus()},Cp=function(){if(h(this,Ke)){this._uiManager.enableWaiting(!0),this._uiManager.imageManager.getFromId(h(this,Ke)).then(o=>b(this,Ht,Dc).call(this,o,!0)).finally(()=>b(this,Ht,Ic).call(this));return}if(h(this,Xs)){const o=h(this,Xs);x(this,Xs,null),this._uiManager.enableWaiting(!0),x(this,Yr,this._uiManager.imageManager.getFromUrl(o).then(a=>b(this,Ht,Dc).call(this,a)).finally(()=>b(this,Ht,Ic).call(this)));return}if(h(this,Qr)){const o=h(this,Qr);x(this,Qr,null),this._uiManager.enableWaiting(!0),x(this,Yr,this._uiManager.imageManager.getFromFile(o).then(a=>b(this,Ht,Dc).call(this,a)).finally(()=>b(this,Ht,Ic).call(this)));return}const e=document.createElement("input");e.type="file",e.accept=Hc.supportedTypesStr;const n=this._uiManager._signal;x(this,Yr,new Promise(o=>{e.addEventListener("change",async()=>{if(!e.files||e.files.length===0)this.remove();else{this._uiManager.enableWaiting(!0);const a=await this._uiManager.imageManager.getFromFile(e.files[0]);b(this,Ht,Dc).call(this,a)}o()},{signal:n}),e.addEventListener("cancel",()=>{this.remove(),o()},{signal:n})}).finally(()=>b(this,Ht,Ic).call(this))),e.click()},e0=function(){const{div:e}=this;let{width:n,height:o}=h(this,Xe);const[a,l]=this.pageDimensions,c=.75;if(this.width)n=this.width*a,o=this.height*l;else if(n>c*a||o>c*l){const v=Math.min(c*a/n,c*l/o);n*=v,o*=v}const[d,p]=this.parentDimensions;this.setDims(n*d/a,o*p/l),this._uiManager.enableWaiting(!1);const m=x(this,ns,document.createElement("canvas"));e.append(m),e.hidden=!1,b(this,Ht,n0).call(this,n,o),b(this,Ht,ab).call(this),h(this,Ed)||(this.parent.addUndoableEditor(this),x(this,Ed,!0)),this._reportTelemetry({action:"inserted_image"}),h(this,Au)&&m.setAttribute("aria-label",h(this,Au))},rb=function(e,n){var c;const[o,a]=this.parentDimensions;this.width=e/o,this.height=n/a,this.setDims(e,n),(c=this._initialOptions)!=null&&c.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,h(this,is)!==null&&clearTimeout(h(this,is)),x(this,is,setTimeout(()=>{x(this,is,null),b(this,Ht,n0).call(this,e,n)},200))},ob=function(e,n){const{width:o,height:a}=h(this,Xe);let l=o,c=a,d=h(this,Xe);for(;l>2*e||c>2*n;){const p=l,m=c;l>2*e&&(l=l>=16384?Math.floor(l/2)-1:Math.ceil(l/2)),c>2*n&&(c=c>=16384?Math.floor(c/2)-1:Math.ceil(c/2));const v=new OffscreenCanvas(l,c);v.getContext("2d").drawImage(d,0,0,p,m,0,0,l,c),d=v.transferToImageBitmap()}return d},n0=function(e,n){e=Math.ceil(e),n=Math.ceil(n);const o=h(this,ns);if(!o||o.width===e&&o.height===n)return;o.width=e,o.height=n;const a=h(this,Ii)?h(this,Xe):b(this,Ht,ob).call(this,e,n);if(this._uiManager.hasMLManager&&!this.hasAltText()){const d=new OffscreenCanvas(e,n).getContext("2d");d.drawImage(a,0,0,a.width,a.height,0,0,e,n),this._uiManager.mlGuess({service:"image-to-text",request:{data:d.getImageData(0,0,e,n).data,width:e,height:n,channels:4}}).then(p=>{const m=(p==null?void 0:p.output)||"";this.parent&&m&&!this.hasAltText()&&(this.altTextData={altText:m,decorative:!1})})}const l=o.getContext("2d");l.filter=this._uiManager.hcmFilter,l.drawImage(a,0,0,a.width,a.height,0,0,e,n)},Tp=function(e){if(e){if(h(this,Ii)){const a=this._uiManager.imageManager.getSvgUrl(h(this,Ke));if(a)return a}const n=document.createElement("canvas");return{width:n.width,height:n.height}=h(this,Xe),n.getContext("2d").drawImage(h(this,Xe),0,0),n.toDataURL()}if(h(this,Ii)){const[n,o]=this.pageDimensions,a=Math.round(this.width*n*io.PDF_TO_CSS_UNITS),l=Math.round(this.height*o*io.PDF_TO_CSS_UNITS),c=new OffscreenCanvas(a,l);return c.getContext("2d").drawImage(h(this,Xe),0,0,h(this,Xe).width,h(this,Xe).height,0,0,a,l),c.transferToImageBitmap()}return structuredClone(h(this,Xe))},ab=function(){this._uiManager._signal&&(x(this,Ks,new ResizeObserver(e=>{const n=e[0].contentRect;n.width&&n.height&&b(this,Ht,rb).call(this,n.width,n.height)})),h(this,Ks).observe(this.div),this._uiManager._signal.addEventListener("abort",()=>{var e;(e=h(this,Ks))==null||e.disconnect(),x(this,Ks,null)},{once:!0}))},Rt(Hc,"_type","stamp"),Rt(Hc,"_editorType",jt.STAMP);let t0=Hc;var ka,Su,ss,Ra,qs,Ys,Qs,Gn,Zr,Eu,_u,mn,mt,Jr,Ye,lb,s0,r0,o0,Pp;const Ai=class Ai{constructor({uiManager:t,pageIndex:e,div:n,accessibilityManager:o,annotationLayer:a,drawLayer:l,textLayer:c,viewport:d,l10n:p}){T(this,Ye);T(this,ka);T(this,Su,!1);T(this,ss,null);T(this,Ra,null);T(this,qs,null);T(this,Ys,null);T(this,Qs,null);T(this,Gn,new Map);T(this,Zr,!1);T(this,Eu,!1);T(this,_u,!1);T(this,mn,null);T(this,mt);const m=[...h(Ai,Jr).values()];if(!Ai._initialized){Ai._initialized=!0;for(const v of m)v.initialize(p,t)}t.registerEditorTypes(m),x(this,mt,t),this.pageIndex=e,this.div=n,x(this,ka,o),x(this,ss,a),this.viewport=d,x(this,mn,c),this.drawLayer=l,h(this,mt).addLayer(this)}get isEmpty(){return h(this,Gn).size===0}get isInvisible(){return this.isEmpty&&h(this,mt).getMode()===jt.NONE}updateToolbar(t){h(this,mt).updateToolbar(t)}updateMode(t=h(this,mt).getMode()){switch(b(this,Ye,Pp).call(this),t){case jt.NONE:this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),this.disableClick();return;case jt.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case jt.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:e}=this.div;for(const n of h(Ai,Jr).values())e.toggle(`${n._type}Editing`,t===n._editorType);this.div.hidden=!1}hasTextLayer(t){var e;return t===((e=h(this,mn))==null?void 0:e.div)}addInkEditorIfNeeded(t){if(h(this,mt).getMode()!==jt.INK)return;if(!t){for(const n of h(this,Gn).values())if(n.isEmpty()){n.setInBackground();return}}this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(t){h(this,mt).setEditingState(t)}addCommands(t){h(this,mt).addCommands(t)}togglePointerEvents(t=!1){this.div.classList.toggle("disabled",!t)}toggleAnnotationLayerPointerEvents(t=!1){var e;(e=h(this,ss))==null||e.div.classList.toggle("disabled",!t)}enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const t=new Set;for(const n of h(this,Gn).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(h(this,mt).removeChangedExistingAnnotation(n),t.add(n.annotationElementId));if(!h(this,ss))return;const e=h(this,ss).getEditableAnnotations();for(const n of e){if(n.hide(),h(this,mt).isDeletedAnnotationElement(n.data.id)||t.has(n.data.id))continue;const o=this.deserialize(n);o&&(this.addOrRebuild(o),o.enableEditing())}}disable(){var o;x(this,_u,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const t=new Map,e=new Map;for(const a of h(this,Gn).values())if(a.disableEditing(),!!a.annotationElementId){if(a.serialize()!==null){t.set(a.annotationElementId,a);continue}else e.set(a.annotationElementId,a);(o=this.getEditableAnnotation(a.annotationElementId))==null||o.show(),a.remove()}if(h(this,ss)){const a=h(this,ss).getEditableAnnotations();for(const l of a){const{id:c}=l.data;if(h(this,mt).isDeletedAnnotationElement(c))continue;let d=e.get(c);if(d){d.resetAnnotationElement(l),d.show(!1),l.show();continue}d=t.get(c),d&&(h(this,mt).addChangedExistingAnnotation(d),d.renderAnnotationElement(l),d.show(!1)),l.show()}}b(this,Ye,Pp).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:n}=this.div;for(const a of h(Ai,Jr).values())n.remove(`${a._type}Editing`);this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),x(this,_u,!1)}getEditableAnnotation(t){var e;return((e=h(this,ss))==null?void 0:e.getEditableAnnotation(t))||null}setActiveEditor(t){h(this,mt).getActive()!==t&&h(this,mt).setActiveEditor(t)}enableTextSelection(){var t;this.div.tabIndex=-1,(t=h(this,mn))!=null&&t.div&&!h(this,Ys)&&(x(this,Ys,b(this,Ye,lb).bind(this)),h(this,mn).div.addEventListener("pointerdown",h(this,Ys),{signal:h(this,mt)._signal}),h(this,mn).div.classList.add("highlighting"))}disableTextSelection(){var t;this.div.tabIndex=0,(t=h(this,mn))!=null&&t.div&&h(this,Ys)&&(h(this,mn).div.removeEventListener("pointerdown",h(this,Ys)),x(this,Ys,null),h(this,mn).div.classList.remove("highlighting"))}enableClick(){if(h(this,qs))return;const t=h(this,mt)._signal;x(this,qs,this.pointerdown.bind(this)),x(this,Ra,this.pointerup.bind(this)),this.div.addEventListener("pointerdown",h(this,qs),{signal:t}),this.div.addEventListener("pointerup",h(this,Ra),{signal:t})}disableClick(){h(this,qs)&&(this.div.removeEventListener("pointerdown",h(this,qs)),this.div.removeEventListener("pointerup",h(this,Ra)),x(this,qs,null),x(this,Ra,null))}attach(t){h(this,Gn).set(t.id,t);const{annotationElementId:e}=t;e&&h(this,mt).isDeletedAnnotationElement(e)&&h(this,mt).removeDeletedAnnotationElement(t)}detach(t){var e;h(this,Gn).delete(t.id),(e=h(this,ka))==null||e.removePointerInTextLayer(t.contentDiv),!h(this,_u)&&t.annotationElementId&&h(this,mt).addDeletedAnnotationElement(t)}remove(t){this.detach(t),h(this,mt).removeEditor(t),t.div.remove(),t.isAttachedToDOM=!1,h(this,Eu)||this.addInkEditorIfNeeded(!1)}changeParent(t){var e;t.parent!==this&&(t.parent&&t.annotationElementId&&(h(this,mt).addDeletedAnnotationElement(t.annotationElementId),Xt.deleteAnnotationElement(t),t.annotationElementId=null),this.attach(t),(e=t.parent)==null||e.detach(t),t.setParent(this),t.div&&t.isAttachedToDOM&&(t.div.remove(),this.div.append(t.div)))}add(t){if(!(t.parent===this&&t.isAttachedToDOM)){if(this.changeParent(t),h(this,mt).addEditor(t),this.attach(t),!t.isAttachedToDOM){const e=t.render();this.div.append(e),t.isAttachedToDOM=!0}t.fixAndSetPosition(),t.onceAdded(),h(this,mt).addToAnnotationStorage(t),t._reportTelemetry(t.telemetryInitialData)}}moveEditorInDOM(t){var n;if(!t.isAttachedToDOM)return;const{activeElement:e}=document;t.div.contains(e)&&!h(this,Qs)&&(t._focusEventsAllowed=!1,x(this,Qs,setTimeout(()=>{x(this,Qs,null),t.div.contains(document.activeElement)?t._focusEventsAllowed=!0:(t.div.addEventListener("focusin",()=>{t._focusEventsAllowed=!0},{once:!0,signal:h(this,mt)._signal}),e.focus())},0))),t._structTreeParentId=(n=h(this,ka))==null?void 0:n.moveElementInDOM(this.div,t.div,t.contentDiv,!0)}addOrRebuild(t){t.needsToBeRebuilt()?(t.parent||(t.parent=this),t.rebuild(),t.show()):this.add(t)}addUndoableEditor(t){const e=()=>t._uiManager.rebuild(t),n=()=>{t.remove()};this.addCommands({cmd:e,undo:n,mustExec:!1})}getNextId(){return h(this,mt).getId()}get _signal(){return h(this,mt)._signal}canCreateNewEmptyEditor(){var t;return(t=h(this,Ye,s0))==null?void 0:t.canCreateNewEmptyEditor()}pasteEditor(t,e){h(this,mt).updateToolbar(t),h(this,mt).updateMode(t);const{offsetX:n,offsetY:o}=b(this,Ye,o0).call(this),a=this.getNextId(),l=b(this,Ye,r0).call(this,{parent:this,id:a,x:n,y:o,uiManager:h(this,mt),isCentered:!0,...e});l&&this.add(l)}deserialize(t){var e;return((e=h(Ai,Jr).get(t.annotationType??t.annotationEditorType))==null?void 0:e.deserialize(t,this,h(this,mt)))||null}createAndAddNewEditor(t,e,n={}){const o=this.getNextId(),a=b(this,Ye,r0).call(this,{parent:this,id:o,x:t.offsetX,y:t.offsetY,uiManager:h(this,mt),isCentered:e,...n});return a&&this.add(a),a}addNewEditor(){this.createAndAddNewEditor(b(this,Ye,o0).call(this),!0)}setSelected(t){h(this,mt).setSelected(t)}toggleSelected(t){h(this,mt).toggleSelected(t)}isSelected(t){return h(this,mt).isSelected(t)}unselect(t){h(this,mt).unselect(t)}pointerup(t){const{isMac:e}=kn.platform;if(!(t.button!==0||t.ctrlKey&&e)&&t.target===this.div&&h(this,Zr)){if(x(this,Zr,!1),!h(this,Su)){x(this,Su,!0);return}if(h(this,mt).getMode()===jt.STAMP){h(this,mt).unselectAll();return}this.createAndAddNewEditor(t,!1)}}pointerdown(t){if(h(this,mt).getMode()===jt.HIGHLIGHT&&this.enableTextSelection(),h(this,Zr)){x(this,Zr,!1);return}const{isMac:e}=kn.platform;if(t.button!==0||t.ctrlKey&&e||t.target!==this.div)return;x(this,Zr,!0);const n=h(this,mt).getActive();x(this,Su,!n||n.isEmpty())}findNewParent(t,e,n){const o=h(this,mt).findParent(e,n);return o===null||o===this?!1:(o.changeParent(t),!0)}destroy(){var t,e;((t=h(this,mt).getActive())==null?void 0:t.parent)===this&&(h(this,mt).commitOrRemove(),h(this,mt).setActiveEditor(null)),h(this,Qs)&&(clearTimeout(h(this,Qs)),x(this,Qs,null));for(const n of h(this,Gn).values())(e=h(this,ka))==null||e.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove();this.div=null,h(this,Gn).clear(),h(this,mt).removeLayer(this)}render({viewport:t}){this.viewport=t,Da(this.div,t);for(const e of h(this,mt).getEditors(this.pageIndex))this.add(e),e.rebuild();this.updateMode()}update({viewport:t}){h(this,mt).commitOrRemove(),b(this,Ye,Pp).call(this);const e=this.viewport.rotation,n=t.rotation;if(this.viewport=t,Da(this.div,{rotation:n}),e!==n)for(const o of h(this,Gn).values())o.rotate(n);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:t,pageHeight:e}=this.viewport.rawDims;return[t,e]}get scale(){return h(this,mt).viewParameters.realScale}};ka=new WeakMap,Su=new WeakMap,ss=new WeakMap,Ra=new WeakMap,qs=new WeakMap,Ys=new WeakMap,Qs=new WeakMap,Gn=new WeakMap,Zr=new WeakMap,Eu=new WeakMap,_u=new WeakMap,mn=new WeakMap,mt=new WeakMap,Jr=new WeakMap,Ye=new WeakSet,lb=function(t){if(h(this,mt).unselectAll(),t.target===h(this,mn).div){const{isMac:e}=kn.platform;if(t.button!==0||t.ctrlKey&&e)return;h(this,mt).showAllEditors("highlight",!0,!0),h(this,mn).div.classList.add("free"),zp.startHighlighting(this,h(this,mt).direction==="ltr",t),h(this,mn).div.addEventListener("pointerup",()=>{h(this,mn).div.classList.remove("free")},{once:!0,signal:h(this,mt)._signal}),t.preventDefault()}},s0=function(){return h(Ai,Jr).get(h(this,mt).getMode())},r0=function(t){const e=h(this,Ye,s0);return e?new e.prototype.constructor(t):null},o0=function(){const{x:t,y:e,width:n,height:o}=this.div.getBoundingClientRect(),a=Math.max(0,t),l=Math.max(0,e),c=Math.min(window.innerWidth,t+n),d=Math.min(window.innerHeight,e+o),p=(a+c)/2-t,m=(l+d)/2-e,[v,y]=this.viewport.rotation%180===0?[p,m]:[m,p];return{offsetX:v,offsetY:y}},Pp=function(){x(this,Eu,!0);for(const t of h(this,Gn).values())t.isEmpty()&&t.remove();x(this,Eu,!1)},Rt(Ai,"_initialized",!1),T(Ai,Jr,new Map([Oy,Xy,t0,zp].map(t=>[t._editorType,t])));let i0=Ai;var rs,_d,Le,to,xd,l0,ja,u0,ub;const He=class He{constructor({pageIndex:t}){T(this,ja);T(this,rs,null);T(this,_d,0);T(this,Le,new Map);T(this,to,new Map);this.pageIndex=t}setParent(t){if(!h(this,rs)){x(this,rs,t);return}if(h(this,rs)!==t){if(h(this,Le).size>0)for(const e of h(this,Le).values())e.remove(),t.append(e);x(this,rs,t)}}static get _svgFactory(){return Bt(this,"_svgFactory",new D0)}highlight(t,e,n,o=!1){const a=On(this,_d)._++,l=b(this,ja,u0).call(this,t.box);l.classList.add("highlight"),t.free&&l.classList.add("free");const c=He._svgFactory.createElement("defs");l.append(c);const d=He._svgFactory.createElement("path");c.append(d);const p=`path_p${this.pageIndex}_${a}`;d.setAttribute("id",p),d.setAttribute("d",t.toSVGPath()),o&&h(this,to).set(a,d);const m=b(this,ja,ub).call(this,c,p),v=He._svgFactory.createElement("use");return l.append(v),l.setAttribute("fill",e),l.setAttribute("fill-opacity",n),v.setAttribute("href",`#${p}`),h(this,Le).set(a,l),{id:a,clipPathId:`url(#${m})`}}highlightOutline(t){const e=On(this,_d)._++,n=b(this,ja,u0).call(this,t.box);n.classList.add("highlightOutline");const o=He._svgFactory.createElement("defs");n.append(o);const a=He._svgFactory.createElement("path");o.append(a);const l=`path_p${this.pageIndex}_${e}`;a.setAttribute("id",l),a.setAttribute("d",t.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke");let c;if(t.free){n.classList.add("free");const m=He._svgFactory.createElement("mask");o.append(m),c=`mask_p${this.pageIndex}_${e}`,m.setAttribute("id",c),m.setAttribute("maskUnits","objectBoundingBox");const v=He._svgFactory.createElement("rect");m.append(v),v.setAttribute("width","1"),v.setAttribute("height","1"),v.setAttribute("fill","white");const y=He._svgFactory.createElement("use");m.append(y),y.setAttribute("href",`#${l}`),y.setAttribute("stroke","none"),y.setAttribute("fill","black"),y.setAttribute("fill-rule","nonzero"),y.classList.add("mask")}const d=He._svgFactory.createElement("use");n.append(d),d.setAttribute("href",`#${l}`),c&&d.setAttribute("mask",`url(#${c})`);const p=d.cloneNode();return n.append(p),d.classList.add("mainOutline"),p.classList.add("secondaryOutline"),h(this,Le).set(e,n),e}finalizeLine(t,e){const n=h(this,to).get(t);h(this,to).delete(t),this.updateBox(t,e.box),n.setAttribute("d",e.toSVGPath())}updateLine(t,e){h(this,Le).get(t).firstChild.firstChild.setAttribute("d",e.toSVGPath())}removeFreeHighlight(t){this.remove(t),h(this,to).delete(t)}updatePath(t,e){h(this,to).get(t).setAttribute("d",e.toSVGPath())}updateBox(t,e){var n;b(n=He,xd,l0).call(n,h(this,Le).get(t),e)}show(t,e){h(this,Le).get(t).classList.toggle("hidden",!e)}rotate(t,e){h(this,Le).get(t).setAttribute("data-main-rotation",e)}changeColor(t,e){h(this,Le).get(t).setAttribute("fill",e)}changeOpacity(t,e){h(this,Le).get(t).setAttribute("fill-opacity",e)}addClass(t,e){h(this,Le).get(t).classList.add(e)}removeClass(t,e){h(this,Le).get(t).classList.remove(e)}remove(t){h(this,rs)!==null&&(h(this,Le).get(t).remove(),h(this,Le).delete(t))}destroy(){x(this,rs,null);for(const t of h(this,Le).values())t.remove();h(this,Le).clear()}};rs=new WeakMap,_d=new WeakMap,Le=new WeakMap,to=new WeakMap,xd=new WeakSet,l0=function(t,{x:e=0,y:n=0,width:o=1,height:a=1}={}){const{style:l}=t;l.top=`${100*n}%`,l.left=`${100*e}%`,l.width=`${100*o}%`,l.height=`${100*a}%`},ja=new WeakSet,u0=function(t){var n;const e=He._svgFactory.create(1,1,!0);return h(this,rs).append(e),e.setAttribute("aria-hidden",!0),b(n=He,xd,l0).call(n,e,t),e},ub=function(t,e){const n=He._svgFactory.createElement("clipPath");t.append(n);const o=`clip_${e}`;n.setAttribute("id",o),n.setAttribute("clipPathUnits","objectBoundingBox");const a=He._svgFactory.createElement("use");return n.append(a),a.setAttribute("href",`#${e}`),a.classList.add("clip"),o},T(He,xd);let a0=He;var EL=Ct.AbortException,_L=Ct.AnnotationEditorLayer,xL=Ct.AnnotationEditorParamsType,bL=Ct.AnnotationEditorType,CL=Ct.AnnotationEditorUIManager,cb=Ct.AnnotationLayer,hb=Ct.AnnotationMode,TL=Ct.CMapCompressionType,PL=Ct.ColorPicker,kL=Ct.DOMSVGFactory,RL=Ct.DrawLayer,LL=Ct.FeatureTest,z0=Ct.GlobalWorkerOptions,ML=Ct.ImageKind,DL=Ct.InvalidPDFException,IL=Ct.MissingPDFException,FL=Ct.OPS,OL=Ct.Outliner,NL=Ct.PDFDataRangeTransport,jL=Ct.PDFDateString,VL=Ct.PDFWorker,BL=Ct.PasswordResponses,zL=Ct.PermissionFlag,HL=Ct.PixelsPerInch,UL=Ct.RenderingCancelledException,db=Ct.TextLayer,$L=Ct.UnexpectedResponseException,WL=Ct.Util,GL=Ct.VerbosityLevel,XL=Ct.XfaLayer,KL=Ct.build,qL=Ct.createValidAbsoluteUrl,YL=Ct.fetchData,fb=Ct.getDocument,QL=Ct.getFilenameFromUrl,ZL=Ct.getPdfFilenameFromUrl,JL=Ct.getXfaPageViewport,tM=Ct.isDataScheme,eM=Ct.isPdfFile,nM=Ct.noContextMenu,iM=Ct.normalizeUnicode,sM=Ct.renderTextLayer,rM=Ct.setLayerDimensions,oM=Ct.shadow,aM=Ct.updateTextLayer,lM=Ct.version;const uM=Object.freeze(Object.defineProperty({__proto__:null,AbortException:EL,AnnotationEditorLayer:_L,AnnotationEditorParamsType:xL,AnnotationEditorType:bL,AnnotationEditorUIManager:CL,AnnotationLayer:cb,AnnotationMode:hb,CMapCompressionType:TL,ColorPicker:PL,DOMSVGFactory:kL,DrawLayer:RL,FeatureTest:LL,GlobalWorkerOptions:z0,ImageKind:ML,InvalidPDFException:DL,MissingPDFException:IL,OPS:FL,Outliner:OL,PDFDataRangeTransport:NL,PDFDateString:jL,PDFWorker:VL,PasswordResponses:BL,PermissionFlag:zL,PixelsPerInch:HL,RenderingCancelledException:UL,TextLayer:db,UnexpectedResponseException:$L,Util:WL,VerbosityLevel:GL,XfaLayer:XL,build:KL,createValidAbsoluteUrl:qL,fetchData:YL,getDocument:fb,getFilenameFromUrl:QL,getPdfFilenameFromUrl:ZL,getXfaPageViewport:JL,isDataScheme:tM,isPdfFile:eM,noContextMenu:nM,normalizeUnicode:iM,renderTextLayer:sM,setLayerDimensions:rM,shadow:oM,updateTextLayer:aM,version:lM},Symbol.toStringTag,{value:"Module"}));var Ne=function(r,t,e){if(e||arguments.length===2)for(var n=0,o=t.length,a;n<o;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return r.concat(a||Array.prototype.slice.call(t))},cM=["onCopy","onCut","onPaste"],hM=["onCompositionEnd","onCompositionStart","onCompositionUpdate"],dM=["onFocus","onBlur"],fM=["onInput","onInvalid","onReset","onSubmit"],pM=["onLoad","onError"],mM=["onKeyDown","onKeyPress","onKeyUp"],gM=["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],vM=["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],yM=["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],wM=["onSelect"],AM=["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],SM=["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],EM=["onScroll"],_M=["onWheel"],xM=["onAnimationStart","onAnimationEnd","onAnimationIteration"],bM=["onTransitionEnd"],CM=["onToggle"],TM=["onChange"],PM=Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne(Ne([],cM,!0),hM,!0),dM,!0),fM,!0),pM,!0),mM,!0),gM,!0),vM,!0),yM,!0),wM,!0),AM,!0),SM,!0),EM,!0),_M,!0),xM,!0),bM,!0),TM,!0),CM,!0);function pb(r,t){var e={};return PM.forEach(function(n){var o=r[n];o&&(t?e[n]=function(a){return o(a,t(n))}:e[n]=o)}),e}function kd(r){var t=!1,e=new Promise(function(n,o){r.then(function(a){return!t&&n(a)}).catch(function(a){return!t&&o(a)})});return{promise:e,cancel:function(){t=!0}}}function mb(r){var t,e,n="";if(typeof r=="string"||typeof r=="number")n+=r;else if(typeof r=="object")if(Array.isArray(r)){var o=r.length;for(t=0;t<o;t++)r[t]&&(e=mb(r[t]))&&(n&&(n+=" "),n+=e)}else for(e in r)r[e]&&(n&&(n+=" "),n+=e);return n}function bm(){for(var r,t,e=0,n="",o=arguments.length;e<o;e++)(r=arguments[e])&&(t=mb(r))&&(n&&(n+=" "),n+=t);return n}var kM="Invariant failed";function Jt(r,t){if(!r)throw new Error(kM)}var Iv,z1;function RM(){if(z1)return Iv;z1=1;var r=function(){};return Iv=r,Iv}var LM=RM();const an=h_(LM);var H1=Object.prototype.hasOwnProperty;function U1(r,t,e){for(e of r.keys())if(Tl(e,t))return e}function Tl(r,t){var e,n,o;if(r===t)return!0;if(r&&t&&(e=r.constructor)===t.constructor){if(e===Date)return r.getTime()===t.getTime();if(e===RegExp)return r.toString()===t.toString();if(e===Array){if((n=r.length)===t.length)for(;n--&&Tl(r[n],t[n]););return n===-1}if(e===Set){if(r.size!==t.size)return!1;for(n of r)if(o=n,o&&typeof o=="object"&&(o=U1(t,o),!o)||!t.has(o))return!1;return!0}if(e===Map){if(r.size!==t.size)return!1;for(n of r)if(o=n[0],o&&typeof o=="object"&&(o=U1(t,o),!o)||!Tl(n[1],t.get(o)))return!1;return!0}if(e===ArrayBuffer)r=new Uint8Array(r),t=new Uint8Array(t);else if(e===DataView){if((n=r.byteLength)===t.byteLength)for(;n--&&r.getInt8(n)===t.getInt8(n););return n===-1}if(ArrayBuffer.isView(r)){if((n=r.byteLength)===t.byteLength)for(;n--&&r[n]===t[n];);return n===-1}if(!e||typeof r=="object"){n=0;for(e in r)if(H1.call(r,e)&&++n&&!H1.call(t,e)||!(e in t)||!Tl(r[e],t[e]))return!1;return Object.keys(t).length===n}}return r!==r&&t!==t}const gb=$.createContext(null);function Pl({children:r,type:t}){return Q.jsx("div",{className:`react-pdf__message react-pdf__message--${t}`,children:r})}const MM="noopener noreferrer nofollow";class DM{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(t){this.pdfDocument=t}setViewer(t){this.pdfViewer=t}setExternalLinkRel(t){this.externalLinkRel=t}setExternalLinkTarget(t){this.externalLinkTarget=t}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return Jt(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(t){Jt(this.pdfViewer),this.pdfViewer.currentPageNumber=t}get rotation(){return 0}set rotation(t){}goToDestination(t){return new Promise(e=>{Jt(this.pdfDocument),Jt(t),typeof t=="string"?this.pdfDocument.getDestination(t).then(e):Array.isArray(t)?e(t):t.then(e)}).then(e=>{Jt(Array.isArray(e));const n=e[0];new Promise(o=>{Jt(this.pdfDocument),n instanceof Object?this.pdfDocument.getPageIndex(n).then(a=>{o(a)}).catch(()=>{Jt(!1)}):typeof n=="number"?o(n):Jt(!1)}).then(o=>{const a=o+1;Jt(this.pdfViewer),Jt(a>=1&&a<=this.pagesCount),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:o,pageNumber:a})})})}navigateTo(t){this.goToDestination(t)}goToPage(t){const e=t-1;Jt(this.pdfViewer),Jt(t>=1&&t<=this.pagesCount),this.pdfViewer.scrollPageIntoView({pageIndex:e,pageNumber:t})}addLinkAttributes(t,e,n){t.href=e,t.rel=this.externalLinkRel||MM,t.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const $1={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},Cm=typeof window<"u",vb=Cm&&window.location.protocol==="file:";function IM(r){return typeof r<"u"}function Co(r){return IM(r)&&r!==null}function FM(r){return typeof r=="string"}function OM(r){return r instanceof ArrayBuffer}function NM(r){return Jt(Cm),r instanceof Blob}function c0(r){return FM(r)&&/^data:/.test(r)}function W1(r){Jt(c0(r));const[t="",e=""]=r.split(",");return t.split(";").indexOf("base64")!==-1?atob(e):unescape(e)}function jM(){return Cm&&window.devicePixelRatio||1}const yb="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function G1(){an(!vb,`Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ${yb}`)}function VM(){an(!vb,`Loading PDF.js worker may not work on protocols other than HTTP/HTTPS. ${yb}`)}function Oa(r){r!=null&&r.cancel&&r.cancel()}function h0(r,t){return Object.defineProperty(r,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(r,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(r,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(r,"originalHeight",{get(){return this.view[3]},configurable:!0}),r}function BM(r){return r.name==="RenderingCancelledException"}function zM(r){return new Promise((t,e)=>{const n=new FileReader;n.onload=()=>{if(!n.result)return e(new Error("Error while reading a file."));t(n.result)},n.onerror=o=>{if(!o.target)return e(new Error("Error while reading a file."));const{error:a}=o.target;if(!a)return e(new Error("Error while reading a file."));switch(a.code){case a.NOT_FOUND_ERR:return e(new Error("Error while reading a file: File not found."));case a.SECURITY_ERR:return e(new Error("Error while reading a file: Security error."));case a.ABORT_ERR:return e(new Error("Error while reading a file: Aborted."));default:return e(new Error("Error while reading a file."))}},n.readAsArrayBuffer(r)})}function HM(r,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return r}}function xu(){return $.useReducer(HM,{value:void 0,error:void 0})}var UM=function(r,t,e,n){function o(a){return a instanceof e?a:new e(function(l){l(a)})}return new(e||(e=Promise))(function(a,l){function c(m){try{p(n.next(m))}catch(v){l(v)}}function d(m){try{p(n.throw(m))}catch(v){l(v)}}function p(m){m.done?a(m.value):o(m.value).then(c,d)}p((n=n.apply(r,t||[])).next())})},X1=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(e[n[o]]=r[n[o]]);return e};const{PDFDataRangeTransport:$M}=uM,WM=(r,t)=>{switch(t){case $1.NEED_PASSWORD:{const e=prompt("Enter the password to open this PDF file.");r(e);break}case $1.INCORRECT_PASSWORD:{const e=prompt("Invalid password. Please try again.");r(e);break}}};function K1(r){return typeof r=="object"&&r!==null&&("data"in r||"range"in r||"url"in r)}const GM=$.forwardRef(function(t,e){var{children:n,className:o,error:a="Failed to load PDF file.",externalLinkRel:l,externalLinkTarget:c,file:d,inputRef:p,imageResourcesPath:m,loading:v="Loading PDF…",noData:y="No PDF file specified.",onItemClick:A,onLoadError:S,onLoadProgress:_,onLoadSuccess:P,onPassword:C=WM,onSourceError:R,onSourceSuccess:M,options:F,renderMode:O,rotate:V}=t,W=X1(t,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[H,Y]=xu(),{value:et,error:tt}=H,[_t,pt]=xu(),{value:ht,error:xt}=_t,St=$.useRef(new DM),G=$.useRef([]),z=$.useRef(void 0),rt=$.useRef(void 0);d&&d!==z.current&&K1(d)&&(an(!Tl(d,z.current),`File prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.`),z.current=d),F&&F!==rt.current&&(an(!Tl(F,rt.current),`Options prop passed to <Document /> changed, but it's equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.`),rt.current=F);const J=$.useRef({scrollPageIntoView:Ut=>{const{dest:re,pageNumber:xe,pageIndex:me=xe-1}=Ut;if(A){A({dest:re,pageIndex:me,pageNumber:xe});return}const Oi=G.current[me];if(Oi){Oi.scrollIntoView();return}an(!1,`An internal link leading to page ${xe} was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>.`)}});$.useImperativeHandle(e,()=>({linkService:St,pages:G,viewer:J}),[]);function I(){M&&M()}function U(){tt&&(an(!1,tt.toString()),R&&R(tt))}function lt(){Y({type:"RESET"})}$.useEffect(lt,[d,Y]);const wt=$.useCallback(()=>UM(this,void 0,void 0,function*(){if(!d)return null;if(typeof d=="string")return c0(d)?{data:W1(d)}:(G1(),{url:d});if(d instanceof $M)return{range:d};if(OM(d))return{data:d};if(Cm&&NM(d))return{data:yield zM(d)};if(Jt(typeof d=="object"),Jt(K1(d)),"url"in d&&typeof d.url=="string"){if(c0(d.url)){const{url:Ut}=d,re=X1(d,["url"]),xe=W1(Ut);return Object.assign({data:xe},re)}G1()}return d}),[d]);$.useEffect(()=>{const Ut=kd(wt());return Ut.promise.then(re=>{Y({type:"RESOLVE",value:re})}).catch(re=>{Y({type:"REJECT",error:re})}),()=>{Oa(Ut)}},[wt,Y]),$.useEffect(()=>{if(!(typeof et>"u")){if(et===!1){U();return}I()}},[et]);function Tt(){ht&&(P&&P(ht),G.current=new Array(ht.numPages),St.current.setDocument(ht))}function Et(){xt&&(an(!1,xt.toString()),S&&S(xt))}$.useEffect(function(){pt({type:"RESET"})},[pt,et]),$.useEffect(function(){if(!et)return;const re=F?Object.assign(Object.assign({},et),F):et,xe=fb(re);_&&(xe.onProgress=_),C&&(xe.onPassword=C);const me=xe,Oi=me.promise.then(ur=>{pt({type:"RESOLVE",value:ur})}).catch(ur=>{me.destroyed||pt({type:"REJECT",error:ur})});return()=>{Oi.finally(()=>me.destroy())}},[F,pt,et]),$.useEffect(()=>{if(!(typeof ht>"u")){if(ht===!1){Et();return}Tt()}},[ht]),$.useEffect(function(){St.current.setViewer(J.current),St.current.setExternalLinkRel(l),St.current.setExternalLinkTarget(c)},[l,c]);const gt=$.useCallback((Ut,re)=>{G.current[Ut]=re},[]),kt=$.useCallback(Ut=>{delete G.current[Ut]},[]),Ot=$.useMemo(()=>({imageResourcesPath:m,linkService:St.current,onItemClick:A,pdf:ht,registerPage:gt,renderMode:O,rotate:V,unregisterPage:kt}),[m,A,ht,gt,O,V,kt]),Ft=$.useMemo(()=>pb(W,()=>ht),[W,ht]);function Fi(){return Q.jsx(gb.Provider,{value:Ot,children:n})}function lr(){return d?ht==null?Q.jsx(Pl,{type:"loading",children:typeof v=="function"?v():v}):ht===!1?Q.jsx(Pl,{type:"error",children:typeof a=="function"?a():a}):Fi():Q.jsx(Pl,{type:"no-data",children:typeof y=="function"?y():y})}return Q.jsx("div",Object.assign({className:bm("react-pdf__Document",o),ref:p,style:{"--scale-factor":"1"}},Ft,{children:lr()}))});function wb(){return $.useContext(gb)}function Ab(){for(var r=[],t=0;t<arguments.length;t++)r[t]=arguments[t];var e=r.filter(Boolean);if(e.length<=1){var n=e[0];return n||null}return function(a){e.forEach(function(l){typeof l=="function"?l(a):l&&(l.current=a)})}}const Sb=$.createContext(null),Eb={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},XM=/^H(\d+)$/;function KM(r){return r in Eb}function Tm(r){return"children"in r}function _b(r){return Tm(r)?r.children.length===1&&0 in r.children&&"id"in r.children[0]:!1}function qM(r){const t={};if(Tm(r)){const{role:e}=r,n=e.match(XM);if(n)t.role="heading",t["aria-level"]=Number(n[1]);else if(KM(e)){const o=Eb[e];o&&(t.role=o)}}return t}function xb(r){const t={};if(Tm(r)){if(r.alt!==void 0&&(t["aria-label"]=r.alt),r.lang!==void 0&&(t.lang=r.lang),_b(r)){const[e]=r.children;if(e){const n=xb(e);return Object.assign(Object.assign({},t),n)}}}else"id"in r&&(t["aria-owns"]=r.id);return t}function YM(r){return r?Object.assign(Object.assign({},qM(r)),xb(r)):null}function bb({className:r,node:t}){const e=$.useMemo(()=>YM(t),[t]),n=$.useMemo(()=>!Tm(t)||_b(t)?null:t.children.map((o,a)=>Q.jsx(bb,{node:o},a)),[t]);return Q.jsx("span",Object.assign({className:r},e,{children:n}))}function Pm(){return $.useContext(Sb)}function QM(){const r=Pm();Jt(r);const{onGetStructTreeError:t,onGetStructTreeSuccess:e}=r,[n,o]=xu(),{value:a,error:l}=n,{customTextRenderer:c,page:d}=r;function p(){a&&e&&e(a)}function m(){l&&(an(!1,l.toString()),t&&t(l))}return $.useEffect(function(){o({type:"RESET"})},[o,d]),$.useEffect(function(){if(c||!d)return;const y=kd(d.getStructTree()),A=y;return y.promise.then(S=>{o({type:"RESOLVE",value:S})}).catch(S=>{o({type:"REJECT",error:S})}),()=>Oa(A)},[c,d,o]),$.useEffect(()=>{if(a!==void 0){if(a===!1){m();return}p()}},[a]),a?Q.jsx(bb,{className:"react-pdf__Page__structTree structTree",node:a}):null}const q1=hb;function ZM(r){const t=Pm();Jt(t);const e=Object.assign(Object.assign({},t),r),{_className:n,canvasBackground:o,devicePixelRatio:a=jM(),onRenderError:l,onRenderSuccess:c,page:d,renderForms:p,renderTextLayer:m,rotate:v,scale:y}=e,{canvasRef:A}=r;Jt(d);const S=$.useRef(null);function _(){d&&c&&c(h0(d,y))}function P(F){BM(F)||(an(!1,F.toString()),l&&l(F))}const C=$.useMemo(()=>d.getViewport({scale:y*a,rotation:v}),[a,d,v,y]),R=$.useMemo(()=>d.getViewport({scale:y,rotation:v}),[d,v,y]);$.useEffect(function(){if(!d)return;d.cleanup();const{current:O}=S;if(!O)return;O.width=C.width,O.height=C.height,O.style.width=`${Math.floor(R.width)}px`,O.style.height=`${Math.floor(R.height)}px`,O.style.visibility="hidden";const V={annotationMode:p?q1.ENABLE_FORMS:q1.ENABLE,canvasContext:O.getContext("2d",{alpha:!1}),viewport:C};o&&(V.background=o);const W=d.render(V),H=W;return W.promise.then(()=>{O.style.visibility="",_()}).catch(P),()=>Oa(H)},[o,d,p,C,R]);const M=$.useCallback(()=>{const{current:F}=S;F&&(F.width=0,F.height=0)},[]);return $.useEffect(()=>M,[M]),Q.jsx("canvas",{className:`${n}__canvas`,dir:"ltr",ref:Ab(A,S),style:{display:"block",userSelect:"none"},children:m?Q.jsx(QM,{}):null})}function JM(r){return"str"in r}function tD(){const r=Pm();Jt(r);const{customTextRenderer:t,onGetTextError:e,onGetTextSuccess:n,onRenderTextLayerError:o,onRenderTextLayerSuccess:a,page:l,pageIndex:c,pageNumber:d,rotate:p,scale:m}=r;Jt(l);const[v,y]=xu(),{value:A,error:S}=v,_=$.useRef(null),P=$.useRef(void 0);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10)===1,"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer");function C(){A&&n&&n(A)}function R(){S&&(an(!1,S.toString()),e&&e(S))}$.useEffect(function(){y({type:"RESET"})},[l,y]),$.useEffect(function(){if(!l)return;const Y=kd(l.getTextContent()),et=Y;return Y.promise.then(tt=>{y({type:"RESOLVE",value:tt})}).catch(tt=>{y({type:"REJECT",error:tt})}),()=>Oa(et)},[l,y]),$.useEffect(()=>{if(A!==void 0){if(A===!1){R();return}C()}},[A]);const M=$.useCallback(()=>{a&&a()},[a]),F=$.useCallback(H=>{an(!1,H.toString()),o&&o(H)},[o]);function O(){const H=P.current;H&&H.classList.add("active")}function V(){const H=P.current;H&&H.classList.remove("active")}const W=$.useMemo(()=>l.getViewport({scale:m,rotation:p}),[l,p,m]);return $.useLayoutEffect(function(){if(!l||!A)return;const{current:Y}=_;if(!Y)return;Y.innerHTML="";const et=l.streamTextContent({includeMarkedContent:!0}),tt={container:Y,textContentSource:et,viewport:W},_t=new db(tt),pt=_t;return _t.render().then(()=>{const ht=document.createElement("div");ht.className="endOfContent",Y.append(ht),P.current=ht;const xt=Y.querySelectorAll('[role="presentation"]');if(t){let St=0;A.items.forEach((G,z)=>{if(!JM(G))return;const rt=xt[St];if(!rt)return;const J=t(Object.assign({pageIndex:c,pageNumber:d,itemIndex:z},G));rt.innerHTML=J,St+=G.str&&G.hasEOL?2:1})}M()}).catch(F),()=>Oa(pt)},[t,F,M,l,c,d,A,W]),Q.jsx("div",{className:bm("react-pdf__Page__textContent","textLayer"),onMouseUp:V,onMouseDown:O,ref:_})}function eD(){const r=wb(),t=Pm();Jt(t);const e=Object.assign(Object.assign({},r),t),{imageResourcesPath:n,linkService:o,onGetAnnotationsError:a,onGetAnnotationsSuccess:l,onRenderAnnotationLayerError:c,onRenderAnnotationLayerSuccess:d,page:p,pdf:m,renderForms:v,rotate:y,scale:A=1}=e;Jt(m),Jt(p),Jt(o);const[S,_]=xu(),{value:P,error:C}=S,R=$.useRef(null);an(Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10)===1,"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations");function M(){P&&l&&l(P)}function F(){C&&(an(!1,C.toString()),a&&a(C))}$.useEffect(function(){_({type:"RESET"})},[_,p]),$.useEffect(function(){if(!p)return;const Y=kd(p.getAnnotations()),et=Y;return Y.promise.then(tt=>{_({type:"RESOLVE",value:tt})}).catch(tt=>{_({type:"REJECT",error:tt})}),()=>{Oa(et)}},[_,p]),$.useEffect(()=>{if(P!==void 0){if(P===!1){F();return}M()}},[P]);function O(){d&&d()}function V(H){an(!1,`${H}`),c&&c(H)}const W=$.useMemo(()=>p.getViewport({scale:A,rotation:y}),[p,y,A]);return $.useEffect(function(){if(!m||!p||!o||!P)return;const{current:Y}=R;if(!Y)return;const et=W.clone({dontFlip:!0}),tt={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:Y,l10n:null,page:p,viewport:et},_t={annotations:P,annotationStorage:m.annotationStorage,div:Y,imageResourcesPath:n,linkService:o,page:p,renderForms:v,viewport:et};Y.innerHTML="";try{new cb(tt).render(_t),O()}catch(pt){V(pt)}return()=>{}},[P,n,o,p,m,v,W]),Q.jsx("div",{className:bm("react-pdf__Page__annotations","annotationLayer"),ref:R})}var nD=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(r);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(r,n[o])&&(e[n[o]]=r[n[o]]);return e};const Y1=1;function iD(r){const t=wb(),e=Object.assign(Object.assign({},t),r),{_className:n="react-pdf__Page",_enableRegisterUnregisterPage:o=!0,canvasBackground:a,canvasRef:l,children:c,className:d,customRenderer:p,customTextRenderer:m,devicePixelRatio:v,error:y="Failed to load the page.",height:A,inputRef:S,loading:_="Loading page…",noData:P="No page specified.",onGetAnnotationsError:C,onGetAnnotationsSuccess:R,onGetStructTreeError:M,onGetStructTreeSuccess:F,onGetTextError:O,onGetTextSuccess:V,onLoadError:W,onLoadSuccess:H,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:et,onRenderError:tt,onRenderSuccess:_t,onRenderTextLayerError:pt,onRenderTextLayerSuccess:ht,pageIndex:xt,pageNumber:St,pdf:G,registerPage:z,renderAnnotationLayer:rt=!0,renderForms:J=!1,renderMode:I="canvas",renderTextLayer:U=!0,rotate:lt,scale:wt=Y1,unregisterPage:Tt,width:Et}=e,gt=nD(e,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[kt,Ot]=xu(),{value:Ft,error:Fi}=kt,lr=$.useRef(null);Jt(G);const Ut=Co(St)?St-1:xt??null,re=St??(Co(xt)?xt+1:null),xe=lt??(Ft?Ft.rotate:null),me=$.useMemo(()=>{if(!Ft)return null;let Ni=1;const hs=wt??Y1;if(Et||A){const ho=Ft.getViewport({scale:1,rotation:xe});Et?Ni=Et/ho.width:A&&(Ni=A/ho.height)}return hs*Ni},[A,Ft,xe,wt,Et]);$.useEffect(function(){return()=>{Co(Ut)&&o&&Tt&&Tt(Ut)}},[o,G,Ut,Tt]);function Oi(){if(H){if(!Ft||!me)return;H(h0(Ft,me))}if(o&&z){if(!Co(Ut)||!lr.current)return;z(Ut,lr.current)}}function ur(){Fi&&(an(!1,Fi.toString()),W&&W(Fi))}$.useEffect(function(){Ot({type:"RESET"})},[Ot,G,Ut]),$.useEffect(function(){if(!G||!re)return;const hs=kd(G.getPage(re)),ho=hs;return hs.promise.then(ds=>{Ot({type:"RESOLVE",value:ds})}).catch(ds=>{Ot({type:"REJECT",error:ds})}),()=>Oa(ho)},[Ot,G,re]),$.useEffect(()=>{if(Ft!==void 0){if(Ft===!1){ur();return}Oi()}},[Ft,me]);const Ru=$.useMemo(()=>Ft&&Co(Ut)&&re&&Co(xe)&&Co(me)?{_className:n,canvasBackground:a,customTextRenderer:m,devicePixelRatio:v,onGetAnnotationsError:C,onGetAnnotationsSuccess:R,onGetStructTreeError:M,onGetStructTreeSuccess:F,onGetTextError:O,onGetTextSuccess:V,onRenderAnnotationLayerError:Y,onRenderAnnotationLayerSuccess:et,onRenderError:tt,onRenderSuccess:_t,onRenderTextLayerError:pt,onRenderTextLayerSuccess:ht,page:Ft,pageIndex:Ut,pageNumber:re,renderForms:J,renderTextLayer:U,rotate:xe,scale:me}:null,[n,a,m,v,C,R,M,F,O,V,Y,et,tt,_t,pt,ht,Ft,Ut,re,J,U,xe,me]),co=$.useMemo(()=>pb(gt,()=>Ft&&(me?h0(Ft,me):void 0)),[gt,Ft,me]),hi=`${Ut}@${me}/${xe}`;function Lu(){switch(I){case"custom":return Jt(p),Q.jsx(p,{},`${hi}_custom`);case"none":return null;case"canvas":default:return Q.jsx(ZM,{canvasRef:l},`${hi}_canvas`)}}function Id(){return U?Q.jsx(tD,{},`${hi}_text`):null}function Fd(){return rt?Q.jsx(eD,{},`${hi}_annotations`):null}function Od(){return Q.jsxs(Sb.Provider,{value:Ru,children:[Lu(),Id(),Fd(),c]})}function Nd(){return re?G===null||Ft===void 0||Ft===null?Q.jsx(Pl,{type:"loading",children:typeof _=="function"?_():_}):G===!1||Ft===!1?Q.jsx(Pl,{type:"error",children:typeof y=="function"?y():y}):Od():Q.jsx(Pl,{type:"no-data",children:typeof P=="function"?P():P})}return Q.jsx("div",Object.assign({className:bm(n,d),"data-page-number":re,ref:Ab(S,lr),style:{"--scale-factor":`${me}`,backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},co,{children:Nd()}))}VM();z0.workerSrc="pdf.worker.mjs";const H0=[{day:10,month:12,path:"./files/mensaje10.pdf",music:"1fzAuUVbzlhZ1lJAx9PtY6"},{day:11,month:12,path:"./files/mensaje11.pdf",music:"00kIWJu9IHiQ6i0qJAU0Z9"},{day:12,month:12,path:"./files/mensaje12.pdf",music:"3W5h65cRwTaZ1FCvEw6Ltx"},{day:13,month:12,path:"./files/mensaje13.pdf",music:"4y5bvROuBDPr5fuwXbIBZR"},{day:14,month:12,path:"./files/mensaje14.pdf",music:"1dGr1c8CrMLDpV6mPbImSI"},{day:15,month:12,path:"./files/mensaje15.pdf",music:"7HuBDWi18s4aJM8UFnNheH"},{day:16,month:12,path:"./files/mensaje16.pdf",music:"1dGr1c8CrMLDpV6mPbImSI"},{day:17,month:12,path:"./files/mensaje17.pdf",music:"5XeFesFbtLpXzIVDNQP22n"},{day:18,month:12,path:"./files/mensaje18.pdf",music:"7oDd86yk8itslrA9HRP2ki"},{day:19,month:12,path:"./files/mensaje19.pdf",music:"7KvX1d2BMXXLXt3Kuq5atu"},{day:20,month:12,path:"./files/mensaje20.pdf",music:"2Z5wXgysowvzl0nKGNGU0t"},{day:21,month:12,path:"./files/mensaje21.pdf",music:"2j3e0rTUgHviwh8XpQCzLN"},{day:22,month:12,path:"./files/mensaje22.pdf",music:"5W10CyNhnCoIxUYfANwZqR"},{day:23,month:12,path:"./files/mensaje23.pdf",music:"6CDzDgIUqeDY5g8ujExx2f"},{day:24,month:12,path:"./files/mensaje24.pdf",music:"4vkGubn53O4ulKG2fwDRaG"},{day:25,month:12,path:"./files/mensaje25.pdf",music:"49gRYU6hBWgSH2JVixGkJq"},{day:26,month:12,path:"./files/mensaje26.pdf",music:"12M5uqx0ZuwkpLp5rJim1a"},{day:27,month:12,path:"./files/mensaje27.pdf",music:"2plbrEY59IikOBgBGLjaoe"},{day:28,month:12,path:"./files/mensaje28.pdf",music:"1VB4sadHjFcFklHcZuoROi"},{day:29,month:12,path:"./files/mensaje29.pdf",music:"37CoOXIsgF3NzbK1zHZetk"},{day:30,month:12,path:"./files/mensaje30.pdf",music:"7nzsY8vlnKdvGOEE0rjAXZ"},{day:31,month:12,path:"./files/mensaje31.pdf",music:"5RhWszHMSKzb7KiXk4Ae0M"}];function sD(){const t=new Date().getDate(),e=H0.find(n=>n.day===t);return e?e.path:"/files/default.pdf"}function rD(){const t=new Date().getDate(),e=H0.find(n=>n.day===t);return e?e.music:"12M5uqx0ZuwkpLp5rJim1a"}z0.workerSrc=new URL("/TamaliDreamRemastered/assets/pdf.worker.min-DGf6LXVo.mjs",import.meta.url).toString();function oD(){const[r,t]=$.useState(!1),[e,n]=$.useState(""),[o,a]=$.useState(0),[l,c]=$.useState(""),[d,p]=$.useState(""),[m,v]=$.useState([]),y=({numPages:A})=>{a(A)};return $.useEffect(()=>{n((()=>{const S=new Date,_=["enero","febrero","marzo","abril","mayo","junio","julio","agosto","septiembre","octubre","noviembre","diciembre"],P=S.getDate(),C=_[S.getMonth()],R=S.getFullYear();return`Mensajito del día ${P} de ${C} de ${R}`})())},[]),$.useEffect(()=>{const A=sD(),S=rD();if(p(S),A==="no"){c(null);const _=H0.map(P=>P.path);v(_)}else c(A),v([])},[]),Q.jsxs("div",{className:"flex flex-col items-center justify-center h-screen",id:"cancion",children:[Q.jsx("div",{className:"w-full lg:max-w-4xl text-center",children:Q.jsxs("div",{className:"inline-block",children:[Q.jsxs("button",{className:"bg-pink-100 text-pink-400 font-semibold p-2 rounded-full flex justify-self-center",onClick:()=>t(!0),children:[e,Q.jsx(mk,{color:"#f472b6",size:22,className:"pl-2"})]}),Q.jsx("img",{src:wk,alt:"Baile",className:"w-1/2 justify-self-center mt-4 rounded-2xl"}),Q.jsx("iframe",{src:"https://open.spotify.com/embed/track/2LwsunYgfRoqyIsNtgOCQx?utm_source=generator",width:"100%",height:"352",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",style:{marginTop:20}})]})}),Q.jsxs(Ak,{show:r,onClose:()=>t(!1),children:[Q.jsxs("div",{className:"overflow-y-auto",style:{maxHeight:"70vh",maxWidth:"100vw"},children:[l?Q.jsx(Q.Fragment,{children:Q.jsx(GM,{file:l,onLoadSuccess:y,children:Array.from(new Array(o),()=>Q.jsx(iD,{pageNumber:1,scale:.44,className:"justify-items-center"},"page_1"))})}):Q.jsx("div",{className:"flex flex-col gap-2",children:m.map((A,S)=>Q.jsxs("a",{href:A,download:!0,className:"text-blue-500 underline",children:["Descargar mensaje ",S+1]},S))}),Q.jsx("iframe",{src:`https://open.spotify.com/embed/track/${d}?utm_source=generator`,width:"100%",height:"352",frameBorder:"0",allow:"autoplay; clipboard-write; encrypted-media; fullscreen; picture-in-picture",loading:"lazy",style:{marginTop:20}})]}),Q.jsx("button",{className:"px-4 py-2 mt-2 bg-pink-200 text-pink-400 rounded",onClick:()=>t(!1),children:"Cerrar"})]})]})}const aD="/TamaliDreamRemastered/assets/2023-01-22_00.29.03-D_gCwYQ3.png",lD="/TamaliDreamRemastered/assets/2023-01-22_22.07.31-B7RoTxJ_.png",uD="/TamaliDreamRemastered/assets/2023-06-14_00.02.00-D4POs6-k.png",cD="/TamaliDreamRemastered/assets/WhatsApp%20Image%202024-12-09%20at%201.06.14%20PM-DczRTtbT.jpeg",hD="/TamaliDreamRemastered/assets/WhatsApp%20Image%202024-12-09%20at%201.06.15%20PM-Cns7n1ak.jpeg";function dD(r){if(typeof Proxy>"u")return r;const t=new Map,e=(...n)=>r(...n);return new Proxy(e,{get:(n,o)=>o==="create"?r:(t.has(o)||t.set(o,r(o)),t.get(o))})}function km(r){return r!==null&&typeof r=="object"&&typeof r.start=="function"}const d0=r=>Array.isArray(r);function Cb(r,t){if(!Array.isArray(t))return!1;const e=t.length;if(e!==r.length)return!1;for(let n=0;n<e;n++)if(t[n]!==r[n])return!1;return!0}function $c(r){return typeof r=="string"||Array.isArray(r)}function Q1(r){const t=[{},{}];return r==null||r.values.forEach((e,n)=>{t[0][n]=e.get(),t[1][n]=e.getVelocity()}),t}function U0(r,t,e,n){if(typeof t=="function"){const[o,a]=Q1(n);t=t(e!==void 0?e:r.custom,o,a)}if(typeof t=="string"&&(t=r.variants&&r.variants[t]),typeof t=="function"){const[o,a]=Q1(n);t=t(e!==void 0?e:r.custom,o,a)}return t}function Rm(r,t,e){const n=r.getProps();return U0(n,t,e!==void 0?e:n.custom,r)}const $0=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W0=["initial",...$0],Rd=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ha=new Set(Rd),er=r=>r*1e3,nr=r=>r/1e3,fD={type:"spring",stiffness:500,damping:25,restSpeed:10},pD=r=>({type:"spring",stiffness:550,damping:r===0?2*Math.sqrt(550):30,restSpeed:10}),mD={type:"keyframes",duration:.8},gD={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vD=(r,{keyframes:t})=>t.length>2?mD:Ha.has(r)?r.startsWith("scale")?pD(t[1]):fD:gD;function G0(r,t){return r?r[t]||r.default||r:void 0}const yD={skipAnimations:!1,useManualTiming:!1},wD=r=>r!==null;function Lm(r,{repeat:t,repeatType:e="loop"},n){const o=r.filter(wD),a=t&&e!=="loop"&&t%2===1?0:o.length-1;return!a||n===void 0?o[a]:n}const cn=r=>r;let f0=cn;function AD(r){let t=new Set,e=new Set,n=!1,o=!1;const a=new WeakSet;let l={delta:0,timestamp:0,isProcessing:!1};function c(p){a.has(p)&&(d.schedule(p),r()),p(l)}const d={schedule:(p,m=!1,v=!1)=>{const A=v&&n?t:e;return m&&a.add(p),A.has(p)||A.add(p),p},cancel:p=>{e.delete(p),a.delete(p)},process:p=>{if(l=p,n){o=!0;return}n=!0,[t,e]=[e,t],e.clear(),t.forEach(c),n=!1,o&&(o=!1,d.process(p))}};return d}const tp=["read","resolveKeyframes","update","preRender","render","postRender"],SD=40;function Tb(r,t){let e=!1,n=!0;const o={delta:0,timestamp:0,isProcessing:!1},a=()=>e=!0,l=tp.reduce((C,R)=>(C[R]=AD(a),C),{}),{read:c,resolveKeyframes:d,update:p,preRender:m,render:v,postRender:y}=l,A=()=>{const C=performance.now();e=!1,o.delta=n?1e3/60:Math.max(Math.min(C-o.timestamp,SD),1),o.timestamp=C,o.isProcessing=!0,c.process(o),d.process(o),p.process(o),m.process(o),v.process(o),y.process(o),o.isProcessing=!1,e&&t&&(n=!1,r(A))},S=()=>{e=!0,n=!0,o.isProcessing||r(A)};return{schedule:tp.reduce((C,R)=>{const M=l[R];return C[R]=(F,O=!1,V=!1)=>(e||S(),M.schedule(F,O,V)),C},{}),cancel:C=>{for(let R=0;R<tp.length;R++)l[tp[R]].cancel(C)},state:o,steps:l}}const{schedule:qt,cancel:so,state:qe,steps:Fv}=Tb(typeof requestAnimationFrame<"u"?requestAnimationFrame:cn,!0),Pb=(r,t,e)=>(((1-3*e+3*t)*r+(3*e-6*t))*r+3*t)*r,ED=1e-7,_D=12;function xD(r,t,e,n,o){let a,l,c=0;do l=t+(e-t)/2,a=Pb(l,n,o)-r,a>0?e=l:t=l;while(Math.abs(a)>ED&&++c<_D);return l}function Ld(r,t,e,n){if(r===t&&e===n)return cn;const o=a=>xD(a,0,1,r,e);return a=>a===0||a===1?a:Pb(o(a),t,n)}const kb=r=>t=>t<=.5?r(2*t)/2:(2-r(2*(1-t)))/2,Rb=r=>t=>1-r(1-t),Lb=Ld(.33,1.53,.69,.99),X0=Rb(Lb),Mb=kb(X0),Db=r=>(r*=2)<1?.5*X0(r):.5*(2-Math.pow(2,-10*(r-1))),K0=r=>1-Math.sin(Math.acos(r)),Ib=Rb(K0),Fb=kb(K0),Ob=r=>/^0[^.\s]+$/u.test(r);function bD(r){return typeof r=="number"?r===0:r!==null?r==="none"||r==="0"||Ob(r):!0}const Nb=r=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(r),jb=r=>t=>typeof t=="string"&&t.startsWith(r),Vb=jb("--"),CD=jb("var(--"),q0=r=>CD(r)?TD.test(r.split("/*")[0].trim()):!1,TD=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,PD=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function kD(r){const t=PD.exec(r);if(!t)return[,];const[,e,n,o]=t;return[`--${e??n}`,o]}function Bb(r,t,e=1){const[n,o]=kD(r);if(!n)return;const a=window.getComputedStyle(t).getPropertyValue(n);if(a){const l=a.trim();return Nb(l)?parseFloat(l):l}return q0(o)?Bb(o,t,e+1):o}const rr=(r,t,e)=>e>t?t:e<r?r:e,ku={test:r=>typeof r=="number",parse:parseFloat,transform:r=>r},Wc={...ku,transform:r=>rr(0,1,r)},ep={...ku,default:1},Md=r=>({test:t=>typeof t=="string"&&t.endsWith(r)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${r}`}),Mr=Md("deg"),os=Md("%"),At=Md("px"),RD=Md("vh"),LD=Md("vw"),Z1={...os,parse:r=>os.parse(r)/100,transform:r=>os.transform(r*100)},MD=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),J1=r=>r===ku||r===At,tE=(r,t)=>parseFloat(r.split(", ")[t]),eE=(r,t)=>(e,{transform:n})=>{if(n==="none"||!n)return 0;const o=n.match(/^matrix3d\((.+)\)$/u);if(o)return tE(o[1],t);{const a=n.match(/^matrix\((.+)\)$/u);return a?tE(a[1],r):0}},DD=new Set(["x","y","z"]),ID=Rd.filter(r=>!DD.has(r));function FD(r){const t=[];return ID.forEach(e=>{const n=r.getValue(e);n!==void 0&&(t.push([e,n.get()]),n.set(e.startsWith("scale")?1:0))}),t}const bu={width:({x:r},{paddingLeft:t="0",paddingRight:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),height:({y:r},{paddingTop:t="0",paddingBottom:e="0"})=>r.max-r.min-parseFloat(t)-parseFloat(e),top:(r,{top:t})=>parseFloat(t),left:(r,{left:t})=>parseFloat(t),bottom:({y:r},{top:t})=>parseFloat(t)+(r.max-r.min),right:({x:r},{left:t})=>parseFloat(t)+(r.max-r.min),x:eE(4,13),y:eE(5,14)};bu.translateX=bu.x;bu.translateY=bu.y;const zb=r=>t=>t.test(r),OD={test:r=>r==="auto",parse:r=>r},Hb=[ku,At,os,Mr,LD,RD,OD],nE=r=>Hb.find(zb(r)),Ma=new Set;let p0=!1,m0=!1;function Ub(){if(m0){const r=Array.from(Ma).filter(n=>n.needsMeasurement),t=new Set(r.map(n=>n.element)),e=new Map;t.forEach(n=>{const o=FD(n);o.length&&(e.set(n,o),n.render())}),r.forEach(n=>n.measureInitialState()),t.forEach(n=>{n.render();const o=e.get(n);o&&o.forEach(([a,l])=>{var c;(c=n.getValue(a))===null||c===void 0||c.set(l)})}),r.forEach(n=>n.measureEndState()),r.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}m0=!1,p0=!1,Ma.forEach(r=>r.complete()),Ma.clear()}function $b(){Ma.forEach(r=>{r.readKeyframes(),r.needsMeasurement&&(m0=!0)})}function ND(){$b(),Ub()}class Y0{constructor(t,e,n,o,a,l=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=e,this.name=n,this.motionValue=o,this.element=a,this.isAsync=l}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Ma.add(this),p0||(p0=!0,qt.read($b),qt.resolveKeyframes(Ub))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:e,element:n,motionValue:o}=this;for(let a=0;a<t.length;a++)if(t[a]===null)if(a===0){const l=o==null?void 0:o.get(),c=t[t.length-1];if(l!==void 0)t[0]=l;else if(n&&e){const d=n.readValue(e,c);d!=null&&(t[0]=d)}t[0]===void 0&&(t[0]=c),o&&l===void 0&&o.set(t[0])}else t[a]=t[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Ma.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Ma.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const Vc=r=>Math.round(r*1e5)/1e5,Q0=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function jD(r){return r==null}const VD=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Z0=(r,t)=>e=>!!(typeof e=="string"&&VD.test(e)&&e.startsWith(r)||t&&!jD(e)&&Object.prototype.hasOwnProperty.call(e,t)),Wb=(r,t,e)=>n=>{if(typeof n!="string")return n;const[o,a,l,c]=n.match(Q0);return{[r]:parseFloat(o),[t]:parseFloat(a),[e]:parseFloat(l),alpha:c!==void 0?parseFloat(c):1}},BD=r=>rr(0,255,r),Ov={...ku,transform:r=>Math.round(BD(r))},Fo={test:Z0("rgb","red"),parse:Wb("red","green","blue"),transform:({red:r,green:t,blue:e,alpha:n=1})=>"rgba("+Ov.transform(r)+", "+Ov.transform(t)+", "+Ov.transform(e)+", "+Vc(Wc.transform(n))+")"};function zD(r){let t="",e="",n="",o="";return r.length>5?(t=r.substring(1,3),e=r.substring(3,5),n=r.substring(5,7),o=r.substring(7,9)):(t=r.substring(1,2),e=r.substring(2,3),n=r.substring(3,4),o=r.substring(4,5),t+=t,e+=e,n+=n,o+=o),{red:parseInt(t,16),green:parseInt(e,16),blue:parseInt(n,16),alpha:o?parseInt(o,16)/255:1}}const g0={test:Z0("#"),parse:zD,transform:Fo.transform},wl={test:Z0("hsl","hue"),parse:Wb("hue","saturation","lightness"),transform:({hue:r,saturation:t,lightness:e,alpha:n=1})=>"hsla("+Math.round(r)+", "+os.transform(Vc(t))+", "+os.transform(Vc(e))+", "+Vc(Wc.transform(n))+")"},on={test:r=>Fo.test(r)||g0.test(r)||wl.test(r),parse:r=>Fo.test(r)?Fo.parse(r):wl.test(r)?wl.parse(r):g0.parse(r),transform:r=>typeof r=="string"?r:r.hasOwnProperty("red")?Fo.transform(r):wl.transform(r)},HD=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function UD(r){var t,e;return isNaN(r)&&typeof r=="string"&&(((t=r.match(Q0))===null||t===void 0?void 0:t.length)||0)+(((e=r.match(HD))===null||e===void 0?void 0:e.length)||0)>0}const Gb="number",Xb="color",$D="var",WD="var(",iE="${}",GD=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Gc(r){const t=r.toString(),e=[],n={color:[],number:[],var:[]},o=[];let a=0;const c=t.replace(GD,d=>(on.test(d)?(n.color.push(a),o.push(Xb),e.push(on.parse(d))):d.startsWith(WD)?(n.var.push(a),o.push($D),e.push(d)):(n.number.push(a),o.push(Gb),e.push(parseFloat(d))),++a,iE)).split(iE);return{values:e,split:c,indexes:n,types:o}}function Kb(r){return Gc(r).values}function qb(r){const{split:t,types:e}=Gc(r),n=t.length;return o=>{let a="";for(let l=0;l<n;l++)if(a+=t[l],o[l]!==void 0){const c=e[l];c===Gb?a+=Vc(o[l]):c===Xb?a+=on.transform(o[l]):a+=o[l]}return a}}const XD=r=>typeof r=="number"?0:r;function KD(r){const t=Kb(r);return qb(r)(t.map(XD))}const ro={test:UD,parse:Kb,createTransformer:qb,getAnimatableNone:KD},qD=new Set(["brightness","contrast","saturate","opacity"]);function YD(r){const[t,e]=r.slice(0,-1).split("(");if(t==="drop-shadow")return r;const[n]=e.match(Q0)||[];if(!n)return r;const o=e.replace(n,"");let a=qD.has(t)?1:0;return n!==e&&(a*=100),t+"("+a+o+")"}const QD=/\b([a-z-]*)\(.*?\)/gu,v0={...ro,getAnimatableNone:r=>{const t=r.match(QD);return t?t.map(YD).join(" "):r}},ZD={borderWidth:At,borderTopWidth:At,borderRightWidth:At,borderBottomWidth:At,borderLeftWidth:At,borderRadius:At,radius:At,borderTopLeftRadius:At,borderTopRightRadius:At,borderBottomRightRadius:At,borderBottomLeftRadius:At,width:At,maxWidth:At,height:At,maxHeight:At,top:At,right:At,bottom:At,left:At,padding:At,paddingTop:At,paddingRight:At,paddingBottom:At,paddingLeft:At,margin:At,marginTop:At,marginRight:At,marginBottom:At,marginLeft:At,backgroundPositionX:At,backgroundPositionY:At},JD={rotate:Mr,rotateX:Mr,rotateY:Mr,rotateZ:Mr,scale:ep,scaleX:ep,scaleY:ep,scaleZ:ep,skew:Mr,skewX:Mr,skewY:Mr,distance:At,translateX:At,translateY:At,translateZ:At,x:At,y:At,z:At,perspective:At,transformPerspective:At,opacity:Wc,originX:Z1,originY:Z1,originZ:At},sE={...ku,transform:Math.round},J0={...ZD,...JD,zIndex:sE,size:At,fillOpacity:Wc,strokeOpacity:Wc,numOctaves:sE},tI={...J0,color:on,backgroundColor:on,outlineColor:on,fill:on,stroke:on,borderColor:on,borderTopColor:on,borderRightColor:on,borderBottomColor:on,borderLeftColor:on,filter:v0,WebkitFilter:v0},tw=r=>tI[r];function Yb(r,t){let e=tw(r);return e!==v0&&(e=ro),e.getAnimatableNone?e.getAnimatableNone(t):void 0}const eI=new Set(["auto","none","0"]);function nI(r,t,e){let n=0,o;for(;n<r.length&&!o;){const a=r[n];typeof a=="string"&&!eI.has(a)&&Gc(a).values.length&&(o=r[n]),n++}if(o&&e)for(const a of t)r[a]=Yb(e,o)}class Qb extends Y0{constructor(t,e,n,o,a){super(t,e,n,o,a,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:e,name:n}=this;if(!e||!e.current)return;super.readKeyframes();for(let d=0;d<t.length;d++){let p=t[d];if(typeof p=="string"&&(p=p.trim(),q0(p))){const m=Bb(p,e.current);m!==void 0&&(t[d]=m),d===t.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!MD.has(n)||t.length!==2)return;const[o,a]=t,l=nE(o),c=nE(a);if(l!==c)if(J1(l)&&J1(c))for(let d=0;d<t.length;d++){const p=t[d];typeof p=="string"&&(t[d]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:e}=this,n=[];for(let o=0;o<t.length;o++)bD(t[o])&&n.push(o);n.length&&nI(t,n,e)}measureInitialState(){const{element:t,unresolvedKeyframes:e,name:n}=this;if(!t||!t.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=bu[n](t.measureViewportBox(),window.getComputedStyle(t.current)),e[0]=this.measuredOrigin;const o=e[e.length-1];o!==void 0&&t.getValue(n,o).jump(o,!1)}measureEndState(){var t;const{element:e,name:n,unresolvedKeyframes:o}=this;if(!e||!e.current)return;const a=e.getValue(n);a&&a.jump(this.measuredOrigin,!1);const l=o.length-1,c=o[l];o[l]=bu[n](e.measureViewportBox(),window.getComputedStyle(e.current)),c!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=c),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([d,p])=>{e.getValue(d).set(p)}),this.resolveNoneKeyframes()}}function ew(r){return typeof r=="function"}let kp;function iI(){kp=void 0}const as={now:()=>(kp===void 0&&as.set(qe.isProcessing||yD.useManualTiming?qe.timestamp:performance.now()),kp),set:r=>{kp=r,queueMicrotask(iI)}},rE=(r,t)=>t==="zIndex"?!1:!!(typeof r=="number"||Array.isArray(r)||typeof r=="string"&&(ro.test(r)||r==="0")&&!r.startsWith("url("));function sI(r){const t=r[0];if(r.length===1)return!0;for(let e=0;e<r.length;e++)if(r[e]!==t)return!0}function rI(r,t,e,n){const o=r[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const a=r[r.length-1],l=rE(o,t),c=rE(a,t);return!l||!c?!1:sI(r)||(e==="spring"||ew(e))&&n}const oI=40;class Zb{constructor({autoplay:t=!0,delay:e=0,type:n="keyframes",repeat:o=0,repeatDelay:a=0,repeatType:l="loop",...c}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=as.now(),this.options={autoplay:t,delay:e,type:n,repeat:o,repeatDelay:a,repeatType:l,...c},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>oI?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&ND(),this._resolved}onKeyframesResolved(t,e){this.resolvedAt=as.now(),this.hasAttemptedResolve=!0;const{name:n,type:o,velocity:a,delay:l,onComplete:c,onUpdate:d,isGenerator:p}=this.options;if(!p&&!rI(t,n,o,a))if(l)this.options.duration=0;else{d==null||d(Lm(t,this.options,e)),c==null||c(),this.resolveFinishedPromise();return}const m=this.initPlayback(t,e);m!==!1&&(this._resolved={keyframes:t,finalKeyframe:e,...m},this.onPostResolved())}onPostResolved(){}then(t,e){return this.currentFinishedPromise.then(t,e)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Cu=(r,t,e)=>{const n=t-r;return n===0?1:(e-r)/n},Jb=(r,t,e=10)=>{let n="";const o=Math.max(Math.round(t/e),2);for(let a=0;a<o;a++)n+=r(Cu(0,o-1,a))+", ";return`linear(${n.substring(0,n.length-2)})`};function tC(r,t){return t?r*(1e3/t):0}const aI=5;function eC(r,t,e){const n=Math.max(t-aI,0);return tC(e-r(n),t-n)}const pe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Nv=.001;function lI({duration:r=pe.duration,bounce:t=pe.bounce,velocity:e=pe.velocity,mass:n=pe.mass}){let o,a,l=1-t;l=rr(pe.minDamping,pe.maxDamping,l),r=rr(pe.minDuration,pe.maxDuration,nr(r)),l<1?(o=p=>{const m=p*l,v=m*r,y=m-e,A=y0(p,l),S=Math.exp(-v);return Nv-y/A*S},a=p=>{const v=p*l*r,y=v*e+e,A=Math.pow(l,2)*Math.pow(p,2)*r,S=Math.exp(-v),_=y0(Math.pow(p,2),l);return(-o(p)+Nv>0?-1:1)*((y-A)*S)/_}):(o=p=>{const m=Math.exp(-p*r),v=(p-e)*r+1;return-Nv+m*v},a=p=>{const m=Math.exp(-p*r),v=(e-p)*(r*r);return m*v});const c=5/r,d=cI(o,a,c);if(r=er(r),isNaN(d))return{stiffness:pe.stiffness,damping:pe.damping,duration:r};{const p=Math.pow(d,2)*n;return{stiffness:p,damping:l*2*Math.sqrt(n*p),duration:r}}}const uI=12;function cI(r,t,e){let n=e;for(let o=1;o<uI;o++)n=n-r(n)/t(n);return n}function y0(r,t){return r*Math.sqrt(1-t*t)}const w0=2e4;function nC(r){let t=0;const e=50;let n=r.next(t);for(;!n.done&&t<w0;)t+=e,n=r.next(t);return t>=w0?1/0:t}const hI=["duration","bounce"],dI=["stiffness","damping","mass"];function oE(r,t){return t.some(e=>r[e]!==void 0)}function fI(r){let t={velocity:pe.velocity,stiffness:pe.stiffness,damping:pe.damping,mass:pe.mass,isResolvedFromDuration:!1,...r};if(!oE(r,dI)&&oE(r,hI))if(r.visualDuration){const e=r.visualDuration,n=2*Math.PI/(e*1.2),o=n*n,a=2*rr(.05,1,1-r.bounce)*Math.sqrt(o);t={...t,mass:pe.mass,stiffness:o,damping:a}}else{const e=lI(r);t={...t,...e,mass:pe.mass},t.isResolvedFromDuration=!0}return t}function iC(r=pe.visualDuration,t=pe.bounce){const e=typeof r!="object"?{visualDuration:r,keyframes:[0,1],bounce:t}:r;let{restSpeed:n,restDelta:o}=e;const a=e.keyframes[0],l=e.keyframes[e.keyframes.length-1],c={done:!1,value:a},{stiffness:d,damping:p,mass:m,duration:v,velocity:y,isResolvedFromDuration:A}=fI({...e,velocity:-nr(e.velocity||0)}),S=y||0,_=p/(2*Math.sqrt(d*m)),P=l-a,C=nr(Math.sqrt(d/m)),R=Math.abs(P)<5;n||(n=R?pe.restSpeed.granular:pe.restSpeed.default),o||(o=R?pe.restDelta.granular:pe.restDelta.default);let M;if(_<1){const O=y0(C,_);M=V=>{const W=Math.exp(-_*C*V);return l-W*((S+_*C*P)/O*Math.sin(O*V)+P*Math.cos(O*V))}}else if(_===1)M=O=>l-Math.exp(-C*O)*(P+(S+C*P)*O);else{const O=C*Math.sqrt(_*_-1);M=V=>{const W=Math.exp(-_*C*V),H=Math.min(O*V,300);return l-W*((S+_*C*P)*Math.sinh(H)+O*P*Math.cosh(H))/O}}const F={calculatedDuration:A&&v||null,next:O=>{const V=M(O);if(A)c.done=O>=v;else{let W=0;_<1&&(W=O===0?er(S):eC(M,O,V));const H=Math.abs(W)<=n,Y=Math.abs(l-V)<=o;c.done=H&&Y}return c.value=c.done?l:V,c},toString:()=>{const O=Math.min(nC(F),w0),V=Jb(W=>F.next(O*W).value,O,30);return O+"ms "+V}};return F}function aE({keyframes:r,velocity:t=0,power:e=.8,timeConstant:n=325,bounceDamping:o=10,bounceStiffness:a=500,modifyTarget:l,min:c,max:d,restDelta:p=.5,restSpeed:m}){const v=r[0],y={done:!1,value:v},A=H=>c!==void 0&&H<c||d!==void 0&&H>d,S=H=>c===void 0?d:d===void 0||Math.abs(c-H)<Math.abs(d-H)?c:d;let _=e*t;const P=v+_,C=l===void 0?P:l(P);C!==P&&(_=C-v);const R=H=>-_*Math.exp(-H/n),M=H=>C+R(H),F=H=>{const Y=R(H),et=M(H);y.done=Math.abs(Y)<=p,y.value=y.done?C:et};let O,V;const W=H=>{A(y.value)&&(O=H,V=iC({keyframes:[y.value,S(y.value)],velocity:eC(M,H,y.value),damping:o,stiffness:a,restDelta:p,restSpeed:m}))};return W(0),{calculatedDuration:null,next:H=>{let Y=!1;return!V&&O===void 0&&(Y=!0,F(H),W(H)),O!==void 0&&H>=O?V.next(H-O):(!Y&&F(H),y)}}}const pI=Ld(.42,0,1,1),mI=Ld(0,0,.58,1),sC=Ld(.42,0,.58,1),gI=r=>Array.isArray(r)&&typeof r[0]!="number",nw=r=>Array.isArray(r)&&typeof r[0]=="number",lE={linear:cn,easeIn:pI,easeInOut:sC,easeOut:mI,circIn:K0,circInOut:Fb,circOut:Ib,backIn:X0,backInOut:Mb,backOut:Lb,anticipate:Db},uE=r=>{if(nw(r)){f0(r.length===4);const[t,e,n,o]=r;return Ld(t,e,n,o)}else if(typeof r=="string")return f0(lE[r]!==void 0),lE[r];return r},vI=(r,t)=>e=>t(r(e)),eo=(...r)=>r.reduce(vI),he=(r,t,e)=>r+(t-r)*e;function jv(r,t,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?r+(t-r)*6*e:e<1/2?t:e<2/3?r+(t-r)*(2/3-e)*6:r}function yI({hue:r,saturation:t,lightness:e,alpha:n}){r/=360,t/=100,e/=100;let o=0,a=0,l=0;if(!t)o=a=l=e;else{const c=e<.5?e*(1+t):e+t-e*t,d=2*e-c;o=jv(d,c,r+1/3),a=jv(d,c,r),l=jv(d,c,r-1/3)}return{red:Math.round(o*255),green:Math.round(a*255),blue:Math.round(l*255),alpha:n}}function Hp(r,t){return e=>e>0?t:r}const Vv=(r,t,e)=>{const n=r*r,o=e*(t*t-n)+n;return o<0?0:Math.sqrt(o)},wI=[g0,Fo,wl],AI=r=>wI.find(t=>t.test(r));function cE(r){const t=AI(r);if(!t)return!1;let e=t.parse(r);return t===wl&&(e=yI(e)),e}const hE=(r,t)=>{const e=cE(r),n=cE(t);if(!e||!n)return Hp(r,t);const o={...e};return a=>(o.red=Vv(e.red,n.red,a),o.green=Vv(e.green,n.green,a),o.blue=Vv(e.blue,n.blue,a),o.alpha=he(e.alpha,n.alpha,a),Fo.transform(o))},A0=new Set(["none","hidden"]);function SI(r,t){return A0.has(r)?e=>e<=0?r:t:e=>e>=1?t:r}function EI(r,t){return e=>he(r,t,e)}function iw(r){return typeof r=="number"?EI:typeof r=="string"?q0(r)?Hp:on.test(r)?hE:bI:Array.isArray(r)?rC:typeof r=="object"?on.test(r)?hE:_I:Hp}function rC(r,t){const e=[...r],n=e.length,o=r.map((a,l)=>iw(a)(a,t[l]));return a=>{for(let l=0;l<n;l++)e[l]=o[l](a);return e}}function _I(r,t){const e={...r,...t},n={};for(const o in e)r[o]!==void 0&&t[o]!==void 0&&(n[o]=iw(r[o])(r[o],t[o]));return o=>{for(const a in n)e[a]=n[a](o);return e}}function xI(r,t){var e;const n=[],o={color:0,var:0,number:0};for(let a=0;a<t.values.length;a++){const l=t.types[a],c=r.indexes[l][o[l]],d=(e=r.values[c])!==null&&e!==void 0?e:0;n[a]=d,o[l]++}return n}const bI=(r,t)=>{const e=ro.createTransformer(t),n=Gc(r),o=Gc(t);return n.indexes.var.length===o.indexes.var.length&&n.indexes.color.length===o.indexes.color.length&&n.indexes.number.length>=o.indexes.number.length?A0.has(r)&&!o.values.length||A0.has(t)&&!n.values.length?SI(r,t):eo(rC(xI(n,o),o.values),e):Hp(r,t)};function oC(r,t,e){return typeof r=="number"&&typeof t=="number"&&typeof e=="number"?he(r,t,e):iw(r)(r,t)}function CI(r,t,e){const n=[],o=e||oC,a=r.length-1;for(let l=0;l<a;l++){let c=o(r[l],r[l+1]);if(t){const d=Array.isArray(t)?t[l]||cn:t;c=eo(d,c)}n.push(c)}return n}function TI(r,t,{clamp:e=!0,ease:n,mixer:o}={}){const a=r.length;if(f0(a===t.length),a===1)return()=>t[0];if(a===2&&r[0]===r[1])return()=>t[1];r[0]>r[a-1]&&(r=[...r].reverse(),t=[...t].reverse());const l=CI(t,n,o),c=l.length,d=p=>{let m=0;if(c>1)for(;m<r.length-2&&!(p<r[m+1]);m++);const v=Cu(r[m],r[m+1],p);return l[m](v)};return e?p=>d(rr(r[0],r[a-1],p)):d}function PI(r,t){const e=r[r.length-1];for(let n=1;n<=t;n++){const o=Cu(0,t,n);r.push(he(e,1,o))}}function kI(r){const t=[0];return PI(t,r.length-1),t}function RI(r,t){return r.map(e=>e*t)}function LI(r,t){return r.map(()=>t||sC).splice(0,r.length-1)}function Up({duration:r=300,keyframes:t,times:e,ease:n="easeInOut"}){const o=gI(n)?n.map(uE):uE(n),a={done:!1,value:t[0]},l=RI(e&&e.length===t.length?e:kI(t),r),c=TI(l,t,{ease:Array.isArray(o)?o:LI(t,o)});return{calculatedDuration:r,next:d=>(a.value=c(d),a.done=d>=r,a)}}const MI=r=>{const t=({timestamp:e})=>r(e);return{start:()=>qt.update(t,!0),stop:()=>so(t),now:()=>qe.isProcessing?qe.timestamp:as.now()}},DI={decay:aE,inertia:aE,tween:Up,keyframes:Up,spring:iC},II=r=>r/100;class sw extends Zb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:d}=this.options;d&&d()};const{name:e,motionValue:n,element:o,keyframes:a}=this.options,l=(o==null?void 0:o.KeyframeResolver)||Y0,c=(d,p)=>this.onKeyframesResolved(d,p);this.resolver=new l(a,c,e,n,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:e="keyframes",repeat:n=0,repeatDelay:o=0,repeatType:a,velocity:l=0}=this.options,c=ew(e)?e:DI[e]||Up;let d,p;c!==Up&&typeof t[0]!="number"&&(d=eo(II,oC(t[0],t[1])),t=[0,100]);const m=c({...this.options,keyframes:t});a==="mirror"&&(p=c({...this.options,keyframes:[...t].reverse(),velocity:-l})),m.calculatedDuration===null&&(m.calculatedDuration=nC(m));const{calculatedDuration:v}=m,y=v+o,A=y*(n+1)-o;return{generator:m,mirroredGenerator:p,mapPercentToKeyframes:d,calculatedDuration:v,resolvedDuration:y,totalDuration:A}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,e=!1){const{resolved:n}=this;if(!n){const{keyframes:H}=this.options;return{done:!0,value:H[H.length-1]}}const{finalKeyframe:o,generator:a,mirroredGenerator:l,mapPercentToKeyframes:c,keyframes:d,calculatedDuration:p,totalDuration:m,resolvedDuration:v}=n;if(this.startTime===null)return a.next(0);const{delay:y,repeat:A,repeatType:S,repeatDelay:_,onUpdate:P}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-m/this.speed,this.startTime)),e?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const C=this.currentTime-y*(this.speed>=0?1:-1),R=this.speed>=0?C<0:C>m;this.currentTime=Math.max(C,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=m);let M=this.currentTime,F=a;if(A){const H=Math.min(this.currentTime,m)/v;let Y=Math.floor(H),et=H%1;!et&&H>=1&&(et=1),et===1&&Y--,Y=Math.min(Y,A+1),!!(Y%2)&&(S==="reverse"?(et=1-et,_&&(et-=_/v)):S==="mirror"&&(F=l)),M=rr(0,1,et)*v}const O=R?{done:!1,value:d[0]}:F.next(M);c&&(O.value=c(O.value));let{done:V}=O;!R&&p!==null&&(V=this.speed>=0?this.currentTime>=m:this.currentTime<=0);const W=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return W&&o!==void 0&&(O.value=Lm(d,this.options,o)),P&&P(O.value),W&&this.finish(),O}get duration(){const{resolved:t}=this;return t?nr(t.calculatedDuration):0}get time(){return nr(this.currentTime)}set time(t){t=er(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const e=this.playbackSpeed!==t;this.playbackSpeed=t,e&&(this.time=nr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=MI,onPlay:e,startTime:n}=this.options;this.driver||(this.driver=t(a=>this.tick(a))),e&&e();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=n??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const FI=new Set(["opacity","clipPath","filter","transform"]);function rw(r){let t;return()=>(t===void 0&&(t=r()),t)}const OI={linearEasing:void 0};function NI(r,t){const e=rw(r);return()=>{var n;return(n=OI[t])!==null&&n!==void 0?n:e()}}const $p=NI(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing");function aC(r){return!!(typeof r=="function"&&$p()||!r||typeof r=="string"&&(r in S0||$p())||nw(r)||Array.isArray(r)&&r.every(aC))}const Fc=([r,t,e,n])=>`cubic-bezier(${r}, ${t}, ${e}, ${n})`,S0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Fc([0,.65,.55,1]),circOut:Fc([.55,0,1,.45]),backIn:Fc([.31,.01,.66,-.59]),backOut:Fc([.33,1.53,.69,.99])};function lC(r,t){if(r)return typeof r=="function"&&$p()?Jb(r,t):nw(r)?Fc(r):Array.isArray(r)?r.map(e=>lC(e,t)||S0.easeOut):S0[r]}function jI(r,t,e,{delay:n=0,duration:o=300,repeat:a=0,repeatType:l="loop",ease:c="easeInOut",times:d}={}){const p={[t]:e};d&&(p.offset=d);const m=lC(c,o);return Array.isArray(m)&&(p.easing=m),r.animate(p,{delay:n,duration:o,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:a+1,direction:l==="reverse"?"alternate":"normal"})}function dE(r,t){r.timeline=t,r.onfinish=null}const VI=rw(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Wp=10,BI=2e4;function zI(r){return ew(r.type)||r.type==="spring"||!aC(r.ease)}function HI(r,t){const e=new sw({...t,keyframes:r,repeat:0,delay:0,isGenerator:!0});let n={done:!1,value:r[0]};const o=[];let a=0;for(;!n.done&&a<BI;)n=e.sample(a),o.push(n.value),a+=Wp;return{times:void 0,keyframes:o,duration:a-Wp,ease:"linear"}}const uC={anticipate:Db,backInOut:Mb,circInOut:Fb};function UI(r){return r in uC}class fE extends Zb{constructor(t){super(t);const{name:e,motionValue:n,element:o,keyframes:a}=this.options;this.resolver=new Qb(a,(l,c)=>this.onKeyframesResolved(l,c),e,n,o),this.resolver.scheduleResolve()}initPlayback(t,e){var n;let{duration:o=300,times:a,ease:l,type:c,motionValue:d,name:p,startTime:m}=this.options;if(!(!((n=d.owner)===null||n===void 0)&&n.current))return!1;if(typeof l=="string"&&$p()&&UI(l)&&(l=uC[l]),zI(this.options)){const{onComplete:y,onUpdate:A,motionValue:S,element:_,...P}=this.options,C=HI(t,P);t=C.keyframes,t.length===1&&(t[1]=t[0]),o=C.duration,a=C.times,l=C.ease,c="keyframes"}const v=jI(d.owner.current,p,t,{...this.options,duration:o,times:a,ease:l});return v.startTime=m??this.calcStartTime(),this.pendingTimeline?(dE(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:y}=this.options;d.set(Lm(t,this.options,e)),y&&y(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:o,times:a,type:c,ease:l,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:e}=t;return nr(e)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:e}=t;return nr(e.currentTime||0)}set time(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.currentTime=er(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:e}=t;return e.playbackRate}set speed(t){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:e}=t;return e.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:e}=t;return e.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:e}=this;if(!e)return cn;const{animation:n}=e;dE(n,t)}return cn}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.playState==="finished"&&this.updateFinishedPromise(),e.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:e}=t;e.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:e,keyframes:n,duration:o,type:a,ease:l,times:c}=t;if(e.playState==="idle"||e.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:m,onComplete:v,element:y,...A}=this.options,S=new sw({...A,keyframes:n,duration:o,type:a,ease:l,times:c,isGenerator:!0}),_=er(this.time);p.setWithVelocity(S.sample(_-Wp).value,S.sample(_).value,Wp)}const{onStop:d}=this.options;d&&d(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:e,name:n,repeatDelay:o,repeatType:a,damping:l,type:c}=t;return VI()&&n&&FI.has(n)&&e&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate&&!o&&a!=="mirror"&&l!==0&&c!=="inertia"}}const $I=rw(()=>window.ScrollTimeline!==void 0);class WI{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}then(t,e){return Promise.all(this.animations).then(t).catch(e)}getAll(t){return this.animations[0][t]}setAll(t,e){for(let n=0;n<this.animations.length;n++)this.animations[n][t]=e}attachTimeline(t,e){const n=this.animations.map(o=>$I()&&o.attachTimeline?o.attachTimeline(t):e(o));return()=>{n.forEach((o,a)=>{o&&o(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let e=0;e<this.animations.length;e++)t=Math.max(t,this.animations[e].duration);return t}runAll(t){this.animations.forEach(e=>e[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}function GI({when:r,delay:t,delayChildren:e,staggerChildren:n,staggerDirection:o,repeat:a,repeatType:l,repeatDelay:c,from:d,elapsed:p,...m}){return!!Object.keys(m).length}const ow=(r,t,e,n={},o,a)=>l=>{const c=G0(n,r)||{},d=c.delay||n.delay||0;let{elapsed:p=0}=n;p=p-er(d);let m={keyframes:Array.isArray(e)?e:[null,e],ease:"easeOut",velocity:t.getVelocity(),...c,delay:-p,onUpdate:y=>{t.set(y),c.onUpdate&&c.onUpdate(y)},onComplete:()=>{l(),c.onComplete&&c.onComplete()},name:r,motionValue:t,element:a?void 0:o};GI(c)||(m={...m,...vD(r,m)}),m.duration&&(m.duration=er(m.duration)),m.repeatDelay&&(m.repeatDelay=er(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let v=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(m.duration=0,m.delay===0&&(v=!0)),v&&!a&&t.get()!==void 0){const y=Lm(m.keyframes,c);if(y!==void 0)return qt.update(()=>{m.onUpdate(y),m.onComplete()}),new WI([])}return!a&&fE.supports(m)?new fE(m):new sw(m)},XI=r=>!!(r&&typeof r=="object"&&r.mix&&r.toValue),KI=r=>d0(r)?r[r.length-1]||0:r;function aw(r,t){r.indexOf(t)===-1&&r.push(t)}function lw(r,t){const e=r.indexOf(t);e>-1&&r.splice(e,1)}class uw{constructor(){this.subscriptions=[]}add(t){return aw(this.subscriptions,t),()=>lw(this.subscriptions,t)}notify(t,e,n){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,e,n);else for(let a=0;a<o;a++){const l=this.subscriptions[a];l&&l(t,e,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const pE=30,qI=r=>!isNaN(parseFloat(r));class YI{constructor(t,e={}){this.version="11.13.3",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(n,o=!0)=>{const a=as.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=e.owner}setCurrent(t){this.current=t,this.updatedAt=as.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=qI(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,e){this.events[t]||(this.events[t]=new uw);const n=this.events[t].add(e);return t==="change"?()=>{n(),qt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,e){this.passiveEffect=t,this.stopPassiveEffect=e}set(t,e=!0){!e||!this.passiveEffect?this.updateAndNotify(t,e):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,e,n){this.set(e),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-n}jump(t,e=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,e&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=as.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>pE)return 0;const e=Math.min(this.updatedAt-this.prevUpdatedAt,pE);return tC(parseFloat(this.current)-parseFloat(this.prevFrameValue),e)}start(t){return this.stop(),new Promise(e=>{this.hasAnimated=!0,this.animation=t(e),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Tu(r,t){return new YI(r,t)}function QI(r,t,e){r.hasValue(t)?r.getValue(t).set(e):r.addValue(t,Tu(e))}function ZI(r,t){const e=Rm(r,t);let{transitionEnd:n={},transition:o={},...a}=e||{};a={...a,...n};for(const l in a){const c=KI(a[l]);QI(r,l,c)}}const cw=r=>r.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JI="framerAppearId",cC="data-"+cw(JI);function hC(r){return r.props[cC]}const un=r=>!!(r&&r.getVelocity);function t2(r){return!!(un(r)&&r.add)}function E0(r,t){const e=r.getValue("willChange");if(t2(e))return e.add(t)}function e2({protectedKeys:r,needsAnimating:t},e){const n=r.hasOwnProperty(e)&&t[e]!==!0;return t[e]=!1,n}function dC(r,t,{delay:e=0,transitionOverride:n,type:o}={}){var a;let{transition:l=r.getDefaultTransition(),transitionEnd:c,...d}=t;n&&(l=n);const p=[],m=o&&r.animationState&&r.animationState.getState()[o];for(const v in d){const y=r.getValue(v,(a=r.latestValues[v])!==null&&a!==void 0?a:null),A=d[v];if(A===void 0||m&&e2(m,v))continue;const S={delay:e,...G0(l||{},v)};let _=!1;if(window.MotionHandoffAnimation){const C=hC(r);if(C){const R=window.MotionHandoffAnimation(C,v,qt);R!==null&&(S.startTime=R,_=!0)}}E0(r,v),y.start(ow(v,y,A,r.shouldReduceMotion&&Ha.has(v)?{type:!1}:S,r,_));const P=y.animation;P&&p.push(P)}return c&&Promise.all(p).then(()=>{qt.update(()=>{c&&ZI(r,c)})}),p}function _0(r,t,e={}){var n;const o=Rm(r,t,e.type==="exit"?(n=r.presenceContext)===null||n===void 0?void 0:n.custom:void 0);let{transition:a=r.getDefaultTransition()||{}}=o||{};e.transitionOverride&&(a=e.transitionOverride);const l=o?()=>Promise.all(dC(r,o,e)):()=>Promise.resolve(),c=r.variantChildren&&r.variantChildren.size?(p=0)=>{const{delayChildren:m=0,staggerChildren:v,staggerDirection:y}=a;return n2(r,t,m+p,v,y,e)}:()=>Promise.resolve(),{when:d}=a;if(d){const[p,m]=d==="beforeChildren"?[l,c]:[c,l];return p().then(()=>m())}else return Promise.all([l(),c(e.delay)])}function n2(r,t,e=0,n=0,o=1,a){const l=[],c=(r.variantChildren.size-1)*n,d=o===1?(p=0)=>p*n:(p=0)=>c-p*n;return Array.from(r.variantChildren).sort(i2).forEach((p,m)=>{p.notify("AnimationStart",t),l.push(_0(p,t,{...a,delay:e+d(m)}).then(()=>p.notify("AnimationComplete",t)))}),Promise.all(l)}function i2(r,t){return r.sortNodePosition(t)}function s2(r,t,e={}){r.notify("AnimationStart",t);let n;if(Array.isArray(t)){const o=t.map(a=>_0(r,a,e));n=Promise.all(o)}else if(typeof t=="string")n=_0(r,t,e);else{const o=typeof t=="function"?Rm(r,t,e.custom):t;n=Promise.all(dC(r,o,e))}return n.then(()=>{r.notify("AnimationComplete",t)})}const r2=W0.length;function fC(r){if(!r)return;if(!r.isControllingVariants){const e=r.parent?fC(r.parent)||{}:{};return r.props.initial!==void 0&&(e.initial=r.props.initial),e}const t={};for(let e=0;e<r2;e++){const n=W0[e],o=r.props[n];($c(o)||o===!1)&&(t[n]=o)}return t}const o2=[...$0].reverse(),a2=$0.length;function l2(r){return t=>Promise.all(t.map(({animation:e,options:n})=>s2(r,e,n)))}function u2(r){let t=l2(r),e=mE(),n=!0;const o=d=>(p,m)=>{var v;const y=Rm(r,m,d==="exit"?(v=r.presenceContext)===null||v===void 0?void 0:v.custom:void 0);if(y){const{transition:A,transitionEnd:S,..._}=y;p={...p,..._,...S}}return p};function a(d){t=d(r)}function l(d){const{props:p}=r,m=fC(r.parent)||{},v=[],y=new Set;let A={},S=1/0;for(let P=0;P<a2;P++){const C=o2[P],R=e[C],M=p[C]!==void 0?p[C]:m[C],F=$c(M),O=C===d?R.isActive:null;O===!1&&(S=P);let V=M===m[C]&&M!==p[C]&&F;if(V&&n&&r.manuallyAnimateOnMount&&(V=!1),R.protectedKeys={...A},!R.isActive&&O===null||!M&&!R.prevProp||km(M)||typeof M=="boolean")continue;const W=c2(R.prevProp,M);let H=W||C===d&&R.isActive&&!V&&F||P>S&&F,Y=!1;const et=Array.isArray(M)?M:[M];let tt=et.reduce(o(C),{});O===!1&&(tt={});const{prevResolvedValues:_t={}}=R,pt={..._t,...tt},ht=G=>{H=!0,y.has(G)&&(Y=!0,y.delete(G)),R.needsAnimating[G]=!0;const z=r.getValue(G);z&&(z.liveStyle=!1)};for(const G in pt){const z=tt[G],rt=_t[G];if(A.hasOwnProperty(G))continue;let J=!1;d0(z)&&d0(rt)?J=!Cb(z,rt):J=z!==rt,J?z!=null?ht(G):y.add(G):z!==void 0&&y.has(G)?ht(G):R.protectedKeys[G]=!0}R.prevProp=M,R.prevResolvedValues=tt,R.isActive&&(A={...A,...tt}),n&&r.blockInitialAnimation&&(H=!1),H&&(!(V&&W)||Y)&&v.push(...et.map(G=>({animation:G,options:{type:C}})))}if(y.size){const P={};y.forEach(C=>{const R=r.getBaseTarget(C),M=r.getValue(C);M&&(M.liveStyle=!0),P[C]=R??null}),v.push({animation:P})}let _=!!v.length;return n&&(p.initial===!1||p.initial===p.animate)&&!r.manuallyAnimateOnMount&&(_=!1),n=!1,_?t(v):Promise.resolve()}function c(d,p){var m;if(e[d].isActive===p)return Promise.resolve();(m=r.variantChildren)===null||m===void 0||m.forEach(y=>{var A;return(A=y.animationState)===null||A===void 0?void 0:A.setActive(d,p)}),e[d].isActive=p;const v=l(d);for(const y in e)e[y].protectedKeys={};return v}return{animateChanges:l,setActive:c,setAnimateFunction:a,getState:()=>e,reset:()=>{e=mE(),n=!0}}}function c2(r,t){return typeof t=="string"?t!==r:Array.isArray(t)?!Cb(t,r):!1}function To(r=!1){return{isActive:r,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function mE(){return{animate:To(!0),whileInView:To(),whileHover:To(),whileTap:To(),whileDrag:To(),whileFocus:To(),exit:To()}}class uo{constructor(t){this.isMounted=!1,this.node=t}update(){}}class h2 extends uo{constructor(t){super(t),t.animationState||(t.animationState=u2(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();km(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:e}=this.node.prevProps||{};t!==e&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let d2=0;class f2 extends uo{constructor(){super(...arguments),this.id=d2++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:e}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===n)return;const o=this.node.animationState.setActive("exit",!t);e&&!t&&o.then(()=>e(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const p2={animation:{Feature:h2},exit:{Feature:f2}};function m2(r,t,e){var n;if(r instanceof Element)return[r];if(typeof r=="string"){let o=document;const a=(n=void 0)!==null&&n!==void 0?n:o.querySelectorAll(r);return a?Array.from(a):[]}return Array.from(r)}const wi={x:!1,y:!1};function pC(){return wi.x||wi.y}function gE(r){return t=>{t.pointerType==="touch"||pC()||r(t)}}function g2(r,t,e={}){const n=new AbortController,o={passive:!0,...e,signal:n.signal},a=gE(l=>{const{target:c}=l,d=t(l);if(!d||!c)return;const p=gE(m=>{d(m),c.removeEventListener("pointerleave",p)});c.addEventListener("pointerleave",p,o)});return m2(r).forEach(l=>{l.addEventListener("pointerenter",a,o)}),()=>n.abort()}function v2(r){return r==="x"||r==="y"?wi[r]?null:(wi[r]=!0,()=>{wi[r]=!1}):wi.x||wi.y?null:(wi.x=wi.y=!0,()=>{wi.x=wi.y=!1})}const mC=r=>r.pointerType==="mouse"?typeof r.button!="number"||r.button<=0:r.isPrimary!==!1;function Dd(r){return{point:{x:r.pageX,y:r.pageY}}}const y2=r=>t=>mC(t)&&r(t,Dd(t));function Zs(r,t,e,n={passive:!0}){return r.addEventListener(t,e,n),()=>r.removeEventListener(t,e)}function no(r,t,e,n){return Zs(r,t,y2(e),n)}const vE=(r,t)=>Math.abs(r-t);function w2(r,t){const e=vE(r.x,t.x),n=vE(r.y,t.y);return Math.sqrt(e**2+n**2)}class gC{constructor(t,e,{transformPagePoint:n,contextWindow:o,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=zv(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,A=w2(v.offset,{x:0,y:0})>=3;if(!y&&!A)return;const{point:S}=v,{timestamp:_}=qe;this.history.push({...S,timestamp:_});const{onStart:P,onMove:C}=this.handlers;y||(P&&P(this.lastMoveEvent,v),this.startEvent=this.lastMoveEvent),C&&C(this.lastMoveEvent,v)},this.handlePointerMove=(v,y)=>{this.lastMoveEvent=v,this.lastMoveEventInfo=Bv(y,this.transformPagePoint),qt.update(this.updatePoint,!0)},this.handlePointerUp=(v,y)=>{this.end();const{onEnd:A,onSessionEnd:S,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const P=zv(v.type==="pointercancel"?this.lastMoveEventInfo:Bv(y,this.transformPagePoint),this.history);this.startEvent&&A&&A(v,P),S&&S(v,P)},!mC(t))return;this.dragSnapToOrigin=a,this.handlers=e,this.transformPagePoint=n,this.contextWindow=o||window;const l=Dd(t),c=Bv(l,this.transformPagePoint),{point:d}=c,{timestamp:p}=qe;this.history=[{...d,timestamp:p}];const{onSessionStart:m}=e;m&&m(t,zv(c,this.history)),this.removeListeners=eo(no(this.contextWindow,"pointermove",this.handlePointerMove),no(this.contextWindow,"pointerup",this.handlePointerUp),no(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),so(this.updatePoint)}}function Bv(r,t){return t?{point:t(r.point)}:r}function yE(r,t){return{x:r.x-t.x,y:r.y-t.y}}function zv({point:r},t){return{point:r,delta:yE(r,vC(t)),offset:yE(r,A2(t)),velocity:S2(t,.1)}}function A2(r){return r[0]}function vC(r){return r[r.length-1]}function S2(r,t){if(r.length<2)return{x:0,y:0};let e=r.length-1,n=null;const o=vC(r);for(;e>=0&&(n=r[e],!(o.timestamp-n.timestamp>er(t)));)e--;if(!n)return{x:0,y:0};const a=nr(o.timestamp-n.timestamp);if(a===0)return{x:0,y:0};const l={x:(o.x-n.x)/a,y:(o.y-n.y)/a};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function Al(r){return r&&typeof r=="object"&&Object.prototype.hasOwnProperty.call(r,"current")}const yC=1e-4,E2=1-yC,_2=1+yC,wC=.01,x2=0-wC,b2=0+wC;function Kn(r){return r.max-r.min}function C2(r,t,e){return Math.abs(r-t)<=e}function wE(r,t,e,n=.5){r.origin=n,r.originPoint=he(t.min,t.max,r.origin),r.scale=Kn(e)/Kn(t),r.translate=he(e.min,e.max,r.origin)-r.originPoint,(r.scale>=E2&&r.scale<=_2||isNaN(r.scale))&&(r.scale=1),(r.translate>=x2&&r.translate<=b2||isNaN(r.translate))&&(r.translate=0)}function Bc(r,t,e,n){wE(r.x,t.x,e.x,n?n.originX:void 0),wE(r.y,t.y,e.y,n?n.originY:void 0)}function AE(r,t,e){r.min=e.min+t.min,r.max=r.min+Kn(t)}function T2(r,t,e){AE(r.x,t.x,e.x),AE(r.y,t.y,e.y)}function SE(r,t,e){r.min=t.min-e.min,r.max=r.min+Kn(t)}function zc(r,t,e){SE(r.x,t.x,e.x),SE(r.y,t.y,e.y)}function P2(r,{min:t,max:e},n){return t!==void 0&&r<t?r=n?he(t,r,n.min):Math.max(r,t):e!==void 0&&r>e&&(r=n?he(e,r,n.max):Math.min(r,e)),r}function EE(r,t,e){return{min:t!==void 0?r.min+t:void 0,max:e!==void 0?r.max+e-(r.max-r.min):void 0}}function k2(r,{top:t,left:e,bottom:n,right:o}){return{x:EE(r.x,e,o),y:EE(r.y,t,n)}}function _E(r,t){let e=t.min-r.min,n=t.max-r.max;return t.max-t.min<r.max-r.min&&([e,n]=[n,e]),{min:e,max:n}}function R2(r,t){return{x:_E(r.x,t.x),y:_E(r.y,t.y)}}function L2(r,t){let e=.5;const n=Kn(r),o=Kn(t);return o>n?e=Cu(t.min,t.max-n,r.min):n>o&&(e=Cu(r.min,r.max-o,t.min)),rr(0,1,e)}function M2(r,t){const e={};return t.min!==void 0&&(e.min=t.min-r.min),t.max!==void 0&&(e.max=t.max-r.min),e}const x0=.35;function D2(r=x0){return r===!1?r=0:r===!0&&(r=x0),{x:xE(r,"left","right"),y:xE(r,"top","bottom")}}function xE(r,t,e){return{min:bE(r,t),max:bE(r,e)}}function bE(r,t){return typeof r=="number"?r:r[t]||0}const CE=()=>({translate:0,scale:1,origin:0,originPoint:0}),Sl=()=>({x:CE(),y:CE()}),TE=()=>({min:0,max:0}),we=()=>({x:TE(),y:TE()});function ii(r){return[r("x"),r("y")]}function AC({top:r,left:t,right:e,bottom:n}){return{x:{min:t,max:e},y:{min:r,max:n}}}function I2({x:r,y:t}){return{top:t.min,right:r.max,bottom:t.max,left:r.min}}function F2(r,t){if(!t)return r;const e=t({x:r.left,y:r.top}),n=t({x:r.right,y:r.bottom});return{top:e.y,left:e.x,bottom:n.y,right:n.x}}function Hv(r){return r===void 0||r===1}function b0({scale:r,scaleX:t,scaleY:e}){return!Hv(r)||!Hv(t)||!Hv(e)}function Lo(r){return b0(r)||SC(r)||r.z||r.rotate||r.rotateX||r.rotateY||r.skewX||r.skewY}function SC(r){return PE(r.x)||PE(r.y)}function PE(r){return r&&r!=="0%"}function Gp(r,t,e){const n=r-e,o=t*n;return e+o}function kE(r,t,e,n,o){return o!==void 0&&(r=Gp(r,o,n)),Gp(r,e,n)+t}function C0(r,t=0,e=1,n,o){r.min=kE(r.min,t,e,n,o),r.max=kE(r.max,t,e,n,o)}function EC(r,{x:t,y:e}){C0(r.x,t.translate,t.scale,t.originPoint),C0(r.y,e.translate,e.scale,e.originPoint)}const RE=.999999999999,LE=1.0000000000001;function O2(r,t,e,n=!1){const o=e.length;if(!o)return;t.x=t.y=1;let a,l;for(let c=0;c<o;c++){a=e[c],l=a.projectionDelta;const{visualElement:d}=a.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&a.options.layoutScroll&&a.scroll&&a!==a.root&&_l(r,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),l&&(t.x*=l.x.scale,t.y*=l.y.scale,EC(r,l)),n&&Lo(a.latestValues)&&_l(r,a.latestValues))}t.x<LE&&t.x>RE&&(t.x=1),t.y<LE&&t.y>RE&&(t.y=1)}function El(r,t){r.min=r.min+t,r.max=r.max+t}function ME(r,t,e,n,o=.5){const a=he(r.min,r.max,o);C0(r,t,e,a,n)}function _l(r,t){ME(r.x,t.x,t.scaleX,t.scale,t.originX),ME(r.y,t.y,t.scaleY,t.scale,t.originY)}function _C(r,t){return AC(F2(r.getBoundingClientRect(),t))}function N2(r,t,e){const n=_C(r,e),{scroll:o}=t;return o&&(El(n.x,o.offset.x),El(n.y,o.offset.y)),n}const xC=({current:r})=>r?r.ownerDocument.defaultView:null,j2=new WeakMap;class V2{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=we(),this.visualElement=t}start(t,{snapToCursor:e=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const o=m=>{const{dragSnapToOrigin:v}=this.getProps();v?this.pauseAnimation():this.stopAnimation(),e&&this.snapToCursor(Dd(m).point)},a=(m,v)=>{const{drag:y,dragPropagation:A,onDragStart:S}=this.getProps();if(y&&!A&&(this.openDragLock&&this.openDragLock(),this.openDragLock=v2(y),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ii(P=>{let C=this.getAxisMotionValue(P).get()||0;if(os.test(C)){const{projection:R}=this.visualElement;if(R&&R.layout){const M=R.layout.layoutBox[P];M&&(C=Kn(M)*(parseFloat(C)/100))}}this.originPoint[P]=C}),S&&qt.postRender(()=>S(m,v)),E0(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},l=(m,v)=>{const{dragPropagation:y,dragDirectionLock:A,onDirectionLock:S,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:P}=v;if(A&&this.currentDirection===null){this.currentDirection=B2(P),this.currentDirection!==null&&S&&S(this.currentDirection);return}this.updateAxis("x",v.point,P),this.updateAxis("y",v.point,P),this.visualElement.render(),_&&_(m,v)},c=(m,v)=>this.stop(m,v),d=()=>ii(m=>{var v;return this.getAnimationState(m)==="paused"&&((v=this.getAxisMotionValue(m).animation)===null||v===void 0?void 0:v.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new gC(t,{onSessionStart:o,onStart:a,onMove:l,onSessionEnd:c,resumeAnimation:d},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:xC(this.visualElement)})}stop(t,e){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:o}=e;this.startAnimation(o);const{onDragEnd:a}=this.getProps();a&&qt.postRender(()=>a(t,e))}cancel(){this.isDragging=!1;const{projection:t,animationState:e}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),e&&e.setActive("whileDrag",!1)}updateAxis(t,e,n){const{drag:o}=this.getProps();if(!n||!np(t,o,this.currentDirection))return;const a=this.getAxisMotionValue(t);let l=this.originPoint[t]+n[t];this.constraints&&this.constraints[t]&&(l=P2(l,this.constraints[t],this.elastic[t])),a.set(l)}resolveConstraints(){var t;const{dragConstraints:e,dragElastic:n}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;e&&Al(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&o?this.constraints=k2(o.layoutBox,e):this.constraints=!1,this.elastic=D2(n),a!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&ii(l=>{this.constraints!==!1&&this.getAxisMotionValue(l)&&(this.constraints[l]=M2(o.layoutBox[l],this.constraints[l]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:e}=this.getProps();if(!t||!Al(t))return!1;const n=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const a=N2(n,o.root,this.visualElement.getTransformPagePoint());let l=R2(o.layout.layoutBox,a);if(e){const c=e(I2(l));this.hasMutatedConstraints=!!c,c&&(l=AC(c))}return l}startAnimation(t){const{drag:e,dragMomentum:n,dragElastic:o,dragTransition:a,dragSnapToOrigin:l,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},p=ii(m=>{if(!np(m,e,this.currentDirection))return;let v=d&&d[m]||{};l&&(v={min:0,max:0});const y=o?200:1e6,A=o?40:1e7,S={type:"inertia",velocity:n?t[m]:0,bounceStiffness:y,bounceDamping:A,timeConstant:750,restDelta:1,restSpeed:10,...a,...v};return this.startAxisValueAnimation(m,S)});return Promise.all(p).then(c)}startAxisValueAnimation(t,e){const n=this.getAxisMotionValue(t);return E0(this.visualElement,t),n.start(ow(t,n,0,e,this.visualElement,!1))}stopAnimation(){ii(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ii(t=>{var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.pause()})}getAnimationState(t){var e;return(e=this.getAxisMotionValue(t).animation)===null||e===void 0?void 0:e.state}getAxisMotionValue(t){const e=`_drag${t.toUpperCase()}`,n=this.visualElement.getProps(),o=n[e];return o||this.visualElement.getValue(t,(n.initial?n.initial[t]:void 0)||0)}snapToCursor(t){ii(e=>{const{drag:n}=this.getProps();if(!np(e,n,this.currentDirection))return;const{projection:o}=this.visualElement,a=this.getAxisMotionValue(e);if(o&&o.layout){const{min:l,max:c}=o.layout.layoutBox[e];a.set(t[e]-he(l,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:e}=this.getProps(),{projection:n}=this.visualElement;if(!Al(e)||!n||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};ii(l=>{const c=this.getAxisMotionValue(l);if(c&&this.constraints!==!1){const d=c.get();o[l]=L2({min:d,max:d},this.constraints[l])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),ii(l=>{if(!np(l,t,null))return;const c=this.getAxisMotionValue(l),{min:d,max:p}=this.constraints[l];c.set(he(d,p,o[l]))})}addListeners(){if(!this.visualElement.current)return;j2.set(this.visualElement,this);const t=this.visualElement.current,e=no(t,"pointerdown",d=>{const{drag:p,dragListener:m=!0}=this.getProps();p&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Al(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,a=o.addEventListener("measure",n);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qt.read(n);const l=Zs(window,"resize",()=>this.scalePositionWithinConstraints()),c=o.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p})=>{this.isDragging&&p&&(ii(m=>{const v=this.getAxisMotionValue(m);v&&(this.originPoint[m]+=d[m].translate,v.set(v.get()+d[m].translate))}),this.visualElement.render())});return()=>{l(),e(),a(),c&&c()}}getProps(){const t=this.visualElement.getProps(),{drag:e=!1,dragDirectionLock:n=!1,dragPropagation:o=!1,dragConstraints:a=!1,dragElastic:l=x0,dragMomentum:c=!0}=t;return{...t,drag:e,dragDirectionLock:n,dragPropagation:o,dragConstraints:a,dragElastic:l,dragMomentum:c}}}function np(r,t,e){return(t===!0||t===r)&&(e===null||e===r)}function B2(r,t=10){let e=null;return Math.abs(r.y)>t?e="y":Math.abs(r.x)>t&&(e="x"),e}class z2 extends uo{constructor(t){super(t),this.removeGroupControls=cn,this.removeListeners=cn,this.controls=new V2(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||cn}unmount(){this.removeGroupControls(),this.removeListeners()}}const DE=r=>(t,e)=>{r&&qt.postRender(()=>r(t,e))};class H2 extends uo{constructor(){super(...arguments),this.removePointerDownListener=cn}onPointerDown(t){this.session=new gC(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:xC(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:e,onPan:n,onPanEnd:o}=this.node.getProps();return{onSessionStart:DE(t),onStart:DE(e),onMove:n,onEnd:(a,l)=>{delete this.session,o&&qt.postRender(()=>o(a,l))}}}mount(){this.removePointerDownListener=no(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const hw=$.createContext(null);function U2(){const r=$.useContext(hw);if(r===null)return[!0,null];const{isPresent:t,onExitComplete:e,register:n}=r,o=$.useId();$.useEffect(()=>n(o),[]);const a=$.useCallback(()=>e&&e(o),[o,e]);return!t&&e?[!1,a]:[!0]}const bC=$.createContext({}),CC=$.createContext({}),Rp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function IE(r,t){return t.max===t.min?0:r/(t.max-t.min)*100}const wc={correct:(r,t)=>{if(!t.target)return r;if(typeof r=="string")if(At.test(r))r=parseFloat(r);else return r;const e=IE(r,t.target.x),n=IE(r,t.target.y);return`${e}% ${n}%`}},$2={correct:(r,{treeScale:t,projectionDelta:e})=>{const n=r,o=ro.parse(r);if(o.length>5)return n;const a=ro.createTransformer(r),l=typeof o[0]!="number"?1:0,c=e.x.scale*t.x,d=e.y.scale*t.y;o[0+l]/=c,o[1+l]/=d;const p=he(c,d,.5);return typeof o[2+l]=="number"&&(o[2+l]/=p),typeof o[3+l]=="number"&&(o[3+l]/=p),a(o)}},Xp={};function W2(r){Object.assign(Xp,r)}const{schedule:dw,cancel:UO}=Tb(queueMicrotask,!1);class G2 extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n,layoutId:o}=this.props,{projection:a}=t;W2(X2),a&&(e.group&&e.group.add(a),n&&n.register&&o&&n.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Rp.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:e,visualElement:n,drag:o,isPresent:a}=this.props,l=n.projection;return l&&(l.isPresent=a,o||t.layoutDependency!==e||e===void 0?l.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?l.promote():l.relegate()||qt.postRender(()=>{const c=l.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),dw.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:e,switchLayoutGroup:n}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),e&&e.group&&e.group.remove(o),n&&n.deregister&&n.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function TC(r){const[t,e]=U2(),n=$.useContext(bC);return Q.jsx(G2,{...r,layoutGroup:n,switchLayoutGroup:$.useContext(CC),isPresent:t,safeToRemove:e})}const X2={borderRadius:{...wc,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:wc,borderTopRightRadius:wc,borderBottomLeftRadius:wc,borderBottomRightRadius:wc,boxShadow:$2},PC=["TopLeft","TopRight","BottomLeft","BottomRight"],K2=PC.length,FE=r=>typeof r=="string"?parseFloat(r):r,OE=r=>typeof r=="number"||At.test(r);function q2(r,t,e,n,o,a){o?(r.opacity=he(0,e.opacity!==void 0?e.opacity:1,Y2(n)),r.opacityExit=he(t.opacity!==void 0?t.opacity:1,0,Q2(n))):a&&(r.opacity=he(t.opacity!==void 0?t.opacity:1,e.opacity!==void 0?e.opacity:1,n));for(let l=0;l<K2;l++){const c=`border${PC[l]}Radius`;let d=NE(t,c),p=NE(e,c);if(d===void 0&&p===void 0)continue;d||(d=0),p||(p=0),d===0||p===0||OE(d)===OE(p)?(r[c]=Math.max(he(FE(d),FE(p),n),0),(os.test(p)||os.test(d))&&(r[c]+="%")):r[c]=p}(t.rotate||e.rotate)&&(r.rotate=he(t.rotate||0,e.rotate||0,n))}function NE(r,t){return r[t]!==void 0?r[t]:r.borderRadius}const Y2=kC(0,.5,Ib),Q2=kC(.5,.95,cn);function kC(r,t,e){return n=>n<r?0:n>t?1:e(Cu(r,t,n))}function jE(r,t){r.min=t.min,r.max=t.max}function ni(r,t){jE(r.x,t.x),jE(r.y,t.y)}function VE(r,t){r.translate=t.translate,r.scale=t.scale,r.originPoint=t.originPoint,r.origin=t.origin}function BE(r,t,e,n,o){return r-=t,r=Gp(r,1/e,n),o!==void 0&&(r=Gp(r,1/o,n)),r}function Z2(r,t=0,e=1,n=.5,o,a=r,l=r){if(os.test(t)&&(t=parseFloat(t),t=he(l.min,l.max,t/100)-l.min),typeof t!="number")return;let c=he(a.min,a.max,n);r===a&&(c-=t),r.min=BE(r.min,t,e,c,o),r.max=BE(r.max,t,e,c,o)}function zE(r,t,[e,n,o],a,l){Z2(r,t[e],t[n],t[o],t.scale,a,l)}const J2=["x","scaleX","originX"],tF=["y","scaleY","originY"];function HE(r,t,e,n){zE(r.x,t,J2,e?e.x:void 0,n?n.x:void 0),zE(r.y,t,tF,e?e.y:void 0,n?n.y:void 0)}function UE(r){return r.translate===0&&r.scale===1}function RC(r){return UE(r.x)&&UE(r.y)}function $E(r,t){return r.min===t.min&&r.max===t.max}function eF(r,t){return $E(r.x,t.x)&&$E(r.y,t.y)}function WE(r,t){return Math.round(r.min)===Math.round(t.min)&&Math.round(r.max)===Math.round(t.max)}function LC(r,t){return WE(r.x,t.x)&&WE(r.y,t.y)}function GE(r){return Kn(r.x)/Kn(r.y)}function XE(r,t){return r.translate===t.translate&&r.scale===t.scale&&r.originPoint===t.originPoint}class nF{constructor(){this.members=[]}add(t){aw(this.members,t),t.scheduleRender()}remove(t){if(lw(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const e=this.members[this.members.length-1];e&&this.promote(e)}}relegate(t){const e=this.members.findIndex(o=>t===o);if(e===0)return!1;let n;for(let o=e;o>=0;o--){const a=this.members[o];if(a.isPresent!==!1){n=a;break}}return n?(this.promote(n),!0):!1}promote(t,e){const n=this.lead;if(t!==n&&(this.prevLead=n,this.lead=t,t.show(),n)){n.instance&&n.scheduleRender(),t.scheduleRender(),t.resumeFrom=n,e&&(t.resumeFrom.preserveOpacity=!0),n.snapshot&&(t.snapshot=n.snapshot,t.snapshot.latestValues=n.animationValues||n.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:e,resumingFrom:n}=t;e.onExitComplete&&e.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function iF(r,t,e){let n="";const o=r.x.translate/t.x,a=r.y.translate/t.y,l=(e==null?void 0:e.z)||0;if((o||a||l)&&(n=`translate3d(${o}px, ${a}px, ${l}px) `),(t.x!==1||t.y!==1)&&(n+=`scale(${1/t.x}, ${1/t.y}) `),e){const{transformPerspective:p,rotate:m,rotateX:v,rotateY:y,skewX:A,skewY:S}=e;p&&(n=`perspective(${p}px) ${n}`),m&&(n+=`rotate(${m}deg) `),v&&(n+=`rotateX(${v}deg) `),y&&(n+=`rotateY(${y}deg) `),A&&(n+=`skewX(${A}deg) `),S&&(n+=`skewY(${S}deg) `)}const c=r.x.scale*t.x,d=r.y.scale*t.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const sF=(r,t)=>r.depth-t.depth;class rF{constructor(){this.children=[],this.isDirty=!1}add(t){aw(this.children,t),this.isDirty=!0}remove(t){lw(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(sF),this.isDirty=!1,this.children.forEach(t)}}function Lp(r){const t=un(r)?r.get():r;return XI(t)?t.toValue():t}function oF(r,t){const e=as.now(),n=({timestamp:o})=>{const a=o-e;a>=t&&(so(n),r(a-t))};return qt.read(n,!0),()=>so(n)}function aF(r){return r instanceof SVGElement&&r.tagName!=="svg"}function lF(r,t,e){const n=un(r)?r:Tu(r);return n.start(ow("",n,t,e)),n.animation}const Mo={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Oc=typeof window<"u"&&window.MotionDebug!==void 0,Uv=["","X","Y","Z"],uF={visibility:"hidden"},KE=1e3;let cF=0;function $v(r,t,e,n){const{latestValues:o}=t;o[r]&&(e[r]=o[r],t.setStaticValue(r,0),n&&(n[r]=0))}function MC(r){if(r.hasCheckedOptimisedAppear=!0,r.root===r)return;const{visualElement:t}=r.options;if(!t)return;const e=hC(t);if(window.MotionHasOptimisedAnimation(e,"transform")){const{layout:o,layoutId:a}=r.options;window.MotionCancelOptimisedAnimation(e,"transform",qt,!(o||a))}const{parent:n}=r;n&&!n.hasCheckedOptimisedAppear&&MC(n)}function DC({attachResizeListener:r,defaultParent:t,measureScroll:e,checkIsScrollRoot:n,resetTransform:o}){return class{constructor(l={},c=t==null?void 0:t()){this.id=cF++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Oc&&(Mo.totalNodes=Mo.resolvedTargetDeltas=Mo.recalculatedProjection=0),this.nodes.forEach(fF),this.nodes.forEach(yF),this.nodes.forEach(wF),this.nodes.forEach(pF),Oc&&window.MotionDebug.record(Mo)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new rF)}addEventListener(l,c){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new uw),this.eventHandlers.get(l).add(c)}notifyListeners(l,...c){const d=this.eventHandlers.get(l);d&&d.notify(...c)}hasListeners(l){return this.eventHandlers.has(l)}mount(l,c=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=aF(l),this.instance=l;const{layoutId:d,layout:p,visualElement:m}=this.options;if(m&&!m.current&&m.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),c&&(p||d)&&(this.isLayoutDirty=!0),r){let v;const y=()=>this.root.updateBlockedByResize=!1;r(l,()=>{this.root.updateBlockedByResize=!0,v&&v(),v=oF(y,250),Rp.hasAnimatedSinceResize&&(Rp.hasAnimatedSinceResize=!1,this.nodes.forEach(YE))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&m&&(d||p)&&this.addEventListener("didUpdate",({delta:v,hasLayoutChanged:y,hasRelativeTargetChanged:A,layout:S})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||m.getDefaultTransition()||xF,{onLayoutAnimationStart:P,onLayoutAnimationComplete:C}=m.getProps(),R=!this.targetLayout||!LC(this.targetLayout,S)||A,M=!y&&A;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||M||y&&(R||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(v,M);const F={...G0(_,"layout"),onPlay:P,onComplete:C};(m.shouldReduceMotion||this.options.layoutRoot)&&(F.delay=0,F.type=!1),this.startAnimation(F)}else y||YE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=S})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,so(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(AF),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&MC(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const v=this.path[m];v.shouldResetTransform=!0,v.updateScroll("snapshot"),v.options.layoutRoot&&v.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(qE);return}this.isUpdating||this.nodes.forEach(gF),this.isUpdating=!1,this.nodes.forEach(vF),this.nodes.forEach(hF),this.nodes.forEach(dF),this.clearAllSnapshots();const c=as.now();qe.delta=rr(0,1e3/60,c-qe.timestamp),qe.timestamp=c,qe.isProcessing=!0,Fv.update.process(qe),Fv.preRender.process(qe),Fv.render.process(qe),qe.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,dw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(mF),this.sharedNodes.forEach(SF)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutCorrected=we(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(c=!1),c){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:d,offset:e(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!o)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!RC(this.projectionDelta),d=this.getTransformTemplate(),p=d?d(this.latestValues,""):void 0,m=p!==this.prevTransformTemplateValue;l&&(c||Lo(this.latestValues)||m)&&(o(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return l&&(d=this.removeTransform(d)),bF(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){var l;const{visualElement:c}=this.options;if(!c)return we();const d=c.measureViewportBox();if(!(((l=this.scroll)===null||l===void 0?void 0:l.wasRoot)||this.path.some(CF))){const{scroll:m}=this.root;m&&(El(d.x,m.offset.x),El(d.y,m.offset.y))}return d}removeElementScroll(l){var c;const d=we();if(ni(d,l),!((c=this.scroll)===null||c===void 0)&&c.wasRoot)return d;for(let p=0;p<this.path.length;p++){const m=this.path[p],{scroll:v,options:y}=m;m!==this.root&&v&&y.layoutScroll&&(v.wasRoot&&ni(d,l),El(d.x,v.offset.x),El(d.y,v.offset.y))}return d}applyTransform(l,c=!1){const d=we();ni(d,l);for(let p=0;p<this.path.length;p++){const m=this.path[p];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&_l(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Lo(m.latestValues)&&_l(d,m.latestValues)}return Lo(this.latestValues)&&_l(d,this.latestValues),d}removeTransform(l){const c=we();ni(c,l);for(let d=0;d<this.path.length;d++){const p=this.path[d];if(!p.instance||!Lo(p.latestValues))continue;b0(p.latestValues)&&p.updateSnapshot();const m=we(),v=p.measurePageBox();ni(m,v),HE(c,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,m)}return Lo(this.latestValues)&&HE(c,this.latestValues),c}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==qe.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){var c;const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==d;if(!(l||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((c=this.parent)===null||c===void 0)&&c.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:v,layoutId:y}=this.options;if(!(!this.layout||!(v||y))){if(this.resolvedRelativeTargetAt=qe.timestamp,!this.targetDelta&&!this.relativeTarget){const A=this.getClosestProjectingParent();A&&A.layout&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),zc(this.relativeTargetOrigin,this.layout.layoutBox,A.layout.layoutBox),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=we(),this.targetWithTransforms=we()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),T2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ni(this.target,this.layout.layoutBox),EC(this.target,this.targetDelta)):ni(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const A=this.getClosestProjectingParent();A&&!!A.resumingFrom==!!this.resumingFrom&&!A.options.layoutScroll&&A.target&&this.animationProgress!==1?(this.relativeParent=A,this.forceRelativeParentToResolveTarget(),this.relativeTarget=we(),this.relativeTargetOrigin=we(),zc(this.relativeTargetOrigin,this.target,A.target),ni(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Oc&&Mo.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||b0(this.parent.latestValues)||SC(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var l;const c=this.getLead(),d=!!this.resumingFrom||this!==c;let p=!0;if((this.isProjectionDirty||!((l=this.parent)===null||l===void 0)&&l.isProjectionDirty)&&(p=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===qe.timestamp&&(p=!1),p)return;const{layout:m,layoutId:v}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(m||v))return;ni(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,A=this.treeScale.y;O2(this.layoutCorrected,this.treeScale,this.path,d),c.layout&&!c.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(c.target=c.layout.layoutBox,c.targetWithTransforms=we());const{target:S}=c;if(!S){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(VE(this.prevProjectionDelta.x,this.projectionDelta.x),VE(this.prevProjectionDelta.y,this.projectionDelta.y)),Bc(this.projectionDelta,this.layoutCorrected,S,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==A||!XE(this.projectionDelta.x,this.prevProjectionDelta.x)||!XE(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",S)),Oc&&Mo.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){var c;if((c=this.options.visualElement)===null||c===void 0||c.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Sl(),this.projectionDelta=Sl(),this.projectionDeltaWithTransform=Sl()}setAnimationOrigin(l,c=!1){const d=this.snapshot,p=d?d.latestValues:{},m={...this.latestValues},v=Sl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const y=we(),A=d?d.source:void 0,S=this.layout?this.layout.source:void 0,_=A!==S,P=this.getStack(),C=!P||P.members.length<=1,R=!!(_&&!C&&this.options.crossfade===!0&&!this.path.some(_F));this.animationProgress=0;let M;this.mixTargetDelta=F=>{const O=F/1e3;QE(v.x,l.x,O),QE(v.y,l.y,O),this.setTargetDelta(v),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(zc(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),EF(this.relativeTarget,this.relativeTargetOrigin,y,O),M&&eF(this.relativeTarget,M)&&(this.isProjectionDirty=!1),M||(M=we()),ni(M,this.relativeTarget)),_&&(this.animationValues=m,q2(m,p,this.latestValues,O,R,C)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=O},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(so(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qt.update(()=>{Rp.hasAnimatedSinceResize=!0,this.currentAnimation=lF(0,KE,{...l,onUpdate:c=>{this.mixTargetDelta(c),l.onUpdate&&l.onUpdate(c)},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(KE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:c,target:d,layout:p,latestValues:m}=l;if(!(!c||!d||!p)){if(this!==l&&this.layout&&p&&IC(this.options.animationType,this.layout.layoutBox,p.layoutBox)){d=this.target||we();const v=Kn(this.layout.layoutBox.x);d.x.min=l.target.x.min,d.x.max=d.x.min+v;const y=Kn(this.layout.layoutBox.y);d.y.min=l.target.y.min,d.y.max=d.y.min+y}ni(c,d),_l(c,m),Bc(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(l,c){this.sharedNodes.has(l)||this.sharedNodes.set(l,new nF),this.sharedNodes.get(l).add(c);const p=c.options.initialPromotionConfig;c.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(c):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){var l;const{layoutId:c}=this.options;return c?((l=this.getStack())===null||l===void 0?void 0:l.lead)||this:this}getPrevLead(){var l;const{layoutId:c}=this.options;return c?(l=this.getStack())===null||l===void 0?void 0:l.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:c,preserveFollowOpacity:d}={}){const p=this.getStack();p&&p.promote(this,d),l&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let c=!1;const{latestValues:d}=l;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const p={};d.z&&$v("z",l,p,this.animationValues);for(let m=0;m<Uv.length;m++)$v(`rotate${Uv[m]}`,l,p,this.animationValues),$v(`skew${Uv[m]}`,l,p,this.animationValues);l.render();for(const m in p)l.setStaticValue(m,p[m]),this.animationValues&&(this.animationValues[m]=p[m]);l.scheduleRender()}getProjectionStyles(l){var c,d;if(!this.instance||this.isSVG)return;if(!this.isVisible)return uF;const p={visibility:""},m=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=Lp(l==null?void 0:l.pointerEvents)||"",p.transform=m?m(this.latestValues,""):"none",p;const v=this.getLead();if(!this.projectionDelta||!this.layout||!v.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Lp(l==null?void 0:l.pointerEvents)||""),this.hasProjected&&!Lo(this.latestValues)&&(_.transform=m?m({},""):"none",this.hasProjected=!1),_}const y=v.animationValues||v.latestValues;this.applyTransformsToTarget(),p.transform=iF(this.projectionDeltaWithTransform,this.treeScale,y),m&&(p.transform=m(y,p.transform));const{x:A,y:S}=this.projectionDelta;p.transformOrigin=`${A.origin*100}% ${S.origin*100}% 0`,v.animationValues?p.opacity=v===this?(d=(c=y.opacity)!==null&&c!==void 0?c:this.latestValues.opacity)!==null&&d!==void 0?d:1:this.preserveOpacity?this.latestValues.opacity:y.opacityExit:p.opacity=v===this?y.opacity!==void 0?y.opacity:"":y.opacityExit!==void 0?y.opacityExit:0;for(const _ in Xp){if(y[_]===void 0)continue;const{correct:P,applyTo:C}=Xp[_],R=p.transform==="none"?y[_]:P(y[_],v);if(C){const M=C.length;for(let F=0;F<M;F++)p[C[F]]=R}else p[_]=R}return this.options.layoutId&&(p.pointerEvents=v===this?Lp(l==null?void 0:l.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>{var c;return(c=l.currentAnimation)===null||c===void 0?void 0:c.stop()}),this.root.nodes.forEach(qE),this.root.sharedNodes.clear()}}}function hF(r){r.updateLayout()}function dF(r){var t;const e=((t=r.resumeFrom)===null||t===void 0?void 0:t.snapshot)||r.snapshot;if(r.isLead()&&r.layout&&e&&r.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:o}=r.layout,{animationType:a}=r.options,l=e.source!==r.layout.source;a==="size"?ii(v=>{const y=l?e.measuredBox[v]:e.layoutBox[v],A=Kn(y);y.min=n[v].min,y.max=y.min+A}):IC(a,e.layoutBox,n)&&ii(v=>{const y=l?e.measuredBox[v]:e.layoutBox[v],A=Kn(n[v]);y.max=y.min+A,r.relativeTarget&&!r.currentAnimation&&(r.isProjectionDirty=!0,r.relativeTarget[v].max=r.relativeTarget[v].min+A)});const c=Sl();Bc(c,n,e.layoutBox);const d=Sl();l?Bc(d,r.applyTransform(o,!0),e.measuredBox):Bc(d,n,e.layoutBox);const p=!RC(c);let m=!1;if(!r.resumeFrom){const v=r.getClosestProjectingParent();if(v&&!v.resumeFrom){const{snapshot:y,layout:A}=v;if(y&&A){const S=we();zc(S,e.layoutBox,y.layoutBox);const _=we();zc(_,n,A.layoutBox),LC(S,_)||(m=!0),v.options.layoutRoot&&(r.relativeTarget=_,r.relativeTargetOrigin=S,r.relativeParent=v)}}}r.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:d,layoutDelta:c,hasLayoutChanged:p,hasRelativeTargetChanged:m})}else if(r.isLead()){const{onExitComplete:n}=r.options;n&&n()}r.options.transition=void 0}function fF(r){Oc&&Mo.totalNodes++,r.parent&&(r.isProjecting()||(r.isProjectionDirty=r.parent.isProjectionDirty),r.isSharedProjectionDirty||(r.isSharedProjectionDirty=!!(r.isProjectionDirty||r.parent.isProjectionDirty||r.parent.isSharedProjectionDirty)),r.isTransformDirty||(r.isTransformDirty=r.parent.isTransformDirty))}function pF(r){r.isProjectionDirty=r.isSharedProjectionDirty=r.isTransformDirty=!1}function mF(r){r.clearSnapshot()}function qE(r){r.clearMeasurements()}function gF(r){r.isLayoutDirty=!1}function vF(r){const{visualElement:t}=r.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),r.resetTransform()}function YE(r){r.finishAnimation(),r.targetDelta=r.relativeTarget=r.target=void 0,r.isProjectionDirty=!0}function yF(r){r.resolveTargetDelta()}function wF(r){r.calcProjection()}function AF(r){r.resetSkewAndRotation()}function SF(r){r.removeLeadSnapshot()}function QE(r,t,e){r.translate=he(t.translate,0,e),r.scale=he(t.scale,1,e),r.origin=t.origin,r.originPoint=t.originPoint}function ZE(r,t,e,n){r.min=he(t.min,e.min,n),r.max=he(t.max,e.max,n)}function EF(r,t,e,n){ZE(r.x,t.x,e.x,n),ZE(r.y,t.y,e.y,n)}function _F(r){return r.animationValues&&r.animationValues.opacityExit!==void 0}const xF={duration:.45,ease:[.4,0,.1,1]},JE=r=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(r),t_=JE("applewebkit/")&&!JE("chrome/")?Math.round:cn;function e_(r){r.min=t_(r.min),r.max=t_(r.max)}function bF(r){e_(r.x),e_(r.y)}function IC(r,t,e){return r==="position"||r==="preserve-aspect"&&!C2(GE(t),GE(e),.2)}function CF(r){var t;return r!==r.root&&((t=r.scroll)===null||t===void 0?void 0:t.wasRoot)}const TF=DC({attachResizeListener:(r,t)=>Zs(r,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Wv={current:void 0},FC=DC({measureScroll:r=>({x:r.scrollLeft,y:r.scrollTop}),defaultParent:()=>{if(!Wv.current){const r=new TF({});r.mount(window),r.setOptions({layoutScroll:!0}),Wv.current=r}return Wv.current},resetTransform:(r,t)=>{r.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:r=>window.getComputedStyle(r).position==="fixed"}),PF={pan:{Feature:H2},drag:{Feature:z2,ProjectionNode:FC,MeasureLayout:TC}};function n_(r,t,e){const{props:n}=r;r.animationState&&n.whileHover&&r.animationState.setActive("whileHover",e==="Start");const o="onHover"+e,a=n[o];a&&qt.postRender(()=>a(t,Dd(t)))}class kF extends uo{mount(){const{current:t}=this.node;t&&(this.unmount=g2(t,e=>(n_(this.node,e,"Start"),n=>n_(this.node,n,"End"))))}unmount(){}}class RF extends uo{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=eo(Zs(this.node.current,"focus",()=>this.onFocus()),Zs(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const OC=(r,t)=>t?r===t?!0:OC(r,t.parentElement):!1;function Gv(r,t){if(!t)return;const e=new PointerEvent("pointer"+r);t(e,Dd(e))}class LF extends uo{constructor(){super(...arguments),this.removeStartListeners=cn,this.removeEndListeners=cn,this.removeAccessibleListeners=cn,this.startPointerPress=(t,e)=>{if(this.isPressing)return;this.removeEndListeners();const n=this.node.getProps(),a=no(window,"pointerup",(c,d)=>{if(!this.checkPressEnd())return;const{onTap:p,onTapCancel:m,globalTapTarget:v}=this.node.getProps(),y=!v&&!OC(this.node.current,c.target)?m:p;y&&qt.update(()=>y(c,d))},{passive:!(n.onTap||n.onPointerUp)}),l=no(window,"pointercancel",(c,d)=>this.cancelPress(c,d),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=eo(a,l),this.startPress(t,e)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const l=c=>{c.key!=="Enter"||!this.checkPressEnd()||Gv("up",(d,p)=>{const{onTap:m}=this.node.getProps();m&&qt.postRender(()=>m(d,p))})};this.removeEndListeners(),this.removeEndListeners=Zs(this.node.current,"keyup",l),Gv("down",(c,d)=>{this.startPress(c,d)})},e=Zs(this.node.current,"keydown",t),n=()=>{this.isPressing&&Gv("cancel",(a,l)=>this.cancelPress(a,l))},o=Zs(this.node.current,"blur",n);this.removeAccessibleListeners=eo(e,o)}}startPress(t,e){this.isPressing=!0;const{onTapStart:n,whileTap:o}=this.node.getProps();o&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&qt.postRender(()=>n(t,e))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!pC()}cancelPress(t,e){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&qt.postRender(()=>n(t,e))}mount(){const t=this.node.getProps(),e=no(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),n=Zs(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=eo(e,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const T0=new WeakMap,Xv=new WeakMap,MF=r=>{const t=T0.get(r.target);t&&t(r)},DF=r=>{r.forEach(MF)};function IF({root:r,...t}){const e=r||document;Xv.has(e)||Xv.set(e,{});const n=Xv.get(e),o=JSON.stringify(t);return n[o]||(n[o]=new IntersectionObserver(DF,{root:r,...t})),n[o]}function FF(r,t,e){const n=IF(t);return T0.set(r,e),n.observe(r),()=>{T0.delete(r),n.unobserve(r)}}const OF={some:0,all:1};class NF extends uo{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:e,margin:n,amount:o="some",once:a}=t,l={root:e?e.current:void 0,rootMargin:n,threshold:typeof o=="number"?o:OF[o]},c=d=>{const{isIntersecting:p}=d;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:m,onViewportLeave:v}=this.node.getProps(),y=p?m:v;y&&y(d)};return FF(this.node.current,l,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:e}=this.node;["amount","margin","root"].some(jF(t,e))&&this.startObserver()}unmount(){}}function jF({viewport:r={}},{viewport:t={}}={}){return e=>r[e]!==t[e]}const VF={inView:{Feature:NF},tap:{Feature:LF},focus:{Feature:RF},hover:{Feature:kF}},BF={layout:{ProjectionNode:FC,MeasureLayout:TC}},fw=$.createContext({transformPagePoint:r=>r,isStatic:!1,reducedMotion:"never"}),Mm=$.createContext({}),pw=typeof window<"u",zF=pw?$.useLayoutEffect:$.useEffect,NC=$.createContext({strict:!1});function HF(r,t,e,n,o){var a,l;const{visualElement:c}=$.useContext(Mm),d=$.useContext(NC),p=$.useContext(hw),m=$.useContext(fw).reducedMotion,v=$.useRef(null);n=n||d.renderer,!v.current&&n&&(v.current=n(r,{visualState:t,parent:c,props:e,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:m}));const y=v.current,A=$.useContext(CC);y&&!y.projection&&o&&(y.type==="html"||y.type==="svg")&&UF(v.current,e,o,A);const S=$.useRef(!1);$.useInsertionEffect(()=>{y&&S.current&&y.update(e,p)});const _=e[cC],P=$.useRef(!!_&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,_))&&((l=window.MotionHasOptimisedAnimation)===null||l===void 0?void 0:l.call(window,_)));return zF(()=>{y&&(S.current=!0,window.MotionIsMounted=!0,y.updateFeatures(),dw.render(y.render),P.current&&y.animationState&&y.animationState.animateChanges())}),$.useEffect(()=>{y&&(!P.current&&y.animationState&&y.animationState.animateChanges(),P.current&&(queueMicrotask(()=>{var C;(C=window.MotionHandoffMarkAsComplete)===null||C===void 0||C.call(window,_)}),P.current=!1))}),y}function UF(r,t,e,n){const{layoutId:o,layout:a,drag:l,dragConstraints:c,layoutScroll:d,layoutRoot:p}=t;r.projection=new e(r.latestValues,t["data-framer-portal-id"]?void 0:jC(r.parent)),r.projection.setOptions({layoutId:o,layout:a,alwaysMeasureLayout:!!l||c&&Al(c),visualElement:r,animationType:typeof a=="string"?a:"both",initialPromotionConfig:n,layoutScroll:d,layoutRoot:p})}function jC(r){if(r)return r.options.allowProjection!==!1?r.projection:jC(r.parent)}function $F(r,t,e){return $.useCallback(n=>{n&&r.mount&&r.mount(n),t&&(n?t.mount(n):t.unmount()),e&&(typeof e=="function"?e(n):Al(e)&&(e.current=n))},[t])}function Dm(r){return km(r.animate)||W0.some(t=>$c(r[t]))}function VC(r){return!!(Dm(r)||r.variants)}function WF(r,t){if(Dm(r)){const{initial:e,animate:n}=r;return{initial:e===!1||$c(e)?e:void 0,animate:$c(n)?n:void 0}}return r.inherit!==!1?t:{}}function GF(r){const{initial:t,animate:e}=WF(r,$.useContext(Mm));return $.useMemo(()=>({initial:t,animate:e}),[i_(t),i_(e)])}function i_(r){return Array.isArray(r)?r.join(" "):r}const s_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pu={};for(const r in s_)Pu[r]={isEnabled:t=>s_[r].some(e=>!!t[e])};function XF(r){for(const t in r)Pu[t]={...Pu[t],...r[t]}}const KF=Symbol.for("motionComponentSymbol");function qF({preloadedFeatures:r,createVisualElement:t,useRender:e,useVisualState:n,Component:o}){r&&XF(r);function a(c,d){let p;const m={...$.useContext(fw),...c,layoutId:YF(c)},{isStatic:v}=m,y=GF(c),A=n(c,v);if(!v&&pw){QF();const S=ZF(m);p=S.MeasureLayout,y.visualElement=HF(o,A,m,t,S.ProjectionNode)}return Q.jsxs(Mm.Provider,{value:y,children:[p&&y.visualElement?Q.jsx(p,{visualElement:y.visualElement,...m}):null,e(o,c,$F(A,y.visualElement,d),A,v,y.visualElement)]})}const l=$.forwardRef(a);return l[KF]=o,l}function YF({layoutId:r}){const t=$.useContext(bC).id;return t&&r!==void 0?t+"-"+r:r}function QF(r,t){$.useContext(NC).strict}function ZF(r){const{drag:t,layout:e}=Pu;if(!t&&!e)return{};const n={...t,...e};return{MeasureLayout:t!=null&&t.isEnabled(r)||e!=null&&e.isEnabled(r)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}const JF=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function mw(r){return typeof r!="string"||r.includes("-")?!1:!!(JF.indexOf(r)>-1||/[A-Z]/u.test(r))}function BC(r,{style:t,vars:e},n,o){Object.assign(r.style,t,o&&o.getProjectionStyles(n));for(const a in e)r.style.setProperty(a,e[a])}const zC=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function HC(r,t,e,n){BC(r,t,void 0,n);for(const o in t.attrs)r.setAttribute(zC.has(o)?o:cw(o),t.attrs[o])}function UC(r,{layout:t,layoutId:e}){return Ha.has(r)||r.startsWith("origin")||(t||e!==void 0)&&(!!Xp[r]||r==="opacity")}function gw(r,t,e){var n;const{style:o}=r,a={};for(const l in o)(un(o[l])||t.style&&un(t.style[l])||UC(l,r)||((n=e==null?void 0:e.getValue(l))===null||n===void 0?void 0:n.liveStyle)!==void 0)&&(a[l]=o[l]);return a}function $C(r,t,e){const n=gw(r,t,e);for(const o in r)if(un(r[o])||un(t[o])){const a=Rd.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;n[a]=r[o]}return n}function WC(r){const t=$.useRef(null);return t.current===null&&(t.current=r()),t.current}function tO({scrapeMotionValuesFromProps:r,createRenderState:t,onMount:e},n,o,a){const l={latestValues:eO(n,o,a,r),renderState:t()};return e&&(l.mount=c=>e(n,c,l)),l}const GC=r=>(t,e)=>{const n=$.useContext(Mm),o=$.useContext(hw),a=()=>tO(r,t,n,o);return e?a():WC(a)};function eO(r,t,e,n){const o={},a=n(r,{});for(const y in a)o[y]=Lp(a[y]);let{initial:l,animate:c}=r;const d=Dm(r),p=VC(r);t&&p&&!d&&r.inherit!==!1&&(l===void 0&&(l=t.initial),c===void 0&&(c=t.animate));let m=e?e.initial===!1:!1;m=m||l===!1;const v=m?c:l;if(v&&typeof v!="boolean"&&!km(v)){const y=Array.isArray(v)?v:[v];for(let A=0;A<y.length;A++){const S=U0(r,y[A]);if(S){const{transitionEnd:_,transition:P,...C}=S;for(const R in C){let M=C[R];if(Array.isArray(M)){const F=m?M.length-1:0;M=M[F]}M!==null&&(o[R]=M)}for(const R in _)o[R]=_[R]}}}return o}const vw=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),XC=()=>({...vw(),attrs:{}}),KC=(r,t)=>t&&typeof r=="number"?t.transform(r):r,nO={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},iO=Rd.length;function sO(r,t,e){let n="",o=!0;for(let a=0;a<iO;a++){const l=Rd[a],c=r[l];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(l.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||e){const p=KC(c,J0[l]);if(!d){o=!1;const m=nO[l]||l;n+=`${m}(${p}) `}e&&(t[l]=p)}}return n=n.trim(),e?n=e(t,o?"":n):o&&(n="none"),n}function yw(r,t,e){const{style:n,vars:o,transformOrigin:a}=r;let l=!1,c=!1;for(const d in t){const p=t[d];if(Ha.has(d)){l=!0;continue}else if(Vb(d)){o[d]=p;continue}else{const m=KC(p,J0[d]);d.startsWith("origin")?(c=!0,a[d]=m):n[d]=m}}if(t.transform||(l||e?n.transform=sO(t,r.transform,e):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:p="50%",originZ:m=0}=a;n.transformOrigin=`${d} ${p} ${m}`}}function r_(r,t,e){return typeof r=="string"?r:At.transform(t+e*r)}function rO(r,t,e){const n=r_(t,r.x,r.width),o=r_(e,r.y,r.height);return`${n} ${o}`}const oO={offset:"stroke-dashoffset",array:"stroke-dasharray"},aO={offset:"strokeDashoffset",array:"strokeDasharray"};function lO(r,t,e=1,n=0,o=!0){r.pathLength=1;const a=o?oO:aO;r[a.offset]=At.transform(-n);const l=At.transform(t),c=At.transform(e);r[a.array]=`${l} ${c}`}function ww(r,{attrX:t,attrY:e,attrScale:n,originX:o,originY:a,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...p},m,v){if(yw(r,p,v),m){r.style.viewBox&&(r.attrs.viewBox=r.style.viewBox);return}r.attrs=r.style,r.style={};const{attrs:y,style:A,dimensions:S}=r;y.transform&&(S&&(A.transform=y.transform),delete y.transform),S&&(o!==void 0||a!==void 0||A.transform)&&(A.transformOrigin=rO(S,o!==void 0?o:.5,a!==void 0?a:.5)),t!==void 0&&(y.x=t),e!==void 0&&(y.y=e),n!==void 0&&(y.scale=n),l!==void 0&&lO(y,l,c,d,!1)}const Aw=r=>typeof r=="string"&&r.toLowerCase()==="svg",uO={useVisualState:GC({scrapeMotionValuesFromProps:$C,createRenderState:XC,onMount:(r,t,{renderState:e,latestValues:n})=>{qt.read(()=>{try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}),qt.render(()=>{ww(e,n,Aw(t.tagName),r.transformTemplate),HC(t,e)})}})},cO={useVisualState:GC({scrapeMotionValuesFromProps:gw,createRenderState:vw})};function qC(r,t,e){for(const n in t)!un(t[n])&&!UC(n,e)&&(r[n]=t[n])}function hO({transformTemplate:r},t){return $.useMemo(()=>{const e=vw();return yw(e,t,r),Object.assign({},e.vars,e.style)},[t])}function dO(r,t){const e=r.style||{},n={};return qC(n,e,r),Object.assign(n,hO(r,t)),n}function fO(r,t){const e={},n=dO(r,t);return r.drag&&r.dragListener!==!1&&(e.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=r.drag===!0?"none":`pan-${r.drag==="x"?"y":"x"}`),r.tabIndex===void 0&&(r.onTap||r.onTapStart||r.whileTap)&&(e.tabIndex=0),e.style=n,e}const pO=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Kp(r){return r.startsWith("while")||r.startsWith("drag")&&r!=="draggable"||r.startsWith("layout")||r.startsWith("onTap")||r.startsWith("onPan")||r.startsWith("onLayout")||pO.has(r)}let YC=r=>!Kp(r);function mO(r){r&&(YC=t=>t.startsWith("on")?!Kp(t):r(t))}try{mO(require("@emotion/is-prop-valid").default)}catch{}function gO(r,t,e){const n={};for(const o in r)o==="values"&&typeof r.values=="object"||(YC(o)||e===!0&&Kp(o)||!t&&!Kp(o)||r.draggable&&o.startsWith("onDrag"))&&(n[o]=r[o]);return n}function vO(r,t,e,n){const o=$.useMemo(()=>{const a=XC();return ww(a,t,Aw(n),r.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(r.style){const a={};qC(a,r.style,r),o.style={...a,...o.style}}return o}function yO(r=!1){return(e,n,o,{latestValues:a},l)=>{const d=(mw(e)?vO:fO)(n,a,l,e),p=gO(n,typeof e=="string",r),m=e!==$.Fragment?{...p,...d,ref:o}:{},{children:v}=n,y=$.useMemo(()=>un(v)?v.get():v,[v]);return $.createElement(e,{...m,children:y})}}function wO(r,t){return function(n,{forwardMotionProps:o}={forwardMotionProps:!1}){const l={...mw(n)?uO:cO,preloadedFeatures:r,useRender:yO(o),createVisualElement:t,Component:n};return qF(l)}}const P0={current:null},QC={current:!1};function AO(){if(QC.current=!0,!!pw)if(window.matchMedia){const r=window.matchMedia("(prefers-reduced-motion)"),t=()=>P0.current=r.matches;r.addListener(t),t()}else P0.current=!1}function SO(r,t,e){for(const n in t){const o=t[n],a=e[n];if(un(o))r.addValue(n,o);else if(un(a))r.addValue(n,Tu(o,{owner:r}));else if(a!==o)if(r.hasValue(n)){const l=r.getValue(n);l.liveStyle===!0?l.jump(o):l.hasAnimated||l.set(o)}else{const l=r.getStaticValue(n);r.addValue(n,Tu(l!==void 0?l:o,{owner:r}))}}for(const n in e)t[n]===void 0&&r.removeValue(n);return t}const o_=new WeakMap,EO=[...Hb,on,ro],_O=r=>EO.find(zb(r)),a_=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class xO{scrapeMotionValuesFromProps(t,e,n){return{}}constructor({parent:t,props:e,presenceContext:n,reducedMotionConfig:o,blockInitialAnimation:a,visualState:l},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Y0,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=as.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,qt.render(this.render,!1,!0))};const{latestValues:d,renderState:p}=l;this.latestValues=d,this.baseTarget={...d},this.initialValues=e.initial?{...d}:{},this.renderState=p,this.parent=t,this.props=e,this.presenceContext=n,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=c,this.blockInitialAnimation=!!a,this.isControllingVariants=Dm(e),this.isVariantNode=VC(e),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:m,...v}=this.scrapeMotionValuesFromProps(e,{},this);for(const y in v){const A=v[y];d[y]!==void 0&&un(A)&&A.set(d[y],!1)}}mount(t){this.current=t,o_.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((e,n)=>this.bindToMotionValue(n,e)),QC.current||AO(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:P0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){o_.delete(this.current),this.projection&&this.projection.unmount(),so(this.notifyUpdate),so(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const e=this.features[t];e&&(e.unmount(),e.isMounted=!1)}this.current=null}bindToMotionValue(t,e){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const n=Ha.has(t),o=e.on("change",c=>{this.latestValues[t]=c,this.props.onUpdate&&qt.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0)}),a=e.on("renderRequest",this.scheduleRender);let l;window.MotionCheckAppearSync&&(l=window.MotionCheckAppearSync(this,t,e)),this.valueSubscriptions.set(t,()=>{o(),a(),l&&l(),e.owner&&e.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in Pu){const e=Pu[t];if(!e)continue;const{isEnabled:n,Feature:o}=e;if(!this.features[t]&&o&&n(this.props)&&(this.features[t]=new o(this)),this.features[t]){const a=this.features[t];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):we()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,e){this.latestValues[t]=e}update(t,e){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=e;for(let n=0;n<a_.length;n++){const o=a_[n];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const a="on"+o,l=t[a];l&&(this.propEventSubscriptions[o]=this.on(o,l))}this.prevMotionValues=SO(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const e=this.getClosestVariantNode();if(e)return e.variantChildren&&e.variantChildren.add(t),()=>e.variantChildren.delete(t)}addValue(t,e){const n=this.values.get(t);e!==n&&(n&&this.removeValue(t),this.bindToMotionValue(t,e),this.values.set(t,e),this.latestValues[t]=e.get())}removeValue(t){this.values.delete(t);const e=this.valueSubscriptions.get(t);e&&(e(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,e){if(this.props.values&&this.props.values[t])return this.props.values[t];let n=this.values.get(t);return n===void 0&&e!==void 0&&(n=Tu(e===null?void 0:e,{owner:this}),this.addValue(t,n)),n}readValue(t,e){var n;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(Nb(o)||Ob(o))?o=parseFloat(o):!_O(o)&&ro.test(e)&&(o=Yb(t,e)),this.setBaseTarget(t,un(o)?o.get():o)),un(o)?o.get():o}setBaseTarget(t,e){this.baseTarget[t]=e}getBaseTarget(t){var e;const{initial:n}=this.props;let o;if(typeof n=="string"||typeof n=="object"){const l=U0(this.props,n,(e=this.presenceContext)===null||e===void 0?void 0:e.custom);l&&(o=l[t])}if(n&&o!==void 0)return o;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!un(a)?a:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,e){return this.events[t]||(this.events[t]=new uw),this.events[t].add(e)}notify(t,...e){this.events[t]&&this.events[t].notify(...e)}}class ZC extends xO{constructor(){super(...arguments),this.KeyframeResolver=Qb}sortInstanceNodePosition(t,e){return t.compareDocumentPosition(e)&2?1:-1}getBaseTargetFromProps(t,e){return t.style?t.style[e]:void 0}removeValueFromRenderState(t,{vars:e,style:n}){delete e[t],delete n[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;un(t)&&(this.childSubscription=t.on("change",e=>{this.current&&(this.current.textContent=`${e}`)}))}}function bO(r){return window.getComputedStyle(r)}class CO extends ZC{constructor(){super(...arguments),this.type="html",this.renderInstance=BC}readValueFromInstance(t,e){if(Ha.has(e)){const n=tw(e);return n&&n.default||0}else{const n=bO(t),o=(Vb(e)?n.getPropertyValue(e):n[e])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:e}){return _C(t,e)}build(t,e,n){yw(t,e,n.transformTemplate)}scrapeMotionValuesFromProps(t,e,n){return gw(t,e,n)}}class TO extends ZC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=we}getBaseTargetFromProps(t,e){return t[e]}readValueFromInstance(t,e){if(Ha.has(e)){const n=tw(e);return n&&n.default||0}return e=zC.has(e)?e:cw(e),t.getAttribute(e)}scrapeMotionValuesFromProps(t,e,n){return $C(t,e,n)}build(t,e,n){ww(t,e,this.isSVGTag,n.transformTemplate)}renderInstance(t,e,n,o){HC(t,e,n,o)}mount(t){this.isSVGTag=Aw(t.tagName),super.mount(t)}}const PO=(r,t)=>mw(r)?new TO(t):new CO(t,{allowProjection:r!==$.Fragment}),kO=wO({...p2,...VF,...PF,...BF},PO),JC=dD(kO);function RO(r){const t=WC(()=>Tu(r)),{isStatic:e}=$.useContext(fw);if(e){const[,n]=$.useState(r);$.useEffect(()=>t.on("change",n),[])}return t}const qp=[aD,lD,uD,cD,hD],LO=1e3,MO=LO*10,l_=50,tT={type:"spring",mass:3,stiffness:400,damping:50},DO=()=>{const[r,t]=$.useState(0),e=RO(0);$.useEffect(()=>{const o=setInterval(()=>{e.get()===0&&t(l=>l===qp.length-1?0:l+1)},MO);return()=>clearInterval(o)},[]);const n=()=>{const o=e.get();o<=-l_&&r<qp.length-1?t(a=>a+1):o>=l_&&r>0&&t(a=>a-1)};return Q.jsxs("div",{className:"relative overflow-hidden bg-pink-100 py-3 rounded-xl",children:[Q.jsx(JC.div,{drag:"x",dragConstraints:{left:0,right:0},style:{x:e},animate:{translateX:`-${r*100}%`},transition:tT,onDragEnd:n,className:"flex cursor-grab items-center active:cursor-grabbing",children:Q.jsx(IO,{imgIndex:r})}),Q.jsx(FO,{imgIndex:r,setImgIndex:t}),Q.jsx(OO,{})]})},IO=({imgIndex:r})=>Q.jsx(Q.Fragment,{children:qp.map((t,e)=>Q.jsx(JC.div,{style:{backgroundImage:`url(${t})`,backgroundSize:"cover",backgroundPosition:"center"},animate:{scale:r===e?.95:.85},transition:tT,className:"aspect-video w-[100%] shrink-0 rounded-xl object-cover mx-auto"},e))}),FO=({imgIndex:r,setImgIndex:t})=>Q.jsx("div",{className:"mt-4 flex w-full justify-center gap-2",children:qp.map((e,n)=>Q.jsx("button",{onClick:()=>t(n),className:`h-3 w-3 rounded-full transition-colors ${n===r?"bg-neutral-50":"bg-neutral-500"}`},n))}),OO=()=>Q.jsxs(Q.Fragment,{children:[Q.jsx("div",{className:"pointer-events-none absolute bottom-0 left-0 top-0 w-[10vw] max-w-[100px]"}),Q.jsx("div",{className:"pointer-events-none absolute bottom-0 right-0 top-0 w-[10vw] max-w-[100px]"})]});function NO(){return Q.jsx("div",{className:"flex flex-col items-center justify-center h-screen",id:"fotitos",children:Q.jsxs("div",{className:"w-full lg:max-w-4xl text-center",children:[Q.jsxs("div",{className:"inline-block",children:[Q.jsx("div",{className:"p-4 rounded-full bg-pink-100  w-1/6 justify-self-center mb-6",children:Q.jsx("h1",{className:"text-pink-400",children:"Fotitos"})}),Q.jsx("p",{className:"text-gray-400 mb-5",children:"Fotitos de juegos porque la gente de internet esta bien loca y me da miedo, vere si puedo poner mas porque tengo limitado el espacio creo jsjsjs"})]}),Q.jsx(DO,{})]})})}function jO(){return Q.jsx("div",{className:"flex flex-col items-center justify-center h-screen",id:"nosotros",children:Q.jsx("div",{className:"w-full lg:max-w-4xl text-center",children:Q.jsxs("div",{className:"inline-block",children:[Q.jsx("h1",{className:"text-4xl sm:text-6xl lg:text-7xl tracking-wide bg-gradient-to-r from-[#f9a8d4] to-[#f5d4e6] text-transparent bg-clip-text p-2 whitespace-nowrap overflow-hidden",children:"TamaliDream"}),Q.jsx("p",{className:"my-5 text-center text-gray-400",children:"Solo quería decirte lo increíble que es estar contigo. En este tiempo juntos, hemos creado algo tan bonito que no puedo evitar sentirme afortunado. Somos un equipo muy cabron y eso me hace sentir que estamos hechos el uno para el otro. Amo cada momento contigo: jugar videojuegos, hablar por horas, ver películas, ya sea en casa o en el cine… todo contigo es especial. Pero lo que más admiro de ti es tu pasión por la música. Verte tocar el ukulele, la guitarra, el piano, o escucharte cantar, me llena de un vergo orgullo. Eres chingona Te amo más de lo que las palabras pueden explicar, de aquí a muchos universos. No importa dónde o cuándo, siempre te voy a elegir. Gracias por ser tú, por hacer mi vida mejor y por ser la mejor compañera que podría pedir."})]})})})}function VO(){return Q.jsxs("div",{children:[Q.jsx(yk,{}),Q.jsxs("div",{children:[Q.jsx(jO,{}),Q.jsx(NO,{}),Q.jsx(oD,{})]})]})}ak.createRoot(document.getElementById("root")).render(Q.jsx($.StrictMode,{children:Q.jsx(VO,{})}));
